(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1044:function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"b",(function(){return f}));var r,o=e(5),a=e(35),i=e(116),c=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),u=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},l=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},s=function(t){function n(n){var e=t.call(this)||this;return e.id="MOVE_TO_FLOOR",e.payload=n,e}return c(n,t),n}(o.a),f=function(t,n,e){t.market.waitForData(a.b).then((function(e){return n.addBinding(s,(function(n){return u(void 0,void 0,void 0,(function(){var r,o;return l(this,(function(a){switch(a.label){case 0:if("number"!=typeof n.floorIndex||n.floorIndex<0)throw Error("floor index must be a non-negative number");a.label=1;case 1:return a.trys.push([1,3,,4]),r="boolean"==typeof n.moveCamera&&!n.moveCamera,o=r?250:void 0,[4,t.commandBinder.issueCommand(new i.a(n.floorIndex,r,o))];case 2:return a.sent(),[2,e.currentFloor];case 3:throw a.sent(),Error("Could not move to floor at index "+n.floorIndex);case 4:return[2]}}))}))}))})),e.addCommandToInterface({version:"3.x",namespace:"Floor",name:"moveTo",args:["floorIndex","moveCamera"]},(function(t){return new s(t)}))}},1045:function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"b",(function(){return f}));var r,o=e(5),a=e(345),i=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),c=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},u=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},l=function(t){function n(n){var e=t.call(this)||this;return e.id="MATTERTAG_OPEN",e.payload={tag:n},e}return i(n,t),n}(o.a),s=function(t){function n(n){var e=t.call(this)||this;return e.id="MATTERTAG_CLOSE",e.payload={tag:n},e}return i(n,t),n}(o.a),f=function(t,n,e){return c(void 0,void 0,void 0,(function(){var r=this;return u(this,(function(o){return e.addCommandToInterface({version:"3.x",namespace:"Mattertag",name:"closeBillboards",args:["tag"]},(function(t){return new s(t.tag)})),t.getModule(a.default).then((function(t){n.addBinding(l,(function(n){return c(r,void 0,Promise,(function(){return u(this,(function(e){return t.openBillboard(n.tag),[2]}))}))}))})),t.getModule(a.default).then((function(t){n.addBinding(s,(function(n){return c(r,void 0,Promise,(function(){return u(this,(function(e){return t.closeBillboard(n.tag),[2]}))}))}))})),[2]}))}))}},1051:function(t,n,e){"use strict";e.d(n,"a",(function(){return c}));var r,o=e(5),a=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),i=function(){return(i=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},c=function(t){function n(n){var e=t.call(this)||this;return e.payload=i({},n),e}return a(n,t),n}(o.a)},1528:function(t,n,e){"use strict";e.r(n);var r,o,a=e(70),i=e(458),c=function(t,n){n.addEnumToInterface({version:"3.x",namespace:"App",name:"Phase",values:i.b});var e=[void 0],r=function(t){return e[0]=Object(i.e)(t.phase),e};t.subscribe(a.a,(function(t){n.broadcast(i.a.PHASE_CHANGE,r,t)}))},u=function(t,n){n.addEnumToInterface({version:"3.x",namespace:"App",name:"Application",values:i.c}),n.addEnumToInterface({version:"3.x",namespace:"App",name:"Event",values:i.a});var e=[void 0],r=function(t){return e[0]=Object(i.f)(t.application),e};t.subscribe(a.b,(function(t){n.broadcast(i.a.APP_CHANGE,r,t)}))},l=e(569),s=e(5),f=e(210),d=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),p=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},h=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},y=function(t){function n(){var n=t.call(this)||this;return n.id="GET_APP_STATE",n}return d(n,t),n}(s.a),v=function(t,n,e){t.getModule(f.default).then((function(t){n.addBinding(y,(function(n){return p(void 0,void 0,void 0,(function(){var n;return h(this,(function(e){try{return n=t.getData(),[2,{phase:Object(i.e)(n.phase),application:Object(i.f)(n.application)}]}catch(t){throw Error("Error: Can't get application data at this time")}return[2]}))}))}))})),e.addCommandToInterface({version:"3.x",namespace:"App",name:"getState",args:[]},(function(){return new y}))},b=e(12),m=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),w=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},g=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},x=function(t){function n(){var n=t.call(this)||this;return n.id="GET_APP_PHASE_TIMES",n}return m(n,t),n}(s.a),_=function(t,n,e){n.addBinding(x,(function(){return w(void 0,void 0,void 0,(function(){var n,e,r,o,a,c;return g(this,(function(u){switch(u.label){case 0:return(n={})[i.b.WAITING]=null,n[i.b.LOADING]=null,n[i.b.STARTING]=null,n[i.b.PLAYING]=null,n[i.b.ERROR]=null,e=n,[4,t.market.waitForData(b.c)];case 1:for(o in(r=u.sent()).phaseTimes)a=Number(o),(c=Object(i.e)(a))&&(e[c]=r.phaseTimes[a]);return[2,e]}}))}))})),e.addCommandToInterface({version:"3.x",namespace:"App",name:"getLoadTimes",args:[]},(function(){return new x}))},O=e(457),T=e(30),E=e(454),I=e(455),S=e(465),P=function(t,n){var e=O.a.create(new E.a(t.market.waitForData(b.c)),(function(t,n){return n.onChanged(t)}),new I.a(A));n.addObservableToInterface({version:"3.1",namespace:"App",name:"state"},e)},A=function(){function t(){this._data={phase:i.b.UNINITIALIZED,phaseTimes:{},application:i.c.SHOWCASE}}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return!Object(T.b)(this,t)},t.prototype.copy=function(t){this._data.phase=t.data.phase,Object(S.a)(this.data.phaseTimes,t.data.phaseTimes),this._data.application=t.data.application},t.prototype.update=function(t){this._data.phase=Object(i.e)(t.phase),this._data.application=Object(i.f)(t.application),this._data.phaseTimes[i.b.WAITING]=t.phaseTimes[b.a.WAITING],this._data.phaseTimes[i.b.LOADING]=t.phaseTimes[b.a.LOADING],this._data.phaseTimes[i.b.PLAYING]=t.phaseTimes[b.a.PLAYING],this._data.phaseTimes[i.b.STARTING]=t.phaseTimes[b.a.STARTING],this._data.phaseTimes[i.b.UNINITIALIZED]=t.phaseTimes[b.a.UNINITIALIZED],this._data.phaseTimes[i.b.ERROR]=t.phaseTimes[b.a.ERROR]},t}();!function(t){t.FORWARD="FORWARD",t.LEFT="LEFT",t.RIGHT="RIGHT",t.BACK="BACK",t.UP="UP",t.DOWN="DOWN"}(o||(o={}));var k,D=e(3),j={FORWARD:D.b.FORWARD.clone(),LEFT:D.b.LEFT.clone(),RIGHT:D.b.RIGHT.clone(),BACK:D.b.BACK.clone(),UP:D.b.UP.clone(),DOWN:D.b.DOWN.clone()},C=e(217),M=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),N=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},R=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},G=function(t,n,e){t.getModule(C.default).then((function(t){return n.addBinding(L,(function(n){return N(void 0,void 0,void 0,(function(){var e,r,a;return R(this,(function(i){switch(i.label){case 0:if(e=Object.keys(o),-1===(r=e.indexOf(n.direction)))throw new Error(n.direction+" is not a valid direction");return a=e[r],[4,t.navigateInLocalDirection(j[a])];case 1:return i.sent(),[2]}}))}))}))}));e.addEnumToInterface({version:"3.x",namespace:"Camera",name:"Direction",values:o}),e.addCommandToInterface({version:"3.x",namespace:"Camera",name:"moveInDirection",args:["direction"]},(function(t){return new L(t||{})}))},L=function(t){function n(n){var e=t.call(this)||this;return e.id="MOVE_DIRECTION",e.payload=n,e}return M(n,t),n}(s.a),F=e(32),B=e(18),z=e(15),H=e(17),U=e(0),V=e(1);!function(t){t.INSIDE="mode.inside",t.OUTSIDE="mode.outside",t.DOLLHOUSE="mode.dollhouse",t.FLOORPLAN="mode.floorplan",t.TRANSITIONING="mode.transitioning"}(k||(k={}));var W,J,Z,K=function(t,n){switch(t){case V.a.Panorama:return n?k.INSIDE:k.OUTSIDE;case V.a.Dollhouse:return k.DOLLHOUSE;case V.a.Floorplan:return k.FLOORPLAN;case V.a.Transition:return k.TRANSITIONING;case V.a.Outdoor:return k.OUTSIDE;default:return k.INSIDE}},Y=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),q=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},X=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Q=function(t){function n(){var n=t.call(this)||this;return n.id="GET_POSE",n}return Y(n,t),n}(s.a),$=function(t,n,e){Promise.all([t.market.waitForData(B.a),t.market.waitForData(z.a),t.market.waitForData(H.a)]).then((function(t){var e=t[0],r=t[1],o=t[2],a={position:{x:0,y:0,z:0},rotation:{x:0,y:0},projection:new Float32Array(16),sweep:"",mode:F.b.TRANSITIONING};n.addBinding(Q,(function(){return q(void 0,void 0,void 0,(function(){return X(this,(function(t){return[2,tt(a,e,r,o)]}))}))}))})),e.addCommandToInterface({version:"3.x",namespace:"Camera",name:"getPose",args:[]},(function(){return new Q}))},tt=function(t,n,e,r){var o=(new U.A).setFromQuaternion(n.pose.rotation,"YXZ"),a=e.currentSweep&&e.isSweepUnaligned(e.currentSweep);return t.position.x=n.pose.position.x,t.position.y=n.pose.position.y,t.position.z=n.pose.position.z,t.rotation.x=U.ib.radToDeg(o.x),t.rotation.y=U.ib.radToDeg(o.y),t.projection=Float32Array.from(n.pose.projection.asThreeMatrix4().transpose().elements),t.sweep=e.currentSweep,t.mode=K(r.currentMode,!a),t},nt=e(154),et=e(60),rt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ot=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},at=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},it=function(t,n,e){Promise.all([t.getModule(nt.default),t.getModule(et.default)]).then((function(t){var e=t[0],r=t[1];n.addBinding(ct,(function(t){return ot(void 0,void 0,void 0,(function(){var n,o,a,i,c,u;return at(this,(function(l){switch(l.label){case 0:return n=r.getData(!1),o=n.pose.position,a=t.x-o.x,i=t.z-o.z,c=new U.Ic(a,i),u=c.length(),c.setLength(.005),[4,e.startTranslateTransition(u/.005,c,!1)];case 1:return l.sent(),[2]}}))}))}))}));e.addCommandToInterface({version:"3.x",namespace:"Camera",name:"pan",args:["position"]},(function(t){if((t=t||{}).position=t.position||{},t.position.x=t.position.x-0,t.position.z=t.position.z-0,isNaN(t.position.x)||isNaN(t.position.z))throw new Error(JSON.stringify(t)+" does not contain a valid position to pan");return new ct({x:t.position.x,z:t.position.z})}))},ct=function(t){function n(n){var e=t.call(this)||this;return e.id="PAN",e.payload={x:n.x,z:n.z},e}return rt(n,t),n}(s.a),ut=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),lt=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},st=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},ft=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,a=e.call(t),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return i},dt=U.ib.degToRad(80)/1e3,pt=function(t,n,e){Promise.all([t.getModule(nt.default),t.market.waitForData(B.a),t.market.waitForData(H.a)]).then((function(t){var e=ft(t,3),r=e[0],o=e[1],a=e[2];n.addBinding(vt,(function(t){return lt(void 0,void 0,void 0,(function(){return st(this,(function(n){switch(n.label){case 0:return[4,ht(r,t)];case 1:return[2,n.sent()]}}))}))})),n.addBinding(bt,(function(t){return lt(void 0,void 0,void 0,(function(){return st(this,(function(n){switch(n.label){case 0:return[4,yt(o,r,a,t)];case 1:return[2,n.sent()]}}))}))}))}));var r=function(t){var n=(t=t||{}).options||{},e=U.ib.degToRad(t.xAngle||0),r=U.ib.degToRad(t.yAngle||0),o=U.ib.degToRad(t.zAngle||0),a=dt;if(n.speed){if(isNaN(n.speed)||n.speed<=0)throw new Error(JSON.stringify(n)+" does not contain valid rotation speed");a=U.ib.degToRad(n.speed)/1e3}if(isNaN(e)||isNaN(r)||isNaN(o))throw new Error(JSON.stringify(t)+" does not contain valid rotation angles");return{xAngle:e,yAngle:r,zAngle:o,rotationSpeed:a}};e.addCommandToInterface({version:"3.x",namespace:"Camera",name:"rotate",args:["xAngle","yAngle","options"]},(function(t){return new vt(r(t))})),e.addCommandToInterface({version:"3.x",namespace:"Camera",name:"setRotation",args:["rotation","options"]},(function(t){var n=(t=t||{}).rotation||{};return new bt(r({xAngle:n.x,yAngle:n.y,zAngle:n.z,options:t.options}))}))},ht=function(t,n){return lt(void 0,void 0,void 0,(function(){var e,r,o,a,i,c,u,l,s,f,d,p,h,y;return st(this,(function(v){return e=n.rotationSpeed,r=0,o=Math.abs(n.xAngle),a=Math.abs(n.yAngle),(i=Math.max(o,a))>=Math.PI?(c=i/Math.PI,u=Math.floor(c),f=o-(l=o/c)*u,d=a-(s=a/c)*u,p=Math.acos(Math.cos(l)*Math.cos(s))*u,h=Math.acos(Math.cos(f)*Math.cos(d)),r=p+h):r=Math.acos(Math.cos(Math.abs(n.xAngle))*Math.cos(Math.abs(n.yAngle))),r?((y=new U.Ic(-n.xAngle,n.yAngle)).multiplyScalar(e/r),[2,t.startRotateTransition(r/e,y,!1)]):[2]}))}))},yt=(W=new U.A,J=new U.A,function(t,n,e,r){return lt(void 0,void 0,void 0,(function(){var o,a,i,c;return st(this,(function(u){if(e.currentMode!==V.a.Panorama)throw Error("Camera.setRotation is only available in Panorama mode");return o=r.xAngle%(.5*Math.PI),a=r.yAngle%(2*Math.PI),i=t.pose.rotation,W.setFromQuaternion(i,"YXZ"),c=a-W.y,Math.abs(c)>Math.PI&&(c-=2*Math.sign(c)*Math.PI),J.set(o-W.x,c,0,"YXZ"),J.y%=2*Math.PI,[2,ht(n,{xAngle:-J.y,yAngle:J.x,zAngle:0,rotationSpeed:r.rotationSpeed})]}))}))}),vt=function(t){function n(n){var e=t.call(this)||this;return e.id="ROTATE",e.payload={xAngle:n.xAngle,yAngle:n.yAngle,zAngle:n.zAngle,rotationSpeed:n.rotationSpeed},e}return ut(n,t),n}(s.a),bt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return ut(n,t),n}(vt),mt=e(460),wt=e(412),gt=e(278),xt=e(7),_t=e(127),Ot=e(2),Tt=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},Et=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},It=new Ot.a("command.zoom"),St=function(t,n,e){var r=new E.a(t.market.waitForData(B.a),t.market.waitForData(H.a),t.getModule(wt.default)),o=mt.a.create(r,new I.a(Pt,n)),a=mt.a.create(r,new I.a(At,n)),i=mt.a.create(r,new I.a(kt,n));e.addCommand({namespace:"Camera",name:"zoomTo",args:["zoomPct"],version:"3.4"},o),e.addCommand({namespace:"Camera",name:"zoomBy",args:["zoomDelta"],version:"3.4"},a),e.addCommand({namespace:"Camera",name:"zoomReset",args:[],version:"3.4"},i)},Pt=function(){function t(t){this.commandBinder=t}return t.prototype.validateInput=function(t){var n=t.zoomPct-0;if(isNaN(n))throw Error(n+" is not a valid zoom level");return n<_t.a.minZoom&&_t.a.maxHighResZoom<n&&(t.zoomPct=Object(xt.e)(n,_t.a.minZoom,_t.a.maxHighResZoom),It.warn(n,"is outside the valid zoom range of ["+_t.a.minZoom+", "+_t.a.maxHighResZoom+"]")),t},t.prototype.exec=function(t,n,e,r){return Tt(this,void 0,void 0,(function(){return Et(this,(function(o){switch(o.label){case 0:return Dt(r.currentMode),[4,this.commandBinder.issueCommand(new gt.e(t.zoomPct))];case 1:return o.sent(),n.onComplete(e.zoom()),[2]}}))}))},t}(),At=function(){function t(t){this.commandBinder=t}return t.prototype.validateInput=function(t){var n=t.zoomDelta-0;if(isNaN(n))throw Error(n+" is not a valid zoom delta");return t.zoomDelta=n||0,t},t.prototype.exec=function(t,n,e,r){return Tt(this,void 0,void 0,(function(){return Et(this,(function(o){switch(o.label){case 0:return Dt(r.currentMode),[4,this.commandBinder.issueCommand(new gt.b(t.zoomDelta))];case 1:return o.sent(),n.onComplete(e.zoom()),[2]}}))}))},t}(),kt=function(){function t(t){this.commandBinder=t}return t.prototype.validateInput=function(t){return t},t.prototype.exec=function(t,n,e,r){return Tt(this,void 0,void 0,(function(){return Et(this,(function(t){switch(t.label){case 0:return Dt(r.currentMode),[4,this.commandBinder.issueCommand(new gt.d)];case 1:return t.sent(),n.onComplete(),[2]}}))}))},t}();function Dt(t){if(t!==V.a.Panorama)throw Error("Zoom controls are currently only supported in Panorama mode")}!function(t){t.MOVE="camera.move"}(Z||(Z={}));var jt=new Ot.a("broadcast.move"),Ct=function(t,n){Promise.all([t.market.waitForData(B.a),t.market.waitForData(z.a),t.market.waitForData(H.a)]).then((function(t){var e,r,o,a=t[0],i=t[1],c=t[2],u=[{position:{x:0,y:0,z:0},rotation:{x:0,y:0},projection:new Float32Array(16),sweep:"",mode:F.b.TRANSITIONING}],l=(e=0,r=!1,o=function(){return tt(u[0],a,i,c),u},function(){var t=Date.now(),a=e+100;if(t>a){r=!1,e=t;try{n.broadcast(Z.MOVE,o)}catch(t){jt.debug("failed to broadcast pose, one of the module dependencies are probably not loaded yet")}}else r||(setTimeout((function(){return l()}),a-t),r=!0)});a.onChanged(l),c.onChanged(l)})),n.addEnumToInterface({version:"3.x",namespace:"Camera",name:"Event",values:Z})},Mt=e(65),Nt=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Rt=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},Gt=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Lt=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,a=e.call(t),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return i},Ft=U.ib.degToRad(40)/1e3,Bt=function(t){function n(n){var e=t.call(this)||this;return e.payload=n,e}return Nt(n,t),n}(s.a);function zt(t,n,e){Promise.all([t.getModule(nt.default)]).then((function(e){var r=Lt(e,1)[0];n.addBinding(Bt,(function(n){return void 0===n&&(n={}),Rt(this,void 0,void 0,(function(){var e,o,a,i,c,u,l,s;return Gt(this,(function(f){if(!(e=t.market.tryGetData(H.a))||!e.isPano())throw Error("Camera.lookAtScreenCoords must be called from Inside mode");if(!(o=t.market.tryGetData(B.a)))throw Error("Error resolving current pose");return a=Object(Mt.d)(n.x,n.y,o.width,o.height),i=D.b.FORWARD.clone().applyQuaternion(o.pose.rotation),c=Object(Mt.b)(o,new U.Ic(a.x,a.y),1).normalize(),u=i.clone().setY(0).angleTo(c.clone().setY(0)),l=Math.asin(c.y-i.y),s=u*Math.sign(a.x),[2,ht(r,{xAngle:s,yAngle:l,zAngle:0,rotationSpeed:Ft})]}))}))}))})),e.addCommandToInterface({version:"3.x",namespace:"Camera",name:"lookAtScreenCoords",args:["x","y"]},(function(t){if(void 0===t&&(t={}),t.x=t.x||0,t.y=t.y||0,isNaN(t.x)||isNaN(t.y))throw new Error(JSON.stringify(t)+" does not contain valid screen coordinates");return new Bt({x:t.x,y:t.y})}))}var Ht,Ut=e(182),Vt=e(274),Wt=function(t,n){var e=O.a.create(new E.a(t.market.waitForData(B.a),t.market.waitForData(z.a),t.market.waitForData(H.a)),(function(t,n,e,r){return new Ut.a((function(){}),(function(t){n.onChanged(t),e.onChanged(t),r.onChanged(t)}),(function(t){n.removeOnChanged(t),e.removeOnChanged(t),r.removeOnChanged(t)})).createSubscription(t,!0)}),new I.a(Jt));n.addObservableToInterface({version:"3.1",namespace:"Camera",name:"pose"},e)},Jt=function(){function t(){this._data={position:{x:0,y:0,z:0},rotation:{x:0,y:0},projection:new Float32Array(16),sweep:"",mode:k.TRANSITIONING}}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return Object(Vt.d)(t._data.position,this._data.position,1e-5)&&Object(Vt.c)(t._data.rotation,this._data.rotation,1e-5)&&Object(Vt.b)(t._data.projection,this._data.projection,1e-5)&&t._data.sweep===this._data.sweep&&t._data.mode===this._data.mode},t.prototype.update=function(t,n,e){var r=(new U.A).setFromQuaternion(t.pose.rotation,"YXZ"),o=n.currentSweep&&n.isSweepUnaligned(n.currentSweep);Object(S.d)(this._data.position,t.pose.position),this._data.rotation.x=U.ib.radToDeg(r.x),this._data.rotation.y=U.ib.radToDeg(r.y),this._data.projection=Float32Array.from(t.pose.projection.asThreeMatrix4().transpose().elements),this._data.sweep=n.currentSweep,this._data.mode=K(e.currentMode,!o)},t.prototype.copy=function(t){Object(S.d)(this._data.position,t.data.position),Object(S.c)(this._data.rotation,t.data.rotation),Object(S.b)(this._data.projection,t.data.projection),this._data.sweep=t.data.sweep,this._data.mode=t.data.mode},t}(),Zt=function(t,n){var e=O.a.create(new E.a(t.market.waitForData(B.a),t.market.waitForData(H.a)),(function(t,n){return n.onChanged(t)}),new I.a(Kt));n.addObservableToInterface({namespace:"Camera",name:"zoom",version:"3.4"},e)},Kt=function(){function t(){this._data={level:1}}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return this._data.level===t.data.level},t.prototype.copy=function(t){this._data.level=t.data.level},t.prototype.update=function(t,n){n.currentMode===V.a.Panorama&&(this._data.level=t.zoom())},t}(),Yt=e(415),qt=e(25),Xt=e(1051),Qt=e(28),$t=e(91),tn=e(268),nn=e(108),en=e(88),rn=e(113),on=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},an=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},cn=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,a=e.call(t),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return i},un=new U.Jc,ln=new U.Jc,sn=new U.Hb(D.b.DOWN,0),fn=function(t,n,e){var r=Promise.all([t.getModule(qt.default),t.market.waitForData(B.a),t.market.waitForData(H.a),t.getModule($t.default),t.getModule(tn.default)]).then((function(e){var r=cn(e,5),o=r[0],a=r[1],i=r[2],c=r[3],u=function(t){var n=t.getFloorMins();return function(t){var e=0;return n.every((function(n,r){return e=r,t>n})),t>n[n.length-1]&&e++,e-1}}(r[4]);return n.addBinding(Xt.a,(function(n){return on(void 0,void 0,void 0,(function(){var e,r,l,s,f,d,p,h,y,v,b,m;return an(this,(function(w){switch(w.label){case 0:return[4,t.after(en.a.End)];case 1:return w.sent(),e=o.getScene().camera,r=n.screenPosition,l=Object(Mt.d)(r.x,r.y,a.width,a.height),s=null,f=-1,un.set(l.x,l.y,-1).unproject(e),ln.set(l.x,l.y,1).unproject(e),d=void 0!==n.includeHiddenFloors&&n.includeHiddenFloors,p=c.picking.cast(un,ln.clone().sub(un).normalize(),d?rn.b:rn.c),(h=p[0])&&h.object instanceof nn.a&&(s=h&&h.point||null,"floorIndex"in h.object?f=h.object.floorIndex:s&&(f=u(s.y))),void 0===n.height?[3,3]:(v=(y=un).copy,[4,t.market.waitForData(B.a)]);case 2:v.apply(y,[w.sent().pose.position]),b=Object(Mt.b)(a,l),i.currentMode!==V.a.Floorplan?(m=Object(Qt.j)(un,b),sn.set(D.b.DOWN,n.height),s=Object(Qt.h)(un,m,sn)||null):(b.y=n.height,s=b),w.label=3;case 3:return[2,{position:s,floor:f}]}}))}))}))}));return e.addCommandToInterface({version:"3.x",namespace:"Renderer",name:"getWorldPositionData",args:["screenPosition","height","includeHiddenFloors"]},(function(t){return new Xt.a(t)})),r},dn=e(910),pn=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},hn=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},yn=function(t,n,e){t.market.waitForData(B.a).then((function(t){n.addBinding(dn.a,(function(n){return pn(void 0,void 0,void 0,(function(){return hn(this,(function(e){return[2,Object(Mt.g)(t,n.worldPosition).screenPosition]}))}))}))})),e.addCommandToInterface({version:"3.x",namespace:"Renderer",name:"getScreenPosition",args:["worldPosition"]},(function(t){return new dn.a(t)}))},vn=e(35),bn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),mn=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},wn=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},gn=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.id="GET_FLOORS_DATA",n}return bn(n,t),n}(s.a),xn=function(t,n,e){return mn(void 0,void 0,void 0,(function(){var r=this;return wn(this,(function(o){return n.addBinding(gn,(function(){return mn(r,void 0,void 0,(function(){return wn(this,(function(n){return[2,t.market.waitForData(vn.b).then((function(t){return _n(t)}))]}))}))})),e.addCommandToInterface({version:"3.x",namespace:"Floor",name:"getData",args:[]},(function(){return new gn})),[2]}))}))},_n=function(t){return mn(void 0,void 0,void 0,(function(){var n,e,r;return wn(this,(function(o){try{return n=t.currentFloor,e=t.totalFloors,r=t.getFloorNames(),[2,{currentFloor:n,floorNames:r,totalFloors:e}]}catch(t){throw Error("no floors currently loaded")}return[2]}))}))},On=e(1044);!function(t){t.CHANGE_START="floors.changestart",t.CHANGE_END="floors.changeend"}(Ht||(Ht={}));var Tn,En=e(320),In=e(164),Sn=function(t,n){n.addEnumToInterface({version:"3.x",namespace:"Floor",name:"Event",values:Ht});var e=[-1,-1],r=function(t){return e[0]=t.to,e[1]=t.from,e};t.subscribe(En.a,(function(t){return n.broadcast(Ht.CHANGE_START,r,t)}));var o=[-1,""],a=function(t){return o[0]=t.floorIndex,o[1]=t.floorName,o};t.subscribe(In.a,(function(t){return n.broadcast(Ht.CHANGE_END,a,t)}))},Pn=e(909),An=e(244),kn=function(){return(kn=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},Dn=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}},jn=function(t,n){var e,r,o=n.getCollection(),a=[],i=new U.Ic;try{for(var c=Dn(o),u=c.next();!u.done;u=c.next()){var l=u.value;Object(Mt.g)(t,l.position,i);var s=Object(T.a)(l);a.push(kn({},s,{position:(new U.Jc).copy(l.position),screenPosition:i}))}}catch(t){e={error:t}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}return a},Cn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Mn=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},Nn=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Rn=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.id="LABEL_GET",n}return Cn(n,t),n}(s.a),Gn=function(t,n,e){n.addBinding(Rn,(function(){return Mn(void 0,void 0,void 0,(function(){return Nn(this,(function(n){return[2,Promise.all([t.market.waitForData(B.a),t.market.waitForData(An.a)]).then((function(t){return jn(t[0],t[1])}))]}))}))})),e.addCommandToInterface({version:"3.x",namespace:"Label",name:"getData",args:[]},(function(){return new Rn}))};!function(t){t.VISIBILITY_CHANGED="label.visibilitychange",t.POSITION_UPDATED="label.positionupdated"}(Tn||(Tn={}));var Ln,Fn=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,a=e.call(t),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return i},Bn=function(t,n){n.addEnumToInterface({version:"3.x",namespace:"Label",name:"Event",values:Tn}),Promise.all([t.market.waitForData(B.a),t.market.waitForData(An.a),t.market.waitForData(H.a)]).then((function(t){var e=Fn(t,3),r=e[0],o=e[1],a=e[2],i=function(){return[jn(r,o)]};r.onChanged((function(t){a.currentMode===V.a.Floorplan&&n.broadcast(Tn.POSITION_UPDATED,i,t)}))}))},zn=e(202),Hn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Un=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},Vn=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Wn=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.id="MEASUREMENTS_GET",n}return Hn(n,t),n}(s.a),Jn=function(t,n,e){n.addBinding(Wn,(function(){return Un(void 0,void 0,void 0,(function(){return Vn(this,(function(n){return[2,t.market.waitForData(zn.a).then((function(t){return Zn(t)}))]}))}))})),e.addCommandToInterface({version:"3.x",namespace:"Measurements",name:"getData",args:[]},(function(){return new Wn}))},Zn=function(t){return Un(void 0,void 0,void 0,(function(){var n;return Vn(this,(function(e){return n=[],t.iterate((function(t){n.push({sid:t.sid,label:t.text,floor:t.floor,start:{x:t.start_position.x,y:t.start_position.y,z:t.start_position.z},end:{x:t.end_position.x,y:t.end_position.y,z:t.end_position.z}})})),[2,n]}))}))},Kn=e(162),Yn=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),qn=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},Xn=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Qn=function(t){function n(n){var e=t.call(this)||this;return e.id="MEASUREMENT_TOGGLE",e.payload={active:n},e}return Yn(n,t),n}(s.a),$n=function(t,n,e){n.addBinding(Qn,(function(t){return qn(void 0,void 0,void 0,(function(){return Xn(this,(function(e){return[2,n.issueCommand(new Kn.f(t.active))]}))}))})),e.addCommandToInterface({namespace:"Measurements",name:"toggleMode",args:["active"],version:"3.3"},(function(t){return new Qn(t.active)}))},te=e(135),ne=function(t,n){var e=O.a.create(new E.a(t.market.waitForData(te.MeasurementModeData)),(function(t,n){return n.onPhaseChanged(t)}),new I.a(ee));n.addObservableToInterface({namespace:"Measurements",name:"mode",version:"3.3"},e)},ee=function(){function t(){this._data={active:!1}}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return this._data.active===t.data.active},t.prototype.copy=function(t){this._data.active=t.data.active},t.prototype.update=function(t){this._data.active=t.modeActive()},t}(),re=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},oe=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},ae=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,a=e.call(t),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return i},ie=function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(ae(arguments[n]));return t},ce=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}},ue=function(){function t(t,n,e){this.dependencies=t,this.subscribeToChanges=n,this.observers=new Set,this.currentData=e.create(),this.freshData=e.create()}return t.create=function(n,e,r){return re(this,void 0,Promise,(function(){return oe(this,(function(o){switch(o.label){case 0:return[4,n.getDependencies()];case 1:return[2,new t(o.sent(),e,r)]}}))}))},t.prototype.getData=function(){return this.currentData.data},t.prototype.observe=function(t){var n=this;return this.addObserver(t),{renew:function(){return n.addObserver(t)},cancel:function(){return n.removeObserver(t)}}},t.prototype.addObserver=function(t){var n=function(){function t(t){this.sdkCollection=t}return t.prototype.onChanged=function(){var t,n,e,r,o,a,i=this.sdkCollection,c=i.freshData,u=i.currentData,l=i.dependencies;for(var s in c.update.apply(c,ie(l)),c.data)if(u.data.hasOwnProperty(s)){if(!u.isItemEqual(c,s))try{for(var f=ce(this.sdkCollection.observers),d=f.next();!d.done;d=f.next()){d.value.onUpdated(s,c.data[s])}}catch(t){e={error:t}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}}else try{for(var p=ce(this.sdkCollection.observers),h=p.next();!h.done;h=p.next()){h.value.onAdded(s,c.data[s])}}catch(n){t={error:n}}finally{try{h&&!h.done&&(n=p.return)&&n.call(p)}finally{if(t)throw t.error}}for(var s in u.data)if(!c.data.hasOwnProperty(s))try{for(var y=ce(this.sdkCollection.observers),v=y.next();!v.done;v=y.next()){v.value.onRemoved(s)}}catch(t){o={error:t}}finally{try{v&&!v.done&&(a=y.return)&&a.call(y)}finally{if(o)throw o.error}}var b=u;this.sdkCollection.currentData=this.sdkCollection.freshData,this.sdkCollection.freshData=b},t}();if(!this.observers.has(t))if(this.observers.add(t),1===this.observers.size){var e=new n(this);this.changeSubscription=this.subscribeToChanges.apply(this,ie([e],this.dependencies)),e.onChanged()}else for(var r in this.currentData.data)t.onAdded(r,this.currentData.data[r])},t.prototype.removeObserver=function(t){0!==this.observers.size&&(this.observers.delete(t),0===this.observers.size&&(this.changeSubscription.cancel(),this.currentData.clear()))},t}(),le=e(462),se=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}},fe=function(t,n){var e=new E.a(t.market.waitForData(te.MeasurementModeData)),r=ue.create(e,(function(t,n){var e=n.groupCount,r=n.phase,o=function(){var o=n.groupCount,a=n.phase;e===o&&r!==te.MeasuringPhase.EDITING||a!==te.MeasuringPhase.IDLE||(t.onChanged(),e=o),r=a};return new le.a(n.onPhaseChanged(o),n.onSelectedGroupIndexChanged(o))}),new I.a(de));n.addCollectionToInterface({namespace:"Measurements",name:"data",version:"3.3"},r)},de=function(){function t(){this.data={}}return t.prototype.update=function(t){var n,e;try{for(var r=se(t.groups()),o=r.next();!o.done;o=r.next()){var a=o.value;this.createMeasurement(a)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}for(var i in this.data){(a=t.getGroupInfoBySid(i))||delete this.data[i]}},t.prototype.isItemEqual=function(t,n){return!Object(T.b)(this.data[n],t.data[n])},t.prototype.clear=function(){this.data={}},t.prototype.createMeasurement=function(t){var n=t.info.sid,e=this.data[n]||{},r=e.points||[];!function(t,n){var e,r,o=0;try{for(var a=se(n),i=a.next();!i.done;i=a.next()){var c=i.value,u=t[o]||{};u.x=c.x,u.y=c.y,u.z=c.z,t[o]=u,++o}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}t.length=o}(r,t),e.sid=n,e.points=r,this.data[n]=e},t}();!function(t){t.HOVER="tag.hover",t.CLICK="tag.click",t.LINK_OPEN="tag.linkopen"}(Ln||(Ln={}));var pe,he=e(137),ye=e(34),ve=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},be=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},me=function(t,n){return ve(void 0,void 0,void 0,(function(){return be(this,(function(e){return n.addEnumToInterface({version:"3.x",namespace:"Mattertag",name:"Event",values:Ln}),t.market.waitForData(ye.c).then((function(e){var r=["",!1],o=function(t){return r[0]=t.sid,r[1]=t.hovering,r};t.subscribe(he.c,(function(t){n.broadcast(Ln.HOVER,o,t)}));var a=[""],i=function(t){return a[0]=t.sid,a};t.subscribe(he.a,(function(t){n.broadcast(Ln.CLICK,i,t)}));var c=["",""],u=function(t){return c[0]=e.openTag,c[1]=t.url,c};t.subscribe(he.d,(function(t){n.broadcast(Ln.LINK_OPEN,u,t)}))})),[2]}))}))},we=e(107),ge=e(129),xe=e(26),_e=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Oe=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},Te=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Ee=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,a=e.call(t),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return i},Ie=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.id="MATTERTAG_GET",n}return _e(n,t),n}(s.a),Se=function(t,n,e){n.addBinding(Ie,(function(){return Oe(void 0,void 0,void 0,(function(){var n,e;return Te(this,(function(r){return n=t.market.waitForData(we.a),e=t.market.waitForData(xe.a),[2,Promise.all([n,e]).then((function(t){var n=Ee(t,2),e=n[0],r=n[1];try{var o=r.tryGetProperty("mls",!1),a=[];return e.iterate((function(t){var n=t.mediaSrc,e=t.mediaType,r=t.mediaType===ge.a.photo;o&&!r&&(n="",e=ge.a.none),a.push({sid:t.sid,label:t.label,description:t.description,parsedDescription:t.parsedDescription,mediaSrc:n,mediaType:e,media:{type:e,src:n},anchorPosition:{x:t.anchorPosition.x,y:t.anchorPosition.y,z:t.anchorPosition.z},anchorNormal:{x:t.anchorNormal.x,y:t.anchorNormal.y,z:t.anchorNormal.z},color:{r:t.color.r,g:t.color.g,b:t.color.b},enabled:t.enabled,floorId:t.floorIndex,stemVector:{x:t.stemVector.x,y:t.stemVector.y,z:t.stemVector.z},stemHeight:t.stemHeight,stemVisible:t.stemVisible})})),a}catch(t){throw Error("problem getting tag data")}}))]}))}))})),e.addCommandToInterface({version:"3.x",namespace:"Mattertag",name:"getData",args:[]},(function(){return new Ie}))},Pe=e(908),Ae=e(565),ke=e(1045);!function(t){t.LABEL="label",t.DESCRIPTION="description",t.MEDIA_SRC="mediaSrc"}(pe||(pe={}));var De=e(551),je=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ce=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},Me=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Ne=function(t){function n(n,e,r){var o=t.call(this)||this;return o.id="FILTER_MATTERTAGS",o.payload={search:n,category:e,matchCase:r},o}return je(n,t),n}(s.a),Re=function(t,n,e){return Ce(void 0,void 0,void 0,(function(){var e=this;return Me(this,(function(r){return t.market.waitForData(we.a).then((function(t){n.addBinding(Ne,(function(n){return Ce(e,void 0,Promise,(function(){var e;return Me(this,(function(r){return function(t){if("string"!=typeof t.search)throw new Error("Cannot filter without a valid search string");if(t.category&&!Object(De.a)(pe,t.category))throw new Error("Cannot filter an incorrect category")}(n),e=[],t.iterate((function(t){n.matchCase||(n.search=n.search.toLowerCase());var r=!1;[pe.LABEL,pe.DESCRIPTION,pe.MEDIA_SRC].forEach((function(o){if(!(n.category&&n.category!==o||r)){var a=t[o];n.matchCase||(a=a.toLowerCase()),a.includes(n.search)&&(r=!0,e.push(t.sid))}}))})),[2,e]}))}))}))})),[2]}))}))},Ge=e(260),Le=e(376),Fe=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}},Be=new Ot.a("mattertag-util");function ze(t){return!!Object(Le.b)(t)&&(Object(xt.o)(t.r,0,1)||Be.warn("The color provided to Mattertag.editColor should have an r value be in the range of [0, 1]"),Object(xt.o)(t.g,0,1)||Be.warn("The color provided to Mattertag.editColor should have an g value be in the range of [0, 1]"),Object(xt.o)(t.b,0,1)||Be.warn("The color provided to Mattertag.editColor should have an b value be in the range of [0, 1]"),Object(xt.f)(t),!0)}function He(t,n){var e,r,o,a=n.roomIdsFromPoint(t),i=1/0;try{for(var c=Fe(a),u=c.next();!u.done;u=c.next()){var l=u.value,s=n.get(l),f=t.y-s.min.y;f<i&&(i=f,o=s.floorId)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}return o}var Ue,Ve,We,Je=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ze=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},Ke=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};!function(t){t.LABEL="label",t.DESCRIPTION="description",t.MEDIA="media"}(Ve||(Ve={})),function(t){t.NONE="mattertag.media.none",t.PHOTO="mattertag.media.photo",t.VIDEO="mattertag.media.video",t.RICH="mattertag.media.rich"}(We||(We={}));var Ye,qe,Xe=((Ue={})[We.NONE]=ge.a.none,Ue[We.PHOTO]=ge.a.photo,Ue[We.VIDEO]=ge.a.video,Ue[We.RICH]=ge.a.rich,Ue),Qe=function(t){function n(n,e){var r=t.call(this)||this;return r.payload={tagId:n,properties:e},r}return Je(n,t),n}(s.a),$e=function(t){function n(n,e){var r=t.call(this)||this;return r.payload={tagId:n,color:e},r}return Je(n,t),n}(s.a),tr=function(t,n,e){return Ze(void 0,void 0,void 0,(function(){var r=this;return Ke(this,(function(o){return Promise.all([t.market.waitForData(we.a)]).then((function(){n.addBinding(Qe,(function(t){return Ze(r,void 0,void 0,(function(){var e,r,o,a,i;return Ke(this,(function(c){switch(c.label){case 0:if(!t.properties)return[2];if(e=t.properties[Ve.LABEL],r=t.properties[Ve.MEDIA],o=t.properties[Ve.DESCRIPTION],null!=e&&"string"!=typeof e)throw Error("Mattertag.editBillboard only accepts a string for the title field");if(null!=o&&"string"!=typeof o)throw Error("Mattertag.editBillboard only accepts a string for the description field");if(null!=r){if("string"!=typeof r.src)throw Error("Mattertag.editBillboard only accepts a string for the media.src field");if(!Object(De.a)(We,r.type))throw Error("Mattertag.editBillboard only accepts a value from Mattertag.MediaType for the media.type field")}return r&&(a={mediaType:Xe[r.type],mediaSrc:r.src}),i={label:e,description:o},[4,n.issueCommand(new Ge.b(t.tagId,i,a))];case 1:return c.sent(),[2]}}))}))})),n.addBinding($e,(function(t){return Ze(r,void 0,void 0,(function(){var e,r;return Ke(this,(function(o){switch(o.label){case 0:if(null!=(e=t.color)&&!ze(e))throw Error("Mattertag.editColor only accepts a Color object of the form {r, g, b} for the color field");return r={color:(new U.s).setRGB(e.r,e.g,e.b)},[4,n.issueCommand(new Ge.b(t.tagId,r))];case 1:return o.sent(),[2]}}))}))}))})),e.addCommandToInterface({namespace:"Mattertag",name:"editBillboard",args:["tag","values"],version:"3.2"},(function(t){return new Qe(t.tag,t.values)})),e.addCommandToInterface({namespace:"Mattertag",name:"editColor",args:["tag","color"],version:"3.2"},(function(t){return new $e(t.tag,t.color)})),e.addEnumToInterface({namespace:"Mattertag",name:"MediaType",values:We,version:"3.2"}),[2]}))}))},nr=e(263),er=new Ot.a("command.editOpacity"),rr=function(t,n,e){var r=mt.a.create(new E.a(t.market.waitForData(we.a),t.getModule(nr.default)),new I.a(or));e.addCommand({namespace:"Mattertag",name:"editOpacity",args:["sid","opacity"],version:"3.4"},r)},or=function(){function t(){}return t.prototype.validateInput=function(t,n){if("string"!=typeof t.sid||!n.getTag(t.sid))throw Error(t.sid+" is not a valid Mattertag sid");if("number"!=typeof t.opacity||isNaN(t.opacity))throw Error(t.opacity+" is not a valid opacity value");var e=t.opacity;return(e<0||1<e)&&(er.warn(e,"is outside the valid range of [0, 1]"),e=Object(xt.e)(e,0,1)),{sid:t.sid,opacity:e}},t.prototype.exec=function(t,n,e,r){r.changeDiscOpacity(t.sid,t.opacity),n.onComplete()},t}(),ar=e(48),ir=e(239),cr=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ur=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},lr=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},sr=function(t){function n(n){var e=t.call(this)||this;return e.payload=n,e.id="REGISTER_MATTERTAG_ICON",e}return cr(n,t),n}(s.a),fr=function(t){function n(n){var e=t.call(this)||this;return e.payload=n,e.id="EDIT_MATTERTAG_ICON",e}return cr(n,t),n}(s.a),dr=function(t){function n(n){var e=t.call(this)||this;return e.payload=n,e.id="RESET_MATTERTAG_ICON",e}return cr(n,t),n}(s.a),pr=function(t,n,e){return ur(void 0,void 0,void 0,(function(){var r,o,a,i=this;return lr(this,(function(c){return r={},o={},a={},n.addBinding(sr,(function(t){return ur(i,void 0,void 0,(function(){var n,e;return lr(this,(function(a){if(n=t.iconId,!(e=t.iconSrc)||"string"!=typeof e)throw Error("icon src is not a valid string");if(!n||"string"!=typeof n)throw Error("icon id is not a valid string");if(o[n])throw Error(n+" already has a registered icon");return r[n]=new Promise((function(t){var r=Object(ar.a)(e,(function(){o[n]=r,t(r.image)}))})),[2]}))}))})),n.addBinding(fr,(function(n){return ur(i,void 0,void 0,(function(){var e,i,c,u,l,s,f,d,p,h,y,v,b;return lr(this,(function(m){switch(m.label){case 0:return[4,t.getModule(nr.default)];case 1:if(e=m.sent(),i=n.iconId,c=n.tagId,!i||!r[i])throw Error(i+" has not been registered as valid icon id");if(!(u=e.getMeshByTagId(c)))throw Error(c+" is not a valid tag id");return l=u.disc,s=l.geometry,f=l.material,[4,r[i]];case 2:return d=m.sent(),p=o[i],a[c]?f.uniforms.tDiffuse.value=p:(h=f.uniforms.opacity,y=new U.cc({vertexShader:ir.a.basicTextured.vertexShader,fragmentShader:ir.a.basicTextured.fragmentShader,uniforms:{tDiffuse:{value:p},alpha:h,bg:{value:null},mask:{value:null},color:{value:new U.s},opacity:h},transparent:!0}),l.material=y,l.geometry=l.geometry.clone(),a[c]={geometry:s,material:f,scale:new U.Jc(1,1,1)}),v=d.naturalWidth/d.naturalHeight,b=a[c].scale,l.geometry.scale(1/b.x,1/b.y,1),v>1?b.set(v,1,1):b.set(1,1/v,1),l.geometry.scale(b.x,b.y,b.z),[2]}}))}))})),n.addBinding(dr,(function(n){return ur(i,void 0,void 0,(function(){var e,r,o,i,c,u;return lr(this,(function(l){switch(l.label){case 0:return[4,t.getModule(nr.default)];case 1:if(e=l.sent(),r=n.tagId,!(o=e.getMeshByTagId(r)))throw Error(r+" is not a valid tag id");return i=o.disc.material,c=o.disc.geometry,(u=a[r])&&(o.disc.geometry=u.geometry,o.disc.material=u.material,delete a[r],i.dispose(),c.dispose()),[2]}}))}))})),e.addCommandToInterface({namespace:"Mattertag",name:"registerIcon",args:["iconId","iconSrc"],version:"3.3"},(function(t){return new sr(t)})),e.addCommandToInterface({namespace:"Mattertag",name:"editIcon",args:["tagId","iconId"],version:"3.3"},(function(t){return new fr(t)})),e.addCommandToInterface({namespace:"Mattertag",name:"resetIcon",args:["tagId"],version:"3.3"},(function(t){return new dr(t)})),[2]}))}))},hr=e(258),yr=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,a=e.call(t),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return i},vr=function(t,n,e){var r;e.addCommandToInterface({version:"3.2",namespace:"Mattertag",name:"editPosition",args:["sid","options"]},(function(t){if(!r)throw Error("Edit command not bound yet");return r(t)}));var o=new U.Jc;Promise.all([t.market.waitForData(we.a),t.market.waitForData(hr.a)]).then((function(t){var n=yr(t,2),e=n[0],a=n[1];r=function(t){if(!e.getTag(t.sid))throw Error(t.sid+" was not found in the mattertag data");var n=t.options,r=n.anchorPosition,i=o.copy(n.stemVector);if(r&&(!Object(Le.c)(r.x)||!Object(Le.c)(r.y)||!Object(Le.c)(r.z)))throw Error(r+" is not a valid Vector3");if(i&&(!Object(Le.c)(i.x)||!Object(Le.c)(i.y)||!Object(Le.c)(i.z)))throw Error(i+" is not a valid Vector3");var c=o.length();i.normalize();var u=n.floorId;return void 0===u&&(u=He(r,a)),new Ge.b(t.sid,{stemHeight:c},void 0,{floorIndex:u,normal:i,position:r})}}))},br=e(303),mr=e(166),wr=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),gr=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},xr=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},_r=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,a=e.call(t),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return i},Or=((Ye={})[We.NONE]=ge.a.none,Ye[We.PHOTO]=ge.a.photo,Ye[We.VIDEO]=ge.a.video,Ye[We.RICH]=ge.a.rich,Ye),Tr=function(t){function n(n){var e=t.call(this)||this;return e.payload=n,e.id="BATCH_ADD_MATTERTAG",e}return wr(n,t),n}(s.a),Er=function(t,n,e){return gr(void 0,void 0,void 0,(function(){function r(t,n){if(!Object(Le.e)(t.anchorPosition))throw Error("anchorPosition is not a valid Vector3");if(!Object(Le.e)(t.stemVector))throw Error("stemVector is not a valid Vector3");var e=(new U.Jc).copy(t.anchorPosition),r=(new U.Jc).copy(t.stemVector),o=r.length();r.normalize();var a=t.floorId;void 0===a&&(a=He(e,n));var i,c=ze(t.color)?(new U.s).setRGB(t.color.r,t.color.g,t.color.b):mr.a.MATTERTAG_BLUE,u=t.description,l=t.label;return t.media&&(i={mediaType:Or[t.media.type]||ge.a.none,mediaSrc:t.media.src||""}),new Ge.a({position:e,normal:r,floorIndex:a},{color:c,description:u,label:l,stemHeight:o,stemVisible:!0,enabled:!0},i)}var o=this;return xr(this,(function(a){return e.addCommandToInterface({version:"3.2",namespace:"Mattertag",name:"add",args:["tags"]},(function(t){var n=Array.isArray(t.tags)?t.tags:[t.tags];return new Tr(n)})),n.addBinding(Tr,(function(e){return gr(o,void 0,void 0,(function(){var o,a,i,c,u,l,s;return xr(this,(function(f){switch(f.label){case 0:return[4,Promise.all([t.market.waitForData(hr.a),t.getModule(br.default)])];case 1:o=_r.apply(void 0,[f.sent(),1]),a=o[0],i=function(t,n){var e=[],o=t,a=o.length;e.length=a;for(var i=0;i<o.length;++i)try{e[i]=r(o[i],n)}catch(t){throw Error("Error in tag "+i+" - "+t.message)}return e}(e,a),(c=[]).length=i.length,u=0,f.label=2;case 2:return u<i.length?[4,n.issueCommand(i[u])]:[3,6];case 3:return l=f.sent(),c[u]=l,(s=e[u]).iconId?[4,n.issueCommand(new fr({tagId:l,iconId:s.iconId}))]:[3,5];case 4:f.sent(),f.label=5;case 5:return++u,[3,2];case 6:return[2,c]}}))}))})),[2]}))}))},Ir=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sr=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},Pr=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Ar=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}},kr=function(t){function n(n){var e=t.call(this)||this;return e.id="BATCH_REMOVE_MATTERTAG",e.payload={removeCommands:n},e}return Ir(n,t),n}(s.a),Dr=function(t,n,e){e.addCommandToInterface({version:"3.2",namespace:"Mattertag",name:"remove",args:["tags"]},(function(t){var n=[];if(!t.tags)throw Error("invalid list of tags to remove");if(t.tags instanceof Array){var e=t.tags,r=e.length;n.length=r;for(var o=0;o<e.length;++o)n[o]=new Ge.c(e[o])}else n.push(new Ge.c(t.tags));return new kr(n)})),n.addBinding(kr,(function(t){return Sr(void 0,void 0,void 0,(function(){var e,r,o,a,i,c,u,l,s;return Pr(this,(function(f){switch(f.label){case 0:o=[],a=t.removeCommands,o.length=a.length,f.label=1;case 1:f.trys.push([1,6,7,8]),i=Ar(a),c=i.next(),f.label=2;case 2:return c.done?[3,5]:(u=c.value,[4,n.issueCommand(u)]);case 3:(l=f.sent())&&o.push(l),f.label=4;case 4:return c=i.next(),[3,2];case 5:return[3,8];case 6:return s=f.sent(),e={error:s},[3,8];case 7:try{c&&!c.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}return[7];case 8:return[2,o]}}))}))}))},jr=function(t,n,e){var r=mt.a.create(new E.a(t.market.waitForData(ye.c)),new I.a(Cr));e.addCommand({namespace:"Mattertag",name:"preventAction",args:["sid","prevent"],version:"3.4"},r)},Cr=function(){function t(){}return t.prototype.validateInput=function(t,n){if("string"!=typeof t.sid||!n.mattertags.getTag(t.sid))throw Error(t.sid+" is not a valid tag sid");var e={opening:!1,navigating:!1};if("object"==typeof t.prevent&&t.prevent){var r=t.prevent;e.opening=!!r.opening,e.navigating=!!r.navigating}return{sid:t.sid,prevent:e}},t.prototype.exec=function(t,n,e){t.prevent.opening=!t.prevent.opening,t.prevent.navigating=!t.prevent.navigating,e.setTagCapabilities(t.sid,t.prevent),n.onComplete()},t}();!function(t){t.LOADED="inject.loaded",t.SETUP="inject.setup",t.RESOLVE="inject.resolve"}(qe||(qe={}));var Mr,Nr=e(273),Rr=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}},Gr=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,a=e.call(t),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return i},Lr=function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(Gr(arguments[n]));return t},Fr=function(){function t(t,n,e){var r=this;this.sourceId=t,this.targetId=n,this.target=e,this.messageHandlers=new Nr.a,this.onMessage=function(t){var n,e,o=t.data,a=o.type,i=o.fromId,c=o.toId;if(i===r.targetId||c===r.sourceId){var u=r.messageHandlers.getValuesAtKey(a);try{for(var l=Rr(u),s=l.next();!s.done;s=l.next()){s.value.apply(void 0,Lr(t.data.payload))}}catch(t){n={error:t}}finally{try{s&&!s.done&&(e=l.return)&&e.call(l)}finally{if(n)throw n.error}}}},window.addEventListener("message",this.onMessage)}return t.prototype.updateTarget=function(t){this.target=t},t.prototype.facade=function(){var t=this;return new(function(){function n(){}return n.prototype.dispose=function(){t.dispose()},n.prototype.on=function(n,e){t.on(n,e)},n.prototype.off=function(n,e){t.off(n,e)},n.prototype.send=function(n){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t.send.apply(t,Lr([n],e))},n}())},t.prototype.dispose=function(){window.removeEventListener("message",this.onMessage),this.messageHandlers=new Nr.a},t.prototype.on=function(t,n){this.messageHandlers.add(t,n)},t.prototype.off=function(t,n){this.messageHandlers.remove(t,n)},t.prototype.send=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];this.target.postMessage({toId:this.targetId,fromId:this.sourceId,type:t,payload:n},"*")},t}(),Br=function(){return(Br=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};!function(t){t[t.POSTMESSAGE=1]="POSTMESSAGE"}(Mr||(Mr={}));!function(){function t(){this.clientId=Math.floor(1e6*Math.random()),this.messageType="custom.inject"}t.prototype.buildMessageData=function(t){return Br({},t,{clientId:this.clientId})},t.prototype.onResponse=function(t){var n=this;return new Promise((function(e){var r;if(t.messengerType===Mr.POSTMESSAGE){window.addEventListener("message",(function(t){var o=t.data,a=o.toId,i=o.fromId;a===n.clientId&&t.data.type===qe.RESOLVE&&(r?r.updateTarget(t.source):(r=new Fr(n.clientId,i,t.source),e(r.facade())))}))}}))}}();var zr=e(558),Hr=function(t,n,e){var r=mt.a.create(new E.a(t.market.waitForData(we.a)),new I.a(Ur));e.addCustomRoutine("custom.inject",{namespace:"Mattertag",name:"injectHTML",args:["tagId","html","options"],version:"3.5"},r)},Ur=function(){function t(){}return t.prototype.validateInput=function(t,n){if(!t.tagId||"string"!=typeof t.tagId||!n.getTag(t.tagId))throw Error(t.tagId+" is not a valid tagId");if(!t.html||"string"!=typeof t.html)throw Error(t.html+" is not valid html");if(!Object(Le.c)(t.clientId))throw Error("Unexpectd error: unable to create iframe");var e=t.options||{},r="string"==typeof e.windowPath?e.windowPath:".parent";r.length>0&&"."!==r[0]&&(r="."+r);try{if(!Function("return window"+r)().postMessage)throw Error("invalid window")}catch(t){throw Error("problem finding a valid window with path: "+r)}var o=e.messageFcnMapping||{on:"on",off:"off",send:"send"},a={w:0,h:0},i=Object(Le.a)(e.size.w+""),c=Object(Le.a)(e.size.h+"");return isNaN(i)||isNaN(c)||(a.w=e.size.w,a.h=e.size.h),{tagId:t.tagId,clientId:t.clientId,html:t.html,options:{size:a,windowPath:r,messageFcnMapping:o}}},t.prototype.exec=function(t,n,e){var r=Object(zr.a)();var o=function(){var t=document.createElement("iframe");return t.src="./mattertag/mattertag.postMessage.html",t.sandbox.add("allow-scripts"),t}();o.addEventListener("load",(function(){var e=o.contentWindow;n.onComplete({messengerType:Mr.POSTMESSAGE,iframeId:r}),e.postMessage({type:qe.SETUP,id:r,targetId:t.clientId,customHTML:t.html,windowPath:t.options.windowPath,messageFcnMapping:t.options.messageFcnMapping},"*")})),e.getTag(t.tagId).widgetFrame={size:{width:t.options.size.w,height:t.options.size.h},frame:new Wr(o)},e.commit()},t}();var Vr,Wr=function(){function t(t){this.iframe=t}return t.prototype.mount=function(t){t.appendChild(this.iframe)},t.prototype.unmount=function(){this.iframe.parentNode&&this.iframe.parentNode.removeChild(this.iframe)},t}(),Jr=e(112),Zr=e(98);!function(t){t.CHANGE_START="viewmode.changestart",t.CHANGE_END="viewmode.changeend"}(Vr||(Vr={}));var Kr,Yr,qr,Xr=e(207),Qr=e(97),$r=e(173),to=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,a=e.call(t),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return i},no=function(t,n){n.addEnumToInterface({version:"3.x",namespace:"Mode",name:"Event",values:Vr}),Promise.all([t.market.waitForData(z.a),t.getModule(Qr.default)]).then((function(e){var r=to(e,2),o=r[0],a=r[1],i=[void 0,void 0],c=function(t){var n=a.currentMode,e=Object($r.b)(o,t.fromSweep),r=Object($r.b)(o,t.toSweep);return i[0]=K(n,e),i[1]=K(n,r),i};t.subscribe(Xr.a,(function(t){Object($r.b)(o,t.fromSweep)!==Object($r.b)(o,t.toSweep)&&n.broadcast(Vr.CHANGE_END,c,t)}));var u=[void 0,void 0],l=function(t){var n=Object($r.a)(o);return u[0]=K(t.fromMode,n),u[1]=K(t.toMode,n),u};t.subscribe(Jr.a,(function(t){return n.broadcast(Vr.CHANGE_START,l,t)}));var s=[void 0,void 0],f=function(t){var n=Object($r.a)(o);return s[0]=K(t.fromMode,n),s[1]=K(t.toMode,n),s};t.subscribe(Zr.a,(function(t){return n.broadcast(Vr.CHANGE_END,f,t)}))}))},eo=e(550),ro=e(343),oo=e(281),ao=e(22);!function(t){t.ALIGNED="aligned",t.UNALIGNED="unaligned"}(Yr||(Yr={})),function(t){t.UNPLACED="unplaced",t.AUTO="auto",t.MANUAL="manual"}(qr||(qr={}));var io,co=((Kr={})[ao.a.ALIGNED]=Yr.ALIGNED,Kr[ao.a.UNALIGNED]=Yr.UNALIGNED,Kr),uo=function(t){t.addEnumToInterface({version:"3.x",namespace:"Sweep",name:"Transition",values:oo.b}),t.addEnumToInterface({version:"3.x",namespace:"Mode",name:"Alignment",values:Yr}),t.addEnumToInterface({version:"3.x",namespace:"Mode",name:"Placement",values:qr})},lo=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}},so=function(t,n,e,r){var o,a,i;r.sweeps=[];try{for(var c=lo(e),u=c.next();!u.done;u=c.next()){var l=u.value;r.sweeps.push({uuid:l.id,alignmentType:co[l.alignmentType],neighbors:l.neighbours,position:(i=l,null!==i.position?{x:i.position.x,y:i.position.y,z:i.position.z}:null),rotation:Object(ro.b)(l.rotation),floor:l.floor})}}catch(t){o={error:t}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(o)throw o.error}}return r.sid=t,r.modelSupportsVr=n,r},fo=e(96),po=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),ho=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},yo=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},vo=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.id="GET_MODEL_DATA",n}return po(n,t),n}(s.a),bo=function(t,n,e){var r={sid:"",sweeps:[],modelSupportsVr:!1};n.addBinding(vo,(function(){return ho(void 0,void 0,void 0,(function(){var n,e;return yo(this,(function(o){switch(o.label){case 0:return[4,t.getModule(fo.default)];case 1:return n=o.sent(),[4,t.market.waitForData(z.a)];case 2:return e=o.sent(),[2,mo(n,r,e)]}}))}))})),e.addCommandToInterface({version:"3.x",namespace:"Model",name:"getData",args:[]},(function(){return new vo}))},mo=function(t,n,e){return ho(void 0,void 0,void 0,(function(){var r,o;return yo(this,(function(a){try{return r=e.getSweepList(),o=t.getModel(),[2,so(o.sid,o.vrSupported,r,n)]}catch(t){throw Error("no model currently loaded")}return[2]}))}))},wo=e(21),go=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),xo=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},_o=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Oo=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.id="GET_MODEL_DETAILS",n}return go(n,t),n}(s.a),To=function(t,n,e){Promise.all([t.getModule(fo.default),t.market.waitForData(xe.a)]).then((function(t){return n.addBinding(Oo,(function(){return xo(void 0,void 0,void 0,(function(){return _o(this,(function(n){return[2,Eo(t[0],t[1])]}))}))}))})),e.addCommandToInterface({version:"3.x",namespace:"Model",name:"getDetails",args:[]},(function(){return new Oo}))},Eo=function(t,n){function e(t,e){if(n.tryGetProperty(t,!0))return e}var r=t.getModel();return{sid:r.data.sid,name:e(wo.a.DetailsModelName,r.data.name),presentedBy:e(wo.a.PresentedBy,r.data.presentedBy),summary:e(wo.a.DetailsSummary,r.data.summary),formattedAddress:e(wo.a.DetailsAddress,r.data.formattedAddress),contactEmail:e(wo.a.DetailsEmail,r.data.contact.email),contactName:e(wo.a.DetailsName,r.data.contact.name),phone:e(wo.a.DetailsPhone,r.data.contact.phone),formattedContactPhone:e(wo.a.DetailsPhone,r.data.contact.formattedPhone),externalUrl:e(wo.a.DetailsExternalUrl,r.data.externalUrl)}},Io=e(562);!function(t){t.MODEL_LOADED="model.loaded"}(io||(io={}));var So,Po=function(t,n){n.addEnumToInterface({version:"3.x",namespace:"Model",name:"Event",values:io});var e={sid:"",sweeps:[],modelSupportsVr:!1},r=[e],o=function(t){return so(t.sid,t.vrSupported,t.sweepList,e),r};t.subscribe(Io.a,(function(t){n.broadcast(io.MODEL_LOADED,o,t)}))},Ao=e(56),ko=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Do=function(t){function n(n,e){var r=t.call(this)||this;return r.payload={key:n,value:e},r}return ko(n,t),n.id="SETTING_UPDATE",n}(s.a),jo=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},Co=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Mo=function(t,n,e){t.commandBinder.addBinding(Do,(function(n){return jo(void 0,void 0,void 0,(function(){var e;return Co(this,(function(r){switch(r.label){case 0:if(!n.key||"string"!=typeof n.key)throw Error("Settings: invalid key");return[4,t.getModule(Ao.default)];case 1:return(e=r.sent()).updateSetting(n.key,n.value),[2,e.tryGetProperty(n.key,void 0)]}}))}))})),e.addCommandToInterface({version:"3.x",namespace:"Settings",name:"update",args:["key","value"]},(function(t){return new Do(t.key,t.value)}))},No=function(){var t=function(n,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(n,e)};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Ro=function(t){function n(n){var e=t.call(this)||this;return e.payload={key:n},e}return No(n,t),n.id="SETTING_GET",n}(s.a),Go=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},Lo=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Fo=function(t,n,e){t.commandBinder.addBinding(Ro,(function(n){return Go(void 0,void 0,void 0,(function(){return Lo(this,(function(e){switch(e.label){case 0:return[4,t.getModule(Ao.default)];case 1:return[2,e.sent().tryGetProperty(n.key,void 0)]}}))}))})),e.addCommandToInterface({version:"3.x",namespace:"Settings",name:"get",args:["key"]},(function(t){return new Ro(t.key)}))};!function(t){t.ENTER="sweep.enter",t.EXIT="sweep.exit"}(So||(So={}));var Bo=e(209),zo=function(t,n){var e,r;n.addEnumToInterface({version:"3.x",namespace:"Sweep",name:"Event",values:So});var o=["",""],a=function(){return o[0]=e,o[1]=r,o};t.subscribe(Bo.a,(function(t){t.fromSweep&&t.fromSweep!==t.toSweep&&(r=t.toSweep,n.broadcast(So.EXIT,a,t))})),t.subscribe(Jr.a,(function(t){t.fromMode===V.a.Panorama&&t.toMode!==V.a.Panorama&&(r=void 0,n.broadcast(So.EXIT,a,t))}));var i=["",""],c=function(t){return i[0]=t.fromSweep,i[1]=t.toSweep,i};t.subscribe(Xr.a,(function(t){e=t.toSweep,n.broadcast(So.ENTER,c,t)}))},Ho=e(90),Uo=e(10),Vo=e(74),Wo=e(156),Jo=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},Zo=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Ko=function(t,n,e){Yo(t);e.addEnumToInterface({version:"3.x",namespace:"Sweep",name:"Transition",values:oo.b}),e.addCommandToInterface({version:"3.x",namespace:"Sweep",name:"moveTo",args:["sweep","options"]},(function(t){return(t=t||{}).options=t.options||{},new Ho.a({sweep:t.sweep||"",rotation:qo(t.options.rotation),transition:Xo(t.options.transition),transitionTime:Object(Le.d)(t.options.transitionTime)})}))},Yo=function(t){t.commandBinder.addBinding(Ho.a,(function(n){return Jo(void 0,void 0,void 0,(function(){var e,r,o,a,i,c;return Zo(this,(function(u){switch(u.label){case 0:return[4,t.getModule(Wo.default)];case 1:return e=u.sent(),[4,t.market.waitForData(z.a)];case 2:return r=u.sent(),[4,t.market.waitForData(xe.a)];case 3:return o=u.sent(),[4,t.getModule(Qr.default)];case 4:if(a=u.sent(),i=o.tryGetProperty(Vo.a,Uo.a.Interpolate),!n.sweep)throw Error("Sweep.moveTo -> no sweep specified");return c=n.transition,void 0===n.transition&&(c=i),[4,a.currentMode!==V.a.Panorama?a.switchToMode(V.a.Panorama,c,{sweepID:n.sweep,rotation:n.rotation}):e.moveToSweep({transitionType:c,sweepId:n.sweep,rotation:n.rotation,transitionTime:n.transitionTime})];case 5:return u.sent(),[2,r.currentSweep]}}))}))}))},qo=function(t){if(t){t.z=t.z||0;var n=Object(ro.a)(t);if(isNaN(n.x)||isNaN(n.y)||isNaN(n.z)||isNaN(n.w)){var e="{ "+t.x+", "+t.y+", "+t.z+" }";throw Error("Sweep.moveTo -> "+e+" is not a valid rotation")}return n}},Xo=function(t){if(t){var n=Object(oo.a)(t);if(void 0===n)throw Error("Sweep.moveTo -> "+t+" is not a valid transition style");return n}},Qo=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}},$o=function(t,n){var e=ue.create(new E.a(t.market.waitForData(z.a)),(function(t,n){return n.onChanged((function(){return t.onChanged()}))}),new I.a(ta));n.addCollectionToInterface({namespace:"Sweep",name:"data",version:"3.4"},e)},ta=function(){function t(){this._data={}}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.isItemEqual=function(t,n){return!Object(T.b)(this.data[n],t.data[n])},t.prototype.update=function(t){var n,e;try{for(var r=Qo(t.sweeps()),o=r.next();!o.done;o=r.next()){var a=o.value,i=this.data[a.id]||{};i.uuid=a.id,i.alignmentType=co[a.alignmentType],i.neighbors=a.neighbours,i.position=na(a,i.position),i.rotation=Object(ro.b)(a.rotation,i.rotation),i.floor=a.floor,this.data[a.id]=i}}catch(t){n={error:t}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}for(var c in this.data){(a=t.getSweep(c))||delete this.data[c]}},t.prototype.clear=function(){this._data={}},t}();function na(t,n){return(n=n||{}).x=t.position.x,n.y=t.position.y,n.z=t.position.z,n}var ea,ra=e(243);!function(t){t.STARTED="tour.started",t.STOPPED="tour.stopped",t.ENDED="tour.ended",t.STEPPED="tour.stepped"}(ea||(ea={}));var oa,aa=e(111),ia=function(t,n){n.addEnumToInterface({version:"3.x",namespace:"Tour",name:"Event",values:ea}),t.subscribe(aa.c,(function(){return n.broadcast(ea.STARTED)})),t.subscribe(aa.f,(function(){return n.broadcast(ea.STOPPED)})),t.subscribe(aa.a,(function(){return n.broadcast(ea.ENDED)}));var e=[-1],r=function(t){return e[0]=t.index,e};t.subscribe(aa.d,(function(t){return n.broadcast(ea.STEPPED,r,t)}))};!function(t){t.FPS="stat.fps"}(oa||(oa={}));var ca,ua=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},la=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},sa=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,a=e.call(t),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return i},fa=function(t,n){Promise.all([t.market.waitForData(xe.a)]).then((function(e){var r=sa(e,1)[0];new da(t,r).calcAndBroadcast(n)})),n.addEnumToInterface({version:"3.x",namespace:"Stat",name:"Event",values:oa})},da=function(){function t(t,n){this.engine=t,this.perfStatInterval=1e3,this.elapsedTime=0,this.frameCount=0,this.lastCalcTime=0,this.fps=[0],this.perfStatInterval=n.tryGetProperty("perfInterval",this.perfStatInterval)}return t.prototype.calcAndBroadcast=function(t){return ua(this,void 0,void 0,(function(){var n,e,r=this;return la(this,(function(o){switch(o.label){case 0:return[4,this.engine.after(en.a.End)];case 1:return o.sent(),n=Date.now(),e=n-this.lastCalcTime,this.lastCalcTime=n,this.elapsedTime+=e,this.frameCount++,this.elapsedTime>=this.perfStatInterval&&(this.fps[0]=1e3*this.frameCount/this.elapsedTime,this.elapsedTime=0,this.frameCount=0,t.broadcast(oa.FPS,(function(){return r.fps}))),this.calcAndBroadcast(t),[2]}}))}))},t}(),pa=e(109),ha=e(225),ya=e(301),va=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}};!function(t){t.NONE="intersectedobject.none",t.MODEL="intersectedobject.model",t.TAG="intersectedobject.tag",t.SWEEP="intersectedobject.sweep",t.UNKNOWN="intersectedobject.unknown"}(ca||(ca={}));var ba=function(t,n){var e=O.a.create(new E.a(t.market.waitForData(pa.b),t.market.waitForData(hr.a)),(function(t,n){return n.onChanged(t)}),new I.a(ma));n.addEnumToInterface({version:"3.1",namespace:"Pointer",name:"Colliders",values:ca}),n.addObservableToInterface({version:"3.1",namespace:"Pointer",name:"intersection"},e)},ma=function(){function t(){this._data={position:{x:0,y:0,z:0},normal:{x:0,y:0,z:0},object:ca.NONE,floorId:void 0}}return Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){var n=t.data.position,e=this._data.position,r=t.data.normal,o=this._data.normal;return Object(Vt.d)(n,e,1e-5)&&Object(Vt.d)(r,o,1e-5)&&t.data.object===this._data.object},t.prototype.update=function(t,n){var e=t.hit;e?(Object(S.d)(this._data.position,e.point),Object(S.d)(this._data.normal,e.face.normal),this._data.floorId=void 0,e.object instanceof nn.a?(this._data.object=ca.MODEL,this._data.floorId=ga(e,n)):e.object instanceof ha.a?this._data.object=ca.TAG:e.object instanceof ya.a?this._data.object=ca.SWEEP:this._data.object=ca.UNKNOWN):(Object(S.d)(this._data.position,D.b.ZERO),Object(S.d)(this._data.normal,D.b.ZERO),this._data.object=ca.NONE,this._data.floorId=void 0)},t.prototype.copy=function(t){Object(S.d)(this._data.position,t.data.position),Object(S.d)(this._data.normal,t.data.normal),this._data.object=t.data.object,this._data.floorId=t.data.floorId},t}(),wa=new U.Jc,ga=function(t,n){var e,r;wa.set(t.point.x,t.point.y,t.point.z);var o=n.roomIdsFromPoint(wa),a=o.length>0?o[0]:void 0;try{for(var i=va(o),c=i.next();!c.done;c=i.next()){var u=c.value,l=n.get(u);if(l&&l.mesh===t.object)return l.floorId}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return a},xa=e(416);e.d(n,"bindSdkInterface",(function(){return Oa}));var _a=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}},Oa=function(t,n,e){var r,o,a,i,s,f,d,p,h=[l.b,v,_,eo.b,$,bo,ra.e,To,Jn,$n,Se,Pe.b,Ae.b,Re,ke.b,Ko,Yt.c,fn,yn,pt,St,it,zt,G,xn,On.b,Pn.b,Gn,Mo,Fo,tr,rr,pr,vr,Er,Dr,jr,Hr].concat(xa.a);try{for(var y=_a(h),b=y.next();!b.done;b=y.next()){(0,b.value)(t,n,e)}}catch(t){r={error:t}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(r)throw r.error}}var m=[c,u,ia,no,Po,me,zo,Ct,Sn,Bn,fa];try{for(var w=_a(m),g=w.next();!g.done;g=w.next()){(0,g.value)(t,e)}}catch(t){a={error:t}}finally{try{g&&!g.done&&(i=w.return)&&i.call(w)}finally{if(a)throw a.error}}var x=[uo];try{for(var O=_a(x),T=O.next();!T.done;T=O.next()){(0,T.value)(e)}}catch(t){s={error:t}}finally{try{T&&!T.done&&(f=O.return)&&f.call(O)}finally{if(s)throw s.error}}var E=[Wt,ba,P,ne,Zt,fe,$o];try{for(var I=_a(E),S=I.next();!S.done;S=I.next()){(0,S.value)(t,e)}}catch(t){d={error:t}}finally{try{S&&!S.done&&(p=I.return)&&p.call(I)}finally{if(d)throw d.error}}}},1531:function(t,n,e){"use strict";e.r(n);var r,o=e(633),a=e(321),i=function(t,n,e){t.getModule(o.default).then((function(t){e.addCommandToInterface({version:"3.x",namespace:"Label",name:"createLabel",args:["floor","position","text","roomId"]},(function(t){return new a.a(t)}))}))},c=function(){return(c=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},u=function(t,n,e){t.getModule(o.default).then((function(t){e.addCommandToInterface({version:"3.x",namespace:"Label",name:"updateLabel",args:["sid","properties"]},(function(t){var n=c({},t.properties,{sid:t.sid});return new a.c(n)}))}))},l=function(t,n,e){t.getModule(o.default).then((function(t){e.addCommandToInterface({version:"3.x",namespace:"Label",name:"deleteLabel",args:["sid"]},(function(t){return new a.b(t.sid)}))}))},s=e(5),f=e(55),d=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),p=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},h=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},y=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.id="PUBLISH",n}return d(n,t),n}(s.a),v=function(t,n,e){n.addBinding(y,(function(){return p(void 0,void 0,void 0,(function(){return h(this,(function(t){return[2,f.b.publishAll()]}))}))})),e.addCommandToInterface({version:"3.x",namespace:"Edit",name:"publish",args:[]},(function(t){return new y}))};e.d(n,"bindSdkInterface",(function(){return b}));var b=function(t,n,e){[i,u,l,v].forEach((function(r){r(t,n,e)}))}},282:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var r,o=e(223),a=e(570),i=e(30),c=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),u=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}},l=function(t){function n(n,e,r){var c,l,s=t.call(this,e,r)||this;s.target=n;try{for(var f=u(n.keys),d=f.next();!d.done;d=f.next()){var p=d.value,h=n.get(p),y=new a.a(h,e,r);y.onChanged(s.triggerChangeHandlers),s.targetMonitors[p]=y}}catch(t){c={error:t}}finally{try{d&&!d.done&&(l=f.return)&&l.call(f)}finally{if(c)throw c.error}}var v={onAdded:function(t,n){var c=new a.a(t,e,r);c.onChanged(s.triggerChangeHandlers),s.targetMonitors[n]=c;var u=s.diffRecord.findIndex((function(t){return t.index===n}));-1!==u&&s.diffRecord.splice(u,1);var l=new o.b(n,o.a.added,Object(i.a)(t));-1===u&&s.diffRecord.push(l),s.triggerChangeHandlers(l)},onRemoved:function(t,n){delete s.targetMonitors[n];var e=s.diffRecord.findIndex((function(t){return t.index===n}));-1!==e&&s.diffRecord.splice(e,1);var r=new o.b(n,o.a.removed,Object(i.a)(t));s.triggerChangeHandlers(r),-1===e&&s.diffRecord.push(r)}};return s.target.onElementChanged(v),s}return c(n,t),n.prototype.commitChanges=function(){this.invokeCallbacks(this.getDiffRecord())},n.prototype.getDiffRecord=function(){var t=[],n=function(n){var r=e.targetMonitors[n];if(r.hasDiffRecord()){var a=r.getDiffRecord(),c=e.diffRecord.findIndex((function(t){return t.index===n}));-1!==c?Object(i.e)(e.diffRecord[c].diff,a):t.push(new o.b(n,o.a.updated,a))}},e=this;for(var r in this.targetMonitors)n(r);return this.diffRecord.concat(t)},n}(o.c)},321:function(t,n,e){"use strict";e.d(n,"a",(function(){return c})),e.d(n,"c",(function(){return u})),e.d(n,"b",(function(){return l}));var r,o=e(5),a=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),i=function(){return(i=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},c=function(t){function n(n){var e=t.call(this)||this;return e.id="CREATE_LABEL",e.payload=i({},n),e}return a(n,t),n}(o.a),u=function(t){function n(n){var e=t.call(this)||this;return e.id="UPDATE_LABEL",e.payload=i({},n),e}return a(n,t),n}(o.a),l=function(t){function n(n){var e=t.call(this)||this;return e.id="DELETE_LABEL",e.payload={sid:n},e}return a(n,t),n}(o.a)},327:function(t,n,e){"use strict";e.d(n,"a",(function(){return c})),e.d(n,"b",(function(){return u})),e.d(n,"d",(function(){return l})),e.d(n,"c",(function(){return s}));var r,o=e(9),a=e(0),i=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),c=function(t){function n(n,e,r,o,a){var i=t.call(this)||this;return i.sid=n,i.type=e,i.cameraMode=r,i.floor=o,i.text=a,i}return i(n,t),n}(o.a),u=function(t){function n(n,e){var r=t.call(this)||this;return r.sid=n,r.type=e,r}return i(n,t),n}(o.a),l=function(t){function n(n,e){var r=t.call(this)||this;return r.sid=n,r.text=e||"",r}return i(n,t),n}(o.a),s=function(t){function n(n,e,r,o){var i=t.call(this)||this;return i.sid=n,i.floor=e||0,i.position=r||new a.Jc,i.text=o,i}return i(n,t),n}(o.a)},570:function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var r=e(122),o=e(30),a=e(88),i=e(262),c=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}},u=function(){function t(t,n,e){var r=this;this.updatePhaseSync=e,this.target=t,this.clearDiffRecord(),this.target.onChanged((function(){r.diffRecord=Object(o.c)(r.originalData,Object(o.a)(r.target)),r.handleAggregation()})),this.aggregationType=n.aggregationType,this.changedHandlers=[]}return t.prototype.hasDiffRecord=function(){return Object.keys(this.diffRecord).length>0},t.prototype.getDiffRecord=function(){return this.diffRecord},t.prototype.clearDiffRecord=function(){this.originalData=Object(o.a)(this.target),this.diffRecord={}},t.prototype.onChanged=function(t){this.changedHandlers.push(t)},t.prototype.removeOnChanged=function(t){Object(i.a)(this.changedHandlers,t)},t.prototype.commitChanges=function(){this.triggerChangeHandlers(this.diffRecord)},t.prototype.handleAggregation=function(){var t=this;switch(this.aggregationType){case r.a.Immediate:this.triggerChangeHandlers(this.diffRecord);break;case r.a.NextFrame:if(!this.updatePhaseSync)throw new Error("handleAggregation() -> Next frame aggregation requested, but updatePhaseSync is null");this.nextFramePromise||(this.nextFramePromise=this.updatePhaseSync.after(a.a.Begin).then((function(){t.triggerChangeHandlers(t.diffRecord),t.nextFramePromise=void 0})));break;case r.a.Duration:throw new Error("AggregationType.Duration: Please implement me :)");case r.a.Manual:}},t.prototype.triggerChangeHandlers=function(t){var n,e;if(this.changedHandlers.length>0)try{for(var r=c(this.changedHandlers),o=r.next();!o.done;o=r.next()){(0,o.value)(t)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}},t}()},633:function(t,n,e){"use strict";e.r(n);var r,o=e(4),a=e(304),i=e(244),c=e(122),u=e(282),l=e(321),s=e(0),f=e(327),d=e(1),p=e(151),h=e(2),y=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),v=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},b=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},m=function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,o,a=e.call(t),i=[];try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(e=a.return)&&e.call(a)}finally{if(o)throw o.error}}return i},w=new h.a("labels-editor"),g=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.name="labels-editor",n.labels=null,n}return y(n,t),n.prototype.init=function(t,n){return v(this,void 0,void 0,(function(){var t,e,r,o,s,f,d=this;return b(this,(function(p){switch(p.label){case 0:return[4,Promise.all([n.market.waitForData(i.a),n.getModule(a.default)])];case 1:return t=m.apply(void 0,[p.sent(),2]),e=t[0],r=t[1],this.labels=e,this.engine=n,o=this.labels.getCollection(),s=new u.a(o,{aggregationType:c.a.NextFrame},n),"addMonitor"in(f=r.getDefaultStore()||{})&&"function"==typeof f.addMonitor?f.addMonitor(s):w.warn("No store was configured in the Labels editor. Any changes to Labels will NOT be saved!"),this.bindings.push(n.commandBinder.addBinding(l.a,(function(t){return v(d,void 0,void 0,(function(){return b(this,(function(n){return[2,this.onCreateLabel(t)]}))}))}))),this.bindings.push(n.commandBinder.addBinding(l.c,(function(t){return v(d,void 0,void 0,(function(){return b(this,(function(n){return[2,this.onUpdateLabel(t)]}))}))}))),this.bindings.push(n.commandBinder.addBinding(l.b,(function(t){return v(d,void 0,void 0,(function(){return b(this,(function(n){return[2,this.onDeleteLabel(t.sid)]}))}))}))),[2]}}))}))},n.prototype.dispose=function(n){t.prototype.dispose.call(this,n),this.labels=null},n.prototype.onCreateLabel=function(t){if(null===this.labels)throw new Error("CreateLabel: missing labels collection");var n=Object(i.b)();return n.floor=t.floor,n.position=new s.Jc(t.position.x,t.position.y,t.position.z),n.text=t.text,n.visible=!0,n.roomId=t.roomId,n.commit(),this.labels.add(n),this.engine.broadcast(new f.a(n.sid,"Label",Object(d.b)(d.a.Floorplan),n.floor,n.text)),n.sid},n.prototype.onUpdateLabel=function(t){if(null===this.labels)throw new Error("UpdateLabel: missing labels collection");var n=this.labels.getLabel(t.sid);if(!n)throw new Error('UpdateLabel: could not find label "'+t.sid+'"');var e=n.text,r=n.position;Object.assign(n,t),t.position?n.position=new s.Jc(t.position.x,t.position.y,t.position.z):n.position=r,n.commit(),t.text&&e!==t.text&&this.engine.broadcast(new f.d(t.sid,t.text)),t.position&&!Object(p.a)(r,t.position)&&void 0!==n.floor&&this.engine.broadcast(new f.c(t.sid,n.floor,t.position,e))},n.prototype.onDeleteLabel=function(t){if(null===this.labels)throw new Error("DeleteLabel: missing labels collection");if(!this.labels.getLabel(t))throw new Error("DeleteLabel: could not find label "+t);if(this.engine.broadcast(new f.b(t,"Label")),!this.labels.remove(t))throw new Error("DeleteLabel: could not delete label "+t)},n}(o.a);n.default=g},908:function(t,n,e){"use strict";e.d(n,"a",(function(){return f})),e.d(n,"b",(function(){return d}));var r,o=e(5),a=e(281),i=e(10),c=e(345),u=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),l=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},s=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},f=function(t){function n(n,e){var r=t.call(this)||this;r.id="NAVIGATE_TO_MATTERTAG";var o=Object(a.a)(e)||i.a.Interpolate;return r.payload={sid:n,transition:o},r}return u(n,t),n}(o.a),d=function(t,n,e){return l(void 0,void 0,void 0,(function(){var r=this;return s(this,(function(o){return e.addCommandToInterface({version:"3.x",namespace:"Mattertag",name:"navigateToTag",args:["sid","transitionType"]},(function(t){return new f(t.sid,t.transitionType)})),e.addEnumToInterface({version:"3.x",namespace:"Mattertag",name:"Transition",values:a.b}),t.getModule(c.default).then((function(t){return n.addBinding(f,(function(n){return l(r,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,t.navigateToTag(n.sid,n.transition)];case 1:return e.sent(),[2,n.sid];case 2:throw e.sent(),Error("Could not move to tag with sid "+n.sid);case 3:return[2]}}))}))}))})),[2]}))}))}},909:function(t,n,e){"use strict";e.d(n,"a",(function(){return s})),e.d(n,"b",(function(){return f}));var r,o=e(5),a=e(35),i=e(116),c=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),u=function(t,n,e,r){return new(e||(e=Promise))((function(o,a){function i(t){try{u(r.next(t))}catch(t){a(t)}}function c(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?o(t.value):new e((function(n){n(t.value)})).then(i,c)}u((r=r.apply(t,n||[])).next())}))},l=function(t,n){var e,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(t,i)}catch(t){a=[6,t],r=0}finally{e=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},s=function(t){function n(n){var e=t.call(this)||this;return e.id="SHOW_ALL_FLOORS",e.payload=n,e}return c(n,t),n}(o.a),f=function(t,n,e){t.market.waitForData(a.b).then((function(e){return n.addBinding(s,(function(n){return u(void 0,void 0,void 0,(function(){var r;return l(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),r="boolean"==typeof n.moveCamera&&!n.moveCamera,[4,t.commandBinder.issueCommand(new i.a(-1,r))];case 1:return o.sent(),[2,e.currentFloor];case 2:throw o.sent(),Error("Could not show all floors");case 3:return[2]}}))}))}))})),e.addCommandToInterface({version:"3.x",namespace:"Floor",name:"showAll",args:["moveCamera"]},(function(t){return new s(t)}))}},910:function(t,n,e){"use strict";e.d(n,"a",(function(){return c}));var r,o=e(5),a=(r=function(t,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])})(t,n)},function(t,n){function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),i=function(){return(i=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)},c=function(t){function n(n){var e=t.call(this)||this;return e.payload=i({},n),e}return a(n,t),n}(o.a)}}]);