(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1050:function(t,e,n){},106:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"a",(function(){return h}));var o,r,i,s,a=n(11),c=n(150),l=n(105),u=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.ENABLED=0]="ENABLED",t[t.DISABLED=1]="DISABLED",t[t.DECORATIVE=2]="DECORATIVE",t[t.DIMMED=3]="DIMMED",t[t.ACTIVE=4]="ACTIVE",t[t.BUSY=5]="BUSY"}(r||(r={})),function(t){t[t.STANDARD=0]="STANDARD",t[t.SMALL=1]="SMALL",t[t.LARGE=2]="LARGE"}(i||(i={})),function(t){t[t.PRIMARY=0]="PRIMARY",t[t.SECONDARY=1]="SECONDARY",t[t.OVERLAY=2]="OVERLAY",t[t.LIGHT=3]="LIGHT",t[t.SECONDARY_LIGHT=4]="SECONDARY_LIGHT",t[t.CLEAR=5]="CLEAR",t[t.TOOLBAR=6]="TOOLBAR",t[t.PLAIN=7]="PLAIN"}(s||(s={}));var h=function(t){function e(e){return t.call(this,e)||this}return u(e,t),e.prototype.render=function(){var t=this.props,e=t.buttonState,n=t.buttonSize,o=t.buttonStyle,c=t.id,u=t.appendClass,p=t.dataValue,h=t.children,d=t.onClick,f=t.onMouseEnter,b=t.onMouseLeave,g=t.onMouseDown,y=t.tooltipMsg,v=t.tooltipPosition,m=t.tooltipPreformatted,O=e===r.DISABLED,E=e===r.BUSY,w=e===r.DECORATIVE,_=!O&&!E&&!w,L=o===s.SECONDARY||o===s.SECONDARY_LIGHT,M=o===s.LIGHT||o===s.SECONDARY_LIGHT,S={"button-small":n===i.SMALL,"button-large":n===i.LARGE,"button-secondary":L,"button-light":M,"button-primary":o===s.PRIMARY,"button-overlay":o===s.OVERLAY,"button-clear":o===s.CLEAR,"button-plain":o===s.PLAIN,"button-toolbar":o===s.TOOLBAR,"button-active":e===r.ACTIVE,"button-dimmed":e===r.DIMMED,"button-busy":E,"button-disabled":O,"button-decorative":w};return u&&Object.keys(u).length>0&&Object.assign(S,u),Object(a.h)("div",{id:c,type:"button",class:l("button",S),"data-value":p,onClick:_?d:void 0,onMouseEnter:f,onMouseLeave:b,onMouseDown:g,"data-balloon":y||null,"data-balloon-pre":!!m,"data-balloon-pos":v||null},h)},e=p([c.b],e)}(a.Component)},1185:function(t,e,n){},1187:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODQiIGhlaWdodD0iODQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNDIgMEMxOC43OSAwIDAgMTguNzkgMCA0MnMxOC43OSA0MiA0MiA0MiA0Mi0xOC43OSA0Mi00MlM2NS4yMSAwIDQyIDB6IiBmaWxsLW9wYWNpdHk9Ii4yNSIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTUxLjUgNTdoLTJhLjUuNSAwIDAxLS41LS41di0yOGEuNS41IDAgMDEuNS0uNWgyYS41LjUgMCAwMS41LjV2MjhhLjUuNSAwIDAxLS41LjV6TTM0LjUgNTdoLTJhLjUuNSAwIDAxLS41LS41di0yOGEuNS41IDAgMDEuNS0uNWgyYS41LjUgMCAwMS41LjV2MjhhLjUuNSAwIDAxLS41LjV6IiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg=="},1193:function(t,e,n){},1195:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHg9IjAiIHk9IjAiIHZpZXdCb3g9IjAgMCAyMzAuMDUgNDkuNzUiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxzdHlsZT4uc3Qwe2ZpbGw6I2Y1ZjRmM30uc3Qye2ZpbGw6I2ZmZn0uc3Qze2ZpbGw6Izk5OX08L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02MS4yOCAzNi4xNHYtOC44MmwtLjI0LTUuMDkuMTktLjA0IDIuMDUgNC41NCA0LjgyIDguODYgNC44Mi04Ljg2IDIuMDYtNC41NC4xOC4wNC0uMjQgNS4wOXY4LjgyaDUuMTRWMTQuNGgtNS44MWwtNi4xMSAxMS43N2gtLjA3TDYxLjk1IDE0LjRoLTUuODF2MjEuNzR6TTIxMi42OSAzMC42M2MwIDMuNiAxLjk0IDUuNSA1LjYxIDUuNWgzLjE3di00LjQ1aC0zLjQ1di05LjQ5aDMuNzR2LTQuMzZoLTQuMTV2LTQuMjFoLTQuOTF2MTcuMDF6TTIxMS4yNiAxNy44M2gtLjg3Yy0zLjAxIDAtNC40NCAyLjAzLTQuODkgMy40M2gtLjE4di0zLjQzSDIwMHYxOC4zMWg1LjMyVjI1LjcyYzAtMS4wOC40MS0xLjg0LjkzLTIuMzMuODktLjg2IDIuNzktMS4xMSA1LjAxLTEuMTF2LTQuNDV6TTE1OC42MyAxNy44M2gtLjg3Yy0zLjAxIDAtNC40NCAyLjAzLTQuODkgMy40M2gtLjE4di0zLjQzaC01LjMydjE4LjMxaDUuMzJWMjUuNzJjMC0xLjA4LjQxLTEuODQuOTMtMi4zMy44OS0uODYgMi43OS0xLjExIDUuMDEtMS4xMXYtNC40NXpNMTI3LjQ4IDI3LjI1YzAtNS45NyAzLjE3LTkuODYgOC44NS05Ljg2IDYuMjYgMCA4Ljc4IDQuNTMgOC43OCA5LjY0djEuNThoLTEyLjEydi4xOGMwIDIuMTIgMS4xNCAzLjYgNC4xNyAzLjYgMi4yMyAwIDMuNDUtMS4wNCA0LjY0LTIuMjdsMi42NiAzLjMxYy0xLjY5IDEuOTQtNC40NiAzLjEzLTcuOTEgMy4xMy01LjguMDEtOS4wNy0zLjI3LTkuMDctOS4zMXptNS41LTIuMDV2LjI5aDYuNjJ2LS4zMmMwLTIuMy0xLjA0LTMuODUtMy4xNy0zLjg1cy0zLjQ1IDEuNTQtMy40NSAzLjg4ek0xODAuMDQgMjcuMjVjMC02LjA4IDMuMzEtOS44NiA4Ljg1LTkuODYgNS41NCAwIDguODUgMy43OCA4Ljg1IDkuODZzLTMuMzEgOS4zMi04Ljg1IDkuMzJjLTUuNTUgMC04Ljg1LTMuMjQtOC44NS05LjMyem0xMi4xNSAxLjM3di0zLjI3YzAtMi4zNy0xLjIyLTMuNzQtMy4zMS0zLjc0cy0zLjMxIDEuMzctMy4zMSAzLjc0djMuMjdjMCAyLjM3IDEuMjIgMy43NCAzLjMxIDMuNzRzMy4zMS0xLjM3IDMuMzEtMy43NHpNMTIyLjQyIDEzLjYyaC00Ljc4djIuMTljMCAxLjMtLjQzIDIuMDEtMS44NyAyLjAxaC0xLjMzdjQuMzZoMi42NnY4LjQ0YzAgMy42IDEuOTQgNS41IDUuNjEgNS41aDMuMTd2LTQuNDVoLTMuNDV2LTkuNDloMy43NHYtNC4zNmgtMy43NHYtNC4yek0xMDkuMTcgMTMuNjJoLTQuNzh2Mi4xOWMwIDEuMy0uNDMgMi4wMS0xLjg3IDIuMDFoLTEuMzN2NC4zNmgyLjY2djguNDRjMCAzLjYgMS45NCA1LjUgNS42MSA1LjVoMy4xN3YtNC40NWgtMy40NXYtOS40OWgzLjc0di00LjM2aC0zLjc0di00LjJ6TTE3MC45IDE3LjM5Yy0yLjQ1IDAtNC41MyAxLjUxLTUuMDcgMy42aC0uMTh2LTMuMTdoLTUuMzJ2MjMuODJoNS4zMnYtOC42N2guMThjLjU0IDIuMDUgMi42MyAzLjYgNS4wNyAzLjYgNC43OCAwIDcuMjctMi45MSA3LjI3LTkuMzItLjAxLTYuNC0yLjQ5LTkuODYtNy4yNy05Ljg2em0xLjcyIDExLjUyYzAgMi4zNy0xLjQ4IDMuMzUtMy40OSAzLjM1LTIuMDEgMC0zLjQ5LTEuMDQtMy40OS0yLjc3di01YzAtMS43MyAxLjQ4LTIuNzcgMy40OS0yLjc3IDIuMDEgMCAzLjQ5IDEuNTUgMy40OSAzLjkydjMuMjd6TTk3LjgzIDM2LjE0Yy0xLjkxIDAtMy4yNy0xLjMtMy42LTMuMzFoLS4yMmMtLjU4IDIuNDUtMi42NiAzLjc0LTUuNTQgMy43NC0zLjc4IDAtNS44Ni0yLjIzLTUuODYtNS41IDAtMy45OSAzLjA5LTUuOSA4LjA5LTUuOWgyLjk5di0uNjFjMC0xLjgzLS45LTIuOTktMy4xMy0yLjk5LTIuMTIgMC0zLjI0IDEuMDgtNC4wNiAyLjIzbC0zLjE3LTIuODFjMS41MS0yLjIzIDMuNjctMy42IDcuNjMtMy42IDUuMzIgMCA4LjA2IDIuNDUgOC4wNiA2LjkxdjcuMzhoMS43NnY0LjQ1aC0yLjk1em0tNC4xMy01Ljcydi0yLjIzaC0yLjU5Yy0yLjA1IDAtMy4xMy43Ni0zLjEzIDIuMTJ2LjU0YzAgMS4zNy45IDIuMDEgMi40OCAyLjAxIDEuNzYgMCAzLjI0LS43MiAzLjI0LTIuNDR6Ii8+PGc+PHBhdGggZD0iTTM5LjA1IDYuOTFMMjYuMjQgMTAuNSAxMy40MiA2LjkxIDguMyA4LjM1djMzLjA2bDUuMTMgMS40NCAxMi44Mi0zLjU5IDEyLjgyIDMuNTkgNS4xMy0xLjQ0VjguMzVsLTUuMTUtMS40NHptLTUuMTIgMjQuNjdsLTcuNjktMi4xNS03LjY5IDIuMTV2LTEzLjRsNy42OSAyLjE1IDcuNjktMi4xNXYxMy40eiIgZmlsbD0iI2I3YmFiYiIvPjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0yNi4yNCAxMy4zN3Y2Ljk2bC0xMi44Mi0zLjU5djI2LjFMOC4zIDQxLjQxVjguMzV6TTMzLjkzIDM0LjQ1bC03LjY5LTIuMTZ2Ni45NmwxMi44MSAzLjU5di0yNi4xbC01LjEyIDEuNDR6Ii8+PGc+PHBhdGggY2xhc3M9InN0MyIgZD0iTTM5LjA1IDYuOTFsNS4xMyAxLjQ0LTE3Ljk0IDUuMDJMOC4zIDguMzVsNS4xMi0xLjQ0IDEyLjgyIDMuNTl6TTI2LjI0IDI5LjQybDcuNjkgMi4xNnYyLjg3bC03LjY5LTIuMTYtNy42OSAyLjE2di0yLjg3eiIvPjwvZz48L2c+PC9zdmc+"},1196:function(t,e,n){},1198:function(t,e,n){},1200:function(t,e,n){},1216:function(t,e,n){},1218:function(t,e,n){},1220:function(t,e,n){},1222:function(t,e,n){},1224:function(t,e,n){t.exports=n.p+"images/headset-cardboard.png"},1225:function(t,e,n){t.exports=n.p+"images/headset-quest.png"},1227:function(t,e,n){t.exports=n.p+"images/nav_help_mouse_click.png"},1228:function(t,e,n){t.exports=n.p+"images/nav_help_click_inside.png"},1229:function(t,e,n){t.exports=n.p+"images/nav_help_mouse_drag_left.png"},1230:function(t,e,n){t.exports=n.p+"images/nav_help_mouse_drag_right.png"},1231:function(t,e,n){t.exports=n.p+"images/Desktop-help-play-button.svg"},1232:function(t,e,n){t.exports=n.p+"images/nav_help_mouse_position_left.png"},1233:function(t,e,n){t.exports=n.p+"images/nav_help_mouse_position_right.png"},1234:function(t,e,n){t.exports=n.p+"images/nav_help_mouse_zoom.png"},1235:function(t,e,n){t.exports=n.p+"images/nav_help_gesture_drag.png"},1236:function(t,e,n){t.exports=n.p+"images/nav_help_gesture_drag_two_finger.png"},1237:function(t,e,n){t.exports=n.p+"images/nav_help_gesture_pinch.png"},1238:function(t,e,n){t.exports=n.p+"images/nav_help_gesture_position.png"},1239:function(t,e,n){t.exports=n.p+"images/nav_help_gesture_position_two_finger.png"},1240:function(t,e,n){t.exports=n.p+"images/nav_help_gesture_tap.png"},1241:function(t,e,n){t.exports=n.p+"images/nav_help_tap_inside.png"},1242:function(t,e,n){t.exports=n.p+"images/mobile-help-play-button.svg"},1243:function(t,e,n){t.exports=n.p+"images/nav_help_keyboard_all.png"},1244:function(t,e,n){t.exports=n.p+"images/nav_help_inside_key.png"},1245:function(t,e,n){t.exports=n.p+"images/nav_help_keyboard_left_right.png"},1246:function(t,e,n){t.exports=n.p+"images/Desktop-help-spacebar.png"},1247:function(t,e,n){t.exports=n.p+"images/nav_help_keyboard_up_down.png"},1248:function(t,e,n){t.exports=n.p+"images/nav_help_zoom_keys.png"},1249:function(t,e,n){t.exports=n.p+"images/nav_help_360.png"},1250:function(t,e,n){t.exports=n.p+"images/mattertag-disc-128-free.v1.png"},1251:function(t,e,n){},1253:function(t,e,n){},1255:function(t,e,n){},1257:function(t,e,n){},1259:function(t,e,n){},1261:function(t,e,n){},1263:function(t,e,n){},150:function(t,e,n){"use strict";n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return d}));var o=n(11),r=n(30);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){if(!t.prototype||!t.prototype.render)return t.__scuWrap||(t.__scuWrap=f(t,v));t.prototype.shouldComponentUpdate=g}function d(t){if(!t.prototype||!t.prototype.render)return t.__scuWrap||(t.__scuWrap=f(t,r.b));t.prototype.shouldComponentUpdate=y}function f(t,e){var n=function(t){function e(){return a(this,e),c(this,l(e).apply(this,arguments))}return u(e,t),e}(b);return n.prototype.renderChild=t,n.prototype.diffFunc=e,n}var b=function(t){function e(){return a(this,e),c(this,l(e).apply(this,arguments))}var n,o,r;return u(e,t),n=e,(o=[{key:"shouldComponentUpdate",value:function(t){return this.diffFunc(t,this.props)}},{key:"render",value:function(t,e,n){return this.renderChild(t,n)}}])&&s(n.prototype,o),r&&s(n,r),e}(o.Component);function g(t,e){return v(t,this.props)||v(e,this.state)}function y(t,e){return v(t,this.props)||Object(r.b)(e,this.state)}function v(t,e){for(var n in t)if(t[n]!==e[n])return!0;for(var o in e)if(!(o in t))return!0;return!1}},1530:function(t,e,n){"use strict";n.r(e);var o,r=n(11);!function(t){t.MEASUREMENTS_MODE="measurement_mode"}(o||(o={}));var i,s,a=n(105),c=n(49),l=n(1171),u=n(1090),p=n(1172),h=n(150),d=n(6),f=n(964),b=n(374),g=n(285),y=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},m=function(t){function e(e){var n=t.call(this,e)||this;return n.handleClick=function(){n.props.onToggleOpen(f.a.VR_SELECT,!n.props.open)},n}return y(e,t),e.prototype.render=function(){return Object(r.h)(g.a,{appendClass:{"view-in-vr":!0},onClick:this.handleClick},Object(r.h)(b.a,{content:this.context.locale.t(c.a.VIEW_IN_VR),position:b.b.UP,tooltipTimeout:Object(d.b)()?1e3:void 0},Object(r.h)("span",{class:"icon icon-vr"})))},e=v([h.b],e)}(r.Component),O=n(1091),E=n(1092),w=n(1173),_=n(1097),L=(n(1185),n(2)),M=n(243),S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),j=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}c((o=o.apply(t,e||[])).next())}))},T=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},P=new L.a("pause-button"),I=function(t){function e(e){var n=t.call(this,e)||this;return n.justEnded=!1,n.stopTour=function(t){return j(n,void 0,void 0,(function(){return T(this,(function(e){this.context.analytics.track("showcase_gui",{gui_action:"tour_stopped"}),t.preventDefault();try{this.context.commandBinder.issueCommand(new M.d)}catch(t){P.debug(t)}return[2]}))}))},n.state={justPaused:!1},n}return S(e,t),e.prototype.componentDidUpdate=function(){this.state.justPaused&&this.setState({justPaused:!1}),this.justEnded=!1},e.prototype.componentWillReceiveProps=function(t){!this.props.tourPlaying||t.tourPlaying||this.justEnded||this.setState({justPaused:!0}),this.props.tourEnded&&(this.justEnded=!0)},e.prototype.render=function(){var t=this.props.tourPlaying,e=this.state.justPaused;return Object(r.h)("div",{id:"pause-button",onClick:this.stopTour,onTouchMove:this.stopTour,onTouchStart:this.stopTour},!t&&Object(r.h)("img",{src:n(1187),class:a({justPaused:e})}))},e}(r.Component),D=n(21),C=n(32),k=n(567),A=n(162),x=n(117),R=n(87),N=n(329),H=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),U=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},B=function(t){function e(e,o){var r=t.call(this,e)||this;return r.nudgeTimeout=0,r.updateNudge=function(){var t=r.context.settings.tryGetProperty(x.a,!1),e=r.context.settings.tryGetProperty(R.a.MeasurementUserNudgeSeen,!1);!t||e||r.nudgeTimeout||(r.nudgeTimeout=window.setTimeout((function(){r.setState({showNudge:!0}),window.setTimeout((function(){r.dismissNudge()}),n.DISMISS_NUDGE_TIMEOUT)}),n.SHOW_NUDGE_TIMEOUT))},r.dismissNudge=function(){r.state.showNudge&&(r.context.analytics.track("showcase_gui",{gui_action:"mesasure_nudge"}),r.context.settings.setLocalStorageProperty(R.a.MeasurementUserNudgeSeen,!0),r.setState({showNudge:!1}))},r.toggleMode=function(){r.context.commandBinder.issueCommand(new A.f(!r.props.modeOpen,!0)),r.context.analytics.track("showcase_gui",{gui_action:"measure_mode"})},r.localized={measurement_mode:o.locale.t(c.a.MEASUREMENT_MODE),nudgeTitleString:o.locale.t(c.a.MEASUREMENT_NUDGE_TITLE),nudgeMessageString:o.locale.t(c.a.MEASUREMENT_NUDGE_MESSAGE)},r.state={showNudge:!1},r}var n;return H(e,t),n=e,e.prototype.componentDidMount=function(){this.updateNudge()},e.prototype.componentWillReceiveProps=function(t){t.modeOpen!==this.props.modeOpen&&this.dismissNudge()},e.prototype.render=function(){var t=this.props,e=t.modeOpen,n=t.mobile,o=this.state.showNudge,i=this.localized,s=i.nudgeTitleString,c=i.nudgeMessageString;return Object(r.h)("div",{class:"measure-mode-button"},Object(r.h)(g.a,{onClick:this.toggleMode},Object(r.h)(b.a,{content:this.localized.measurement_mode,position:b.b.UP,tooltipTimeout:n?1e3:void 0},Object(r.h)("span",{class:a("icon icon-tape-measure",{open:e})}))),Object(r.h)(N.b,{appendClass:{"nudge-tooltip":!0},open:o,closeButton:!0,onClose:this.dismissNudge,title:s,message:Object(r.h)("div",{class:"nudge-message"},Object(r.h)("span",{class:"message"},c)),arrowPos:N.a.BOTTOM_CENTER}))},e.SHOW_NUDGE_TIMEOUT=6e4,e.DISMISS_NUDGE_TIMEOUT=1e4,e=n=U([h.b],e)}(r.Component),z=n(1174),W=(n(1193),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),V=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},F=function(t){function e(e){var n=t.call(this,e)||this;return n.handleTermsClick=function(){n.props.toggleOpenModal(f.a.TERMS,!n.props.isTermsOpen),n.context.analytics.track("showcase_gui",{gui_action:"click_terms_button",interaction_source:"gui"})},n.handleHelpClick=function(){n.props.toggleOpenModal(f.a.HELP,!n.props.isHelpOpen),n.context.analytics.track("showcase_gui",{gui_action:"click_help_button",interaction_source:"gui"})},n}return W(e,t),e.prototype.getFooterLogo=function(){var t="1"!==Object(d.A)("mls"),e=n(1195),o=Object(r.h)("img",{class:"footer-logo",src:e});return t?Object(r.h)("a",{class:"link logo-link",href:"https://matterport.com",target:"_blank"},o):o},e.prototype.render=function(){return Object(r.h)("div",{id:"footer"},Object(r.h)("span",{onClick:this.handleHelpClick,class:"link"},this.context.locale.t(c.a.HELP)),Object(r.h)("span",null," | "),Object(r.h)("span",{onClick:this.handleTermsClick,class:"link"},this.context.locale.t(c.a.TERMS)),this.getFooterLogo())},e=V([h.b],e)}(r.Component),Y=(n(1196),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),G=function(t){function e(e){var n,i=t.call(this,e)||this;return i.viewmodeToClass=((n={})[C.b.INSIDE]="inside",n[C.b.OUTSIDE]="outside",n[C.b.DOLLHOUSE]="dollhouse",n[C.b.FLOORPLAN]="floorplan",n[C.b.TRANSITIONING]="transitioning",n),i.onBriefHLR=function(){i.setState((function(t){return{briefHlr:!t.briefHlr}}))},i.updateViewportSize=function(){var t=i.context&&i.context.mainDiv?i.context.mainDiv.offsetHeight:window.innerHeight;i.setState({viewportHeight:t})},i.isReelEnabled=function(){var t=i.context.settings,e=i.state.viewportHeight,n=t.checkUrlParam("hr",1,1),o=t.tryGetProperty(D.a.HighlightReel,!0);return e>=w.a&&n&&o},i.isTourEnabled=function(){var t=i.context.settings,e=!!t.tryGetProperty("gt",1),n=t.tryGetProperty(D.a.TourButtons,!0);return e&&n},i.isFloorsEnabled=function(){return!!i.context.settings.checkUrlParam("f",1,1)},i.onToggleHLR=function(t){i.isReelEnabled()&&i.props.tourState.totalSteps>0&&i.setState({reelOpen:t})},i.toggleShareModal=function(){var t=i.props.openModal===f.a.SHARE;i.props.toggleOpenModal(f.a.SHARE,!t)},i.renderHighlightReelControls=function(){var t=i.props.tourState,e=t.totalSteps,n=t.tourPlaying,o=i.isReelEnabled()&&e>0,s=i.isTourEnabled()&&e>0;return Object(r.h)("div",{class:"highlight-tour-controls"},o&&Object(r.h)(E.a,{reelOpen:i.state.reelOpen,onToggleHLR:i.onToggleHLR,reelEnabled:o}),s&&Object(r.h)(u.a,{tourEmpty:!1,tourPlaying:n}))},i.renderModeControls=function(){return Object(r.h)(l.a,{viewmode:i.props.viewmode})},i.renderFloorPlanControls=function(){var t=i.props.viewmode;return Object(r.h)(p.a,{viewmode:t})},i.renderMeasurementModeButton=function(){var t=i.props,e=t.showcaseTool,n=t.mobile,s=e===o.MEASUREMENTS_MODE;return Object(r.h)(B,{modeOpen:s,mobile:n})},i.renderHighlightReel=function(t){var e=i.props.tourState,n=e.totalSteps,o=e.tourPlaying,s=e.highlights,a=e.activeStep,c=e.transition,l=i.state,u=l.reelOpen,p=l.briefHlr;return Object(r.h)(w.b,{transition:c,activeStep:a,highlights:s,tourPlaying:o,totalSteps:n,editMode:!1,reelOpen:u&&t,briefHlr:p,onBriefHLR:i.onBriefHLR,onToggleHLR:i.onToggleHLR})},i.renderFooter=function(){var t=i.state.reelOpen,e=i.props,n=e.toggleOpenModal,s=e.showcaseTool,a=e.openModal,c=e.tourState,l=c.totalSteps,u=c.tourPlaying,p=c.activeStep,h=s===o.MEASUREMENTS_MODE;return Object(r.h)("div",{class:"footer-ui"},!h&&Object(r.h)(_.a,{activeStep:p,tourPlaying:u,totalSteps:l,reelOpen:t,onToggleHLR:i.onToggleHLR}),Object(r.h)(F,{isTermsOpen:a===f.a.TERMS,isHelpOpen:a===f.a.HELP,toggleOpenModal:n}))},i.renderLeftControls=function(){var t=[],e=i.props,n=e.unaligned,r=e.measurementsModeEnabled,s=e.showcaseTool,a=i.props.tourState.totalSteps,c=i.isReelEnabled()&&a>0,l=i.isTourEnabled()&&a>0,u=s===o.MEASUREMENTS_MODE;return(l||c)&&!u&&t.push(i.renderHighlightReelControls()),t.push(i.renderModeControls()),i.isFloorsEnabled()&&t.push(i.renderFloorPlanControls()),!r||u||n||t.push(i.renderMeasurementModeButton()),t},i.renderRightControls=function(){var t=[],e=i.props,n=e.vrEnabled,o=e.toggleOpenModal,s=e.openModal,a=e.shareEnabled,l=Object(d.y)();return t.push(Object(r.h)("span",{class:"divider"})),a&&t.push(Object(r.h)(g.a,{onClick:i.toggleShareModal},Object(r.h)(b.a,{content:i.context.locale.t(c.a.SOCIAL_SHARING),position:b.b.UP_LEFT,tooltipTimeout:Object(d.b)()?1e3:void 0},Object(r.h)("span",{class:"icon icon-share"})))),n&&t.push(Object(r.h)(m,{onToggleOpen:o,open:s===f.a.VR_SELECT})),l&&t.push(Object(r.h)(O.a,null)),t},i.state={reelOpen:!1,briefHlr:!1,viewportHeight:0},i.onResize=Object(k.a)(i.updateViewportSize,250),i.updateViewportSize(),i}return Y(e,t),e.prototype.componentDidMount=function(){this.updateViewportSize(),this.onBriefHLR(),window.addEventListener("resize",this.onResize)},e.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize)},e.prototype.render=function(){var t=this.props,e=t.tourState,n=t.viewmode,i=t.openModal,s=t.showcaseTool,c=e.tourPlaying,l=e.tourEnded,u=e.totalSteps,p=this.state.reelOpen,h=this.viewmodeToClass[n]||"",d=s===o.MEASUREMENTS_MODE,f=this.isReelEnabled()&&u>0,b=f&&!d&&!i,g=!d,y={"reel-open":b&&p,"modal-open":!!i,"tour-playing":c},v={"faded-out":!!i&&!d};return Object(r.h)("div",{id:"bottom-ui",class:a("bottom-ui",y,h)},Object(r.h)(I,{tourPlaying:c,tourEnded:l}),Object(r.h)("div",{class:a("bottom-controls",v)},Object(r.h)(z.a,{className:"controls"},this.renderLeftControls(),g&&this.renderRightControls())),f&&this.renderHighlightReel(b),this.renderFooter())},e}(r.Component),K=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Q=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Z=function(t){function e(e){return t.call(this,e)||this}return K(e,t),e.prototype.render=function(){var t,e=this.props.mode===s.Expanded,n=this.props.mode===s.Collapsed,o=this.props.formattedAddress?Object(r.h)("div",{class:"address"},Object(r.h)("i",{class:"icon-pin"}," "),this.props.formattedAddress):null,i=this.props.summary?Object(r.h)("div",{class:"summary-description"},this.props.summary):null,l=this.props.contactName?Object(r.h)("span",{id:"summary-name"},this.props.contactName,Object(r.h)("br",null)):null,u=this.props.formattedContactPhone?this.props.formattedContactPhone:this.props.phone;t=u&&Object(d.n)()?Object(r.h)("div",null,Object(r.h)("a",{id:"phone",class:"link",href:"tel:"+this.props.phone},u)):u?Object(r.h)("span",{id:"summary-phone"},u,Object(r.h)("br",null)):null;var p=this.props.contactEmail?Object(r.h)("a",{id:"email",class:"link",href:"mailto:"+this.props.contactEmail},this.props.contactEmail,Object(r.h)("br",null)):null,h=!!(l||t||p),f=h?Object(r.h)("i",{class:"icon-user"}," "):null,b=h?Object(r.h)("span",{class:"contact-block"},f,Object(r.h)("div",{class:"contact-data"},l,t,p)):null,g=this.props.externalUrl&&Object(r.h)("div",{id:"external-link"},Object(r.h)("hr",null),Object(r.h)("i",{class:"icon-ext-link"}),Object(r.h)("div",null,Object(r.h)("span",null,this.context.locale.t(c.a.LEARN_MORE)+": "),Object(r.h)("a",{class:"link",onClick:this.props.onExternalLinkClicked,href:this.props.externalUrl,target:"_blank"},this.props.externalUrl))),y=a({"main-title":!0,expanded:e=!(!e||!(h||o||i)),collapsed:n}),v=a({"summary-details":!0,expanded:e,collapsed:n,hasExternalLink:!!g});return Object(r.h)("div",{id:"summary-wrapper",class:y},Object(r.h)("div",{class:v},i,b,o,g))},e=Q([h.b],e)}(r.Component),J=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),X=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},q=function(t){function e(e){return t.call(this,e)||this}return J(e,t),e.prototype.render=function(){var t=this.props.mode===s.Collapsed?"right":"left";return Object(r.h)("div",{id:"title-toggle",onClick:this.props.handleClick},Object(r.h)("span",{class:"icon icon-dpad-"+t}))},e=X([h.b],e)}(r.Component),$=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),tt=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},et=function(t){function e(e){return t.call(this,e)||this}return $(e,t),e.prototype.collapsed=function(){return this.props.mode===s.Collapsed},e.prototype.expanded=function(){return this.props.mode===s.Expanded},e.prototype.render=function(){var t=this.props.presentedBy,e=this.expanded()?this.context.locale.t(c.a.LESS):this.context.locale.t(c.a.MORE),n=this.expanded()?"up":"down",o=a({"main-title":!0,collapsed:this.collapsed()}),i=a({"co-brand":!0,hidden:!t}),s=a({titleText:!0,noCoBrand:!t});return Object(r.h)("div",{type:"button","data-balloon":this.props.name,"data-balloon-pos":"down",class:a("main-title-row",this.collapsed()||this.expanded()?"tooltip-hidden":""),style:"display: inline-block",onClick:this.props.handleClick},Object(r.h)("div",{id:"main-title-wrapper"},Object(r.h)("div",{class:o},Object(r.h)("div",{class:i},this.context.locale.t(c.a.PRESENTED_BY),Object(r.h)("span",{class:"title",id:"cobrandTitle"}," ",t)),this.props.showHint&&Object(r.h)("div",{class:"hint"},Object(r.h)("span",{class:"link-btn"},e+" ",Object(r.h)("span",{class:"icon icon-dpad-"+n}))),Object(r.h)("div",{id:"gui-name",class:s},this.props.name))))},e=tt([h.b],e)}(r.Component),nt=(n(1198),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),ot=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.Collapsed=0]="Collapsed",t[t.Normal=1]="Normal",t[t.Expanded=2]="Expanded"}(s||(s={}));var rt,it,st=function(t){function e(e){var n=t.call(this,e)||this;return n.toggleTitleCollapse=function(){n.setTitleBarMode(s.Collapsed)},n.toggleTitleExpand=function(){n.state.mode===s.Expanded?n.setTitleBarMode(s.Normal):n.setTitleBarMode(s.Expanded)},n.onExternalLinkClicked=function(t){t.preventDefault(),n.context.analytics.track("showcase_share_origin_link_clicked"),window.open(n.props.modelDetails.externalUrl)},n.state={mode:s.Normal,lastMode:s.Normal,open:!0},n}return nt(e,t),e.prototype.setTitleBarMode=function(t){this.setState((function(e){return{mode:e.mode===t?e.lastMode:t,lastMode:e.mode}}))},e.prototype.getFilteredValue=function(t,e,n,o){return!this.context.settings.tryGetProperty(e,n)||o&&!this.props.brandingEnabled?"":t},e.prototype.render=function(){var t=this.props,e=t.modelDetails,n=t.showExternalUrl,o=e.name,i=e.presentedBy,c=e.summary,l=e.formattedAddress,u=e.contact,p=e.externalUrl,h=this.state.mode,d=n?p:"",f=this.getFilteredValue(o,D.a.DetailsModelName,!0,!1),b=this.getFilteredValue(c,D.a.DetailsSummary,!1,!1),g=this.getFilteredValue(l,D.a.DetailsAddress,!1,!1),y=this.getFilteredValue(i,D.a.PresentedBy,!1,!0),v=this.getFilteredValue(u.name,D.a.DetailsName,!1,!0),m=this.getFilteredValue(u.email,D.a.DetailsEmail,!1,!0),O=this.getFilteredValue(u.phone,D.a.DetailsPhone,!1,!0),E=this.getFilteredValue(u.formattedPhone,D.a.DetailsPhone,!1,!0),w=""!==b||""!==g||""!==m||""!==v||""!==E||""!==O;return Object(r.h)("div",{id:"model-title",className:a(s[h])},Object(r.h)("div",{class:"title-row"},Object(r.h)(q,{mode:h,handleClick:this.toggleTitleCollapse}),Object(r.h)(et,{name:f,mode:h,showHint:w,presentedBy:y,handleClick:this.toggleTitleExpand})),Object(r.h)("div",{class:"details-row"},Object(r.h)(Z,{mode:h,summary:b,formattedAddress:g,phone:O,formattedContactPhone:E,contactEmail:m,contactName:v,externalUrl:d,onExternalLinkClicked:this.onExternalLinkClicked})))},e=ot([h.b],e)}(r.Component),at=(n(1200),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),ct=function(t){function e(e){return t.call(this,e)||this}return at(e,t),e.prototype.render=function(){var t=this.props,e=t.showing,n=t.tourState,o=t.modelDetails,i=t.showExternalUrl,s=t.brandingEnabled,c=t.titleBarEnabled,l=a({"faded-out":!e||n.tourPlaying});return Object(r.h)("div",{id:"top-ui",class:l},c&&o&&Object(r.h)(st,{modelDetails:o,showExternalUrl:i,brandingEnabled:s}))},e}(r.Component),lt=n(1169),ut=n(1175),pt=n(459),ht=n(93),dt=n(1170),ft=(n(1216),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),bt=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}c((o=o.apply(t,e||[])).next())}))},gt=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},yt=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},vt=function(t){function e(e){var n=t.call(this,e)||this;return n.propertiesToRefreshUi=[pt.a,ht.b,D.a.Labels],n.refreshVisibility=function(){var t=n.context.settings;n.setState({labelsOn:t.tryGetProperty(pt.a,!1)&&t.tryGetProperty(D.a.Labels,!1),mattertagsOn:t.tryGetProperty(ht.b,!1)})},n.state={mattertagsOn:!1,labelsOn:!1},n}return ft(e,t),e.prototype.componentDidMount=function(){return bt(this,void 0,void 0,(function(){var t,e,n,o,r;return gt(this,(function(i){try{for(n=yt(this.propertiesToRefreshUi),o=n.next();!o.done;o=n.next())r=o.value,this.context.settings.onPropertyChanged(r,this.refreshVisibility)}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.refreshVisibility(),[2]}))}))},e.prototype.componentWillUnmount=function(){var t,e;try{for(var n=yt(this.propertiesToRefreshUi),o=n.next();!o.done;o=n.next()){var r=o.value;this.context.settings.removeOnPropertyChanged(r,this.refreshVisibility)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.render=function(){var t=this.state,e=t.labelsOn,n=t.mattertagsOn,i=this.props,s=i.mobile,a=i.viewmode,c=i.toggleOpenModal,l=i.tourPlaying,u=i.showcaseTool,p=i.openModal,h=u===o.MEASUREMENTS_MODE;return Object(r.h)("div",{class:"overlay-ui"},n&&Object(r.h)(lt.a,{tourPlaying:l,toolOpen:!1,mobile:s,toggleOpenModal:c,allowTagOverlay:!0}),e&&Object(r.h)(ut.a,{viewmode:a}),h&&Object(r.h)("div",{class:"tool-overlay"},Object(r.h)(dt.a,{editMode:!1,mobile:s,openModal:p,toggleOpenModal:c})))},e}(r.Component),mt=(n(1218),n(907)),Ot=n(453),Et=n(78),wt=n(1e3),_t=n(92),Lt=(n(1220),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Mt=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}c((o=o.apply(t,e||[])).next())}))},St=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},jt=function(t){function e(e){var n=t.call(this,e)||this;return n.onScrollPositionChange=function(){n.scrollbars&&n.setState({scrollClass:n.scrollbars.scrollPosition.vertical})},n.onClose=function(){n.setState({showing:!1}),n.props.toggleOpenModal(f.a.TERMS,!1)},n.state={termsText:"",showing:!1,scrollClass:Et.c.None},n}return Lt(e,t),e.prototype.componentDidMount=function(){return Mt(this,void 0,void 0,(function(){var t,e,n,o=this;return St(this,(function(r){switch(r.label){case 0:t=this.context.locale?this.context.locale.languageCode:"EN",e="./terms/terms-"+t+".html",n="",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,new _t.RequestQueue({retries:0}).get(e)];case 2:return n=r.sent(),[3,4];case 3:return r.sent(),n=this.context.locale.t(c.a.TERMS_FAIL),[3,4];case 4:return window.requestAnimationFrame((function(){o.setState({showing:!0,termsText:n})})),[2]}}))}))},e.prototype.componentDidUpdate=function(t,e){this.state.termsText!==e.termsText&&(this.termsTextDiv.innerHTML=this.state.termsText,[].slice.call(this.termsTextDiv.querySelectorAll("a")).forEach((function(t){t.setAttribute("target","_blank"),t.classList.add("link")})))},e.prototype.render=function(){var t,e=this,n=this.state,o=n.showing,i=n.scrollClass,s=a("modal",((t={"faded-in":o})[i]=!0,t));return Object(r.h)("div",{id:"terms-modal",class:s},Object(r.h)("div",{id:"terms-wrapper"},Object(r.h)(mt.a,{name:"terms",ref:function(t){return e.scrollbars=t},onScrollPositionChange:this.onScrollPositionChange,forceHidden:Object(wt.a)(window)},Object(r.h)("div",{ref:function(t){return e.termsTextDiv=t},id:"terms-text"}))),Object(r.h)(Ot.a,{buttonStyle:Ot.b.LIGHT,onClose:this.onClose}))},e}(r.Component),Tt=(n(1222),n(272)),Pt=n(347),It=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}c((o=o.apply(t,e||[])).next())}))},Dt=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Ct=function(){function t(e,n){this.sessionId=n,t.queue||(t.queue=new _t.RequestQueue({retries:0})),this.title=e.name||"",this.description=e.summary||"",this.modelSid=e.sid,this.storeLinks={},this.storeLinks[Tt.b.cardboardNativeiOS]="https://itunes.apple.com/us/app/matterport-vr/id1168808473?redirect_uri=",this.storeLinks[Tt.a.oculusNativeGear]="https://www.oculus.com/experiences/gear-vr/811670972252145/?redirect_uri=",this.storeLinks[Tt.a.cardboardNativeAndroid]="https://play.google.com/store/apps/details?id=com.matterport.mpvrcardboard&redirect_uri="}return t.prototype.getBranchKey=function(){var e=this.getOrigin();return t.branchKeyPromise||(t.branchKeyPromise=t.queue.get(e+"/api/v1/config/showcase",{responseType:"json"}).then((function(t){return t.branch_key}))),t.branchKeyPromise},t.prototype.getBranchLink=function(e,n){return It(this,void 0,Promise,(function(){var o,r,i,s,a,c,l,u,p;return Dt(this,(function(h){switch(h.label){case 0:o="https://support.matterport.com/hc/en-us/articles/360050098973-Exploring-Matterport-Spaces-in-VR-",r="https://api.branch.io/v1/url",i=this.getAppLink(e,n),s="",h.label=1;case 1:return h.trys.push([1,4,,5]),c=(a=t.queue).post,l=[r],u={responseType:"json"},p={},[4,this.getBranchKey()];case 2:return[4,c.apply(a,l.concat([(u.body=(p.branch_key=h.sent(),p.data={m:e.sid,full_url:i,$desktop_url:o,$og_app_id:"331853976762864119",$og_title:e.title,$og_description:e.description,$og_image_url:location.origin+"/api/v1/player/models/"+e.sid+"/thumb",$canonical_url:window.location.href},p),u)])).then((function(t){s=t.url||i}))];case 3:return h.sent(),[3,5];case 4:return h.sent(),s=i,[3,5];case 5:return[2,s]}}))}))},t.prototype.getStoreLink=function(t){var e=this.getReferrer(),n=e?""+encodeURIComponent(e+"&display="+t):"";return Promise.resolve(""+this.storeLinks[t]+n)},t.prototype.getOrigin=function(){var t=window.location.host;return-1===t.indexOf(".matterport.com")&&-1===t.indexOf("localhost")&&(t="my.matterport.com"),"https://"+t},t.prototype.getReferrer=function(){return d.g()?document.referrer:window.location.href},t.prototype.getSimpleLink=function(t){return this.getOrigin()+"/vr/show/?m="+t},t.prototype.getAppLink=function(t,e){var n=this.getOrigin(),o=this.getReferrer();return d.A("vrcoll",!1)?n+"/vr/dlist/?sids="+t.sid+"&lsid="+t.sid+"&ln="+encodeURIComponent(t.title)+"&ld="+encodeURIComponent(t.description)+"&display="+e+"&utm_medium="+(d.g()?"embed":"direct")+"&utm_source="+o+"&utm_showcase_session_id="+this.sessionId+"&ret="+encodeURIComponent(o):n+"/vr/show/?m="+t.sid+"&display="+e+"&utm_medium="+(d.g()?"embed":"direct")+"&utm_source="+o+"&utm_showcase_session_id="+this.sessionId+"&ret="+encodeURIComponent(o)},t.prototype.getDeepLink=function(t){return It(this,void 0,Promise,(function(){var e;return Dt(this,(function(n){return t?(e={sid:this.modelSid,title:this.title||"",description:this.description||""},[2,this.getBranchLink(e,t)]):[2,this.getSimpleLink(this.modelSid)]}))}))},t}(),kt=n(556),At=n(106),xt=n(414),Rt=new L.a("webvr"),Nt=function(t,e,n){var o=this;this.vrDisplay=t,this.commandBinder=e,this.onEvent=n,this.startWebVR=function(){if(o.vrDisplay&&o.vrDisplay.capabilities.canPresent&&!o.vrDisplay.isPresenting){o.onEvent("vr_enter_app"),o.commandBinder.issueCommand(new xt.b);var t=document.createElement("canvas");for(t.getContext("webgl"),t.className="webvr-canvas",document.bgColor="#000",document.body.style.backgroundColor="#000";document.body.firstChild;)document.body.removeChild(document.body.firstChild);document.body.appendChild(t),o.vrDisplay.requestPresent([{source:t}]).then((function(){window.addEventListener("vrdisplaypresentchange",o.onExitWebVr)})).catch((function(t){Rt.error("requestPresent Failed:",t),o.onEvent("vr_present_error")})),window.dispatchEvent(new Event("vrapp-start"))}else Rt.error("vrDisplay not found, or already presenting"),o.onEvent("vr_present_error")},this.onExitWebVr=function(){if(!o.vrDisplay.isPresenting){o.onEvent("vr_exit_app"),window.removeEventListener("vrdisplaypresentchange",o.onExitWebVr);var t=window.location.href;-1===window.location.search.indexOf("&qs=1")&&(t+="&qs=1"),Rt.info("redirecting to:",t),window.location.replace(t)}},e.issueCommand(new xt.a)},Ht=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Ut=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Bt=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}c((o=o.apply(t,e||[])).next())}))},zt=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Wt=new L.a("vr-select"),Vt=function(t){function e(e){var o=t.call(this,e)||this;return o.webVRUtility=null,o.vrDeepLinking=null,o.renderHeadsetHeader=function(){var t=o.context.locale;switch(o.state.vrPlatform){case Tt.b.cardboardNativeiOS:case Tt.b.webvr:return Object(r.h)("div",{class:"headset-header"},Object(r.h)("img",{class:"align-center",src:n(1224)}));case Tt.b.unsupported:case Tt.b.webxr:return Object(r.h)("div",{class:"headset-header dark"},Object(r.h)("span",{class:"headset-titles"},Object(r.h)("h2",null,t.t(c.a.VR_RECOMMENDED)),Object(r.h)("h1",null,t.t(c.a.VR_QUEST))),Object(r.h)("img",{class:"headset-quest",src:n(1225)}));default:return null}},o.renderBodyText=function(){var t=o.context.locale;switch(o.state.vrPlatform){case Tt.b.cardboardNativeiOS:return Object(r.h)("div",null,Object(r.h)("p",null,t.t(c.a.VR_APP_REQ)),Object(r.h)("p",null,t.t(c.a.VR_APP_DL)),Object(r.h)("p",null,t.t(c.a.VR_APP_RECCOMMENDED)));case Tt.b.webvr:return Object(r.h)("div",null,Object(r.h)("p",null,t.t(c.a.VR_APP_INSTRUCT)),Object(r.h)("p",null,t.t(c.a.VR_APP_RECCOMMENDED)));case Tt.b.unsupported:case Tt.b.webxr:return Object(r.h)("div",null,Object(r.h)("p",null,t.t(c.a.VR_SUPPORTS)));default:return null}},o.getFooterButtons=function(){var t=o.context.locale,e=o.state,n=e.vrPlatform,i=e.deepLink,s=[];return s.push(Object(r.h)(At.a,{buttonStyle:At.d.SECONDARY,appendClass:{"button-inline":!0,cancel:!0},onClick:o.onLearnMoreClicked},t.t(c.a.VR_LEARN_MORE_CAPS))),n===Tt.b.webvr||n===Tt.b.webxr?s.push(Object(r.h)(At.a,{buttonState:At.c.ENABLED,appendClass:{"button-inline":!0,confirm:!0},onClick:o.onActionClicked},t.t(c.a.VR_ENTER))):n===Tt.b.cardboardNativeiOS&&null!==i&&s.push(Object(r.h)("a",{class:"button button-inline confirm",href:i,target:"_blank",onClick:o.onActionClicked},t.t(c.a.VR_ENTER))),s},o.closeModal=function(){o.props.toggleOpenModal(f.a.VR_SELECT,!1)},o.onCloseClicked=function(){o.trackEvent("vr_modal_close"),o.closeModal()},o.onActionClicked=function(){switch(o.state.vrPlatform){case Tt.b.cardboardNativeiOS:o.trackEvent("launch_vr",{vr_platform:"ios",vr_app:Tt.b.cardboardNativeiOS}),o.trackEvent("vr_enter_app");break;case Tt.b.webvr:o.webVRUtility&&(o.webVRUtility.startWebVR(),o.closeModal());break;case Tt.b.webxr:o.startWebXR(),o.closeModal()}},o.onLearnMoreClicked=function(){window.open("https://support.matterport.com/hc/en-us/articles/360050098973-Exploring-Matterport-Spaces-in-VR-","_blank"),o.trackEvent("vr_learn_more")},o.startWebXR=function(){o.props.commandBinder.issueCommand(new kt.a({type:"immersive-vr",features:["local-floor"]})).then((function(t){if(t){o.trackEvent("vr_enter_app");var e=function(){o.trackEvent("vr_exit_app"),t.removeEventListener("end",e)};t.addEventListener("end",e)}else Wt.error("requestPresent Failed"),o.trackEvent("vr_present_error"),o.updatePlatformState()})).catch((function(t){Wt.error("requestPresent Failed:",t);var e=t?{message:t.message||"",name:t.name||""}:void 0;o.trackEvent("vr_present_error",e)}))},o.state={deepLink:null,vrPlatform:null},o}return Ht(e,t),e.prototype.componentDidMount=function(){return Bt(this,void 0,void 0,(function(){return zt(this,(function(t){switch(t.label){case 0:return Tt.e.apiExists()&&navigator.xr.addEventListener("ondevicechange",this.updatePlatformState),[4,this.updatePlatformState()];case 1:return t.sent(),this.trackEvent("click_vr_button"),[2]}}))}))},e.prototype.componentWillUnmount=function(){Tt.e.apiExists()&&navigator.xr.removeEventListener("ondevicechange",this.updatePlatformState)},e.prototype.render=function(){var t=this.props.isMobile,e=this.state.vrPlatform,n=this.context.locale,o=a("vr-modal","modal","full-modal",{mobile:t,desktop:!t}),i=e===Tt.b.cardboardNativeiOS||e===Tt.b.webvr,s=a("modal-footer",{cardboard:i});return Object(r.h)("dialog",{class:o},Object(r.h)("header",{class:"modal-header"},Object(r.h)("div",{class:"modal-title"},n.t(c.a.VR_VIEW_SPACE)),Object(r.h)(Ot.a,{onClose:this.onCloseClicked})),this.renderHeadsetHeader(),Object(r.h)("div",{class:"modal-body"},this.renderBodyText()),Object(r.h)("div",{class:s},this.getFooterButtons()))},e.prototype.updatePlatformState=function(){return Bt(this,void 0,void 0,(function(){var t,e,n;return zt(this,(function(o){switch(o.label){case 0:return[4,Object(Tt.c)()];case 1:switch(t=o.sent(),e=null,t){case Tt.b.cardboardNativeiOS:return[3,2];case Tt.b.webvr:return[3,4]}return[3,6];case 2:return this.vrDeepLinking||(this.vrDeepLinking=new Ct(this.props.modelDetails,this.context.analytics.getSessionId())),[4,this.vrDeepLinking.getDeepLink(Tt.b.cardboardNativeiOS)];case 3:return e=o.sent(),[3,6];case 4:return[4,Pt.a()];case 5:return(n=o.sent())&&!this.webVRUtility&&(this.webVRUtility=new Nt(n,this.props.commandBinder,this.trackEvent.bind(this))),[3,6];case 6:return this.setState({deepLink:e,vrPlatform:t}),Wt.debug(this.state),[2]}}))}))},e.prototype.trackEvent=function(t,e){var n={gui_action:t,orientation:Object(d.l)()?"landscape":"portrait",platform:this.state.vrPlatform};n=Object.assign(n,e),this.context.analytics.track("showcase_gui",n)},e=Ut([h.b],e)}(r.Component),Ft=(n(1050),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ft(e,t),e.prototype.render=function(){var t=this.props.isMobile,e=this.context.locale;return Object(r.h)("div",{class:"cta"},Object(r.h)("h1",{class:a({mobile:t})},e.t(t?c.a.MOBILE_SHORT_CTA:c.a.DESKTOP_SHORT_CTA)))},e}(r.Component),Gt={mouse:{click:n(1227),clickInside:n(1228),dragLeft:n(1229),dragRight:n(1230),play:n(1231),positionLeft:n(1232),positionRight:n(1233),zoom:n(1234)},gesture:{drag:n(1235),dragTwoFinger:n(1236),pinch:n(1237),position:n(1238),positionTwoFinger:n(1239),tap:n(1240),tapInside:n(1241),play:n(1242)},keyboard:{all:n(1243),inside:n(1244),leftRight:n(1245),spaceBar:n(1246),upDown:n(1247),zoom:n(1248)},moreHelp:{view360:n(1249),mattertag:n(1250)}},Kt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Qt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.keys={header:c.a.DESKTOP_SHORT_CTA,move:c.a.MOVE,inside:c.a.INSIDE,rotate:c.a.ROTATE,play:c.a.PLAY,zoom:c.a.ZOOM},e.clickInside={Icon:Gt.mouse.clickInside,Label:e.keys.inside,FooterIcon:Gt.keyboard.inside},e.clickMove={Icon:Gt.mouse.positionRight,Label:e.keys.move,FooterIcon:""},e.moveUpDown={Icon:Gt.mouse.click,Label:e.keys.move,FooterIcon:Gt.keyboard.upDown},e.play={Icon:Gt.mouse.play,Label:e.keys.play,FooterIcon:null},e.zoom={Icon:Gt.mouse.zoom,Label:e.keys.zoom,FooterIcon:Gt.keyboard.zoom},e.dragMove={Icon:Gt.mouse.positionLeft,Label:e.keys.move,FooterIcon:null},e.dragRotateLeft={Icon:Gt.mouse.dragLeft,Label:e.keys.rotate,FooterIcon:Gt.keyboard.leftRight},e.dragRotateRight={Icon:Gt.mouse.dragRight,Label:e.keys.rotate,FooterIcon:Gt.keyboard.leftRight},e.left=e.clickInside,e.center=e.clickMove,e.right=e.play,e}return Kt(e,t),e.prototype.render=function(){var t=this.props.viewmode,e=this.context.locale;return this.configureViewmodeSpecifics(t),Object(r.h)("div",{class:a({cta:!0})},Object(r.h)("h1",null,e.t(this.keys.header)),Object(r.h)("h2",null,e.t(this.left.Label)),Object(r.h)("img",{src:this.left.Icon}),this.left.FooterIcon?Object(r.h)("hr",null):Object(r.h)("span",null),this.left.FooterIcon?Object(r.h)("img",{class:"footer-icon",src:this.left.FooterIcon}):Object(r.h)("span",null),Object(r.h)("h2",null,e.t(this.center.Label)),Object(r.h)("img",{src:this.center.Icon}),this.center.FooterIcon?Object(r.h)("hr",null):Object(r.h)("span",null),this.center.FooterIcon?Object(r.h)("img",{class:"footer-icon",src:this.center.FooterIcon}):Object(r.h)("span",null),Object(r.h)("h2",null,e.t(this.right.Label)),Object(r.h)("img",{src:this.right.Icon}),this.right.FooterIcon?Object(r.h)("hr",null):Object(r.h)("span",null),this.right.FooterIcon?Object(r.h)("img",{class:"footer-icon",src:this.right.FooterIcon}):Object(r.h)("span",null))},e.prototype.configureViewmodeSpecifics=function(t){switch(t){case C.b.INSIDE:this.left=this.dragRotateLeft,this.center=this.moveUpDown,this.right=this.props.isHelpCta?this.zoom:this.play;break;case C.b.OUTSIDE:case C.b.DOLLHOUSE:this.left=this.dragRotateLeft,this.center=this.clickMove,this.right=this.clickInside;break;case C.b.FLOORPLAN:this.left=this.dragMove,this.center=this.dragRotateRight,this.right=this.clickInside}},e}(r.Component),Zt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Jt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.keys={shortCta:c.a.MOBILE_SHORT_CTA,move:c.a.MOVE,inside:c.a.INSIDE,rotate:c.a.ROTATE,play:c.a.PLAY,zoom:c.a.ZOOM},e.clickInside={Icon:Gt.gesture.tapInside,Label:e.keys.inside},e.clickMove={Icon:Gt.gesture.tap,Label:e.keys.move},e.dragRotate={Icon:Gt.gesture.drag,Label:e.keys.rotate},e.dragMove={Icon:Gt.gesture.position,Label:e.keys.move},e.play={Icon:Gt.gesture.play,Label:e.keys.play},e.zoom={Icon:Gt.gesture.pinch,Label:e.keys.zoom},e.left=e.dragRotate,e.center=e.clickInside,e.right=e.play,e}return Zt(e,t),e.prototype.render=function(){var t=a({mobile:!0}),e=this.props.viewmode,n=this.context.locale;return this.configureViewmodeSpecifics(e),Object(r.h)("div",{class:a({cta:!0,mobile:!0})},Object(r.h)("h1",{class:t},n.t(this.keys.shortCta)),Object(r.h)("h2",{class:t},n.t(this.left.Label)),Object(r.h)("img",{src:this.left.Icon}),Object(r.h)("h2",{class:t},n.t(this.center.Label)),Object(r.h)("img",{src:this.center.Icon}),Object(r.h)("h2",{class:t},n.t(this.right.Label)),Object(r.h)("img",{src:this.right.Icon}))},e.prototype.configureViewmodeSpecifics=function(t){switch(t){case C.b.INSIDE:this.left=this.dragRotate,this.center=this.clickMove,this.right=this.props.isHelpCta?this.zoom:this.play;break;case C.b.DOLLHOUSE:case C.b.OUTSIDE:this.left=this.dragRotate,this.center=this.clickInside,this.right=this.props.isHelpCta?this.zoom:this.play;break;case C.b.FLOORPLAN:this.left=this.dragMove,this.center=this.clickInside,this.right=this.props.isHelpCta?this.zoom:this.play}},e}(r.Component),Xt=n(111),qt=n(70),$t=n(12),te=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),ee=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ne=new L.a("cta"),oe=function(t){function e(e){var n=t.call(this,e)||this;return n.styles=[rt.NONE],n.state={ctaSource:it.TOUR,seenCta:!1,style:n.styles[0]},n}return te(e,t),e.prototype.onStart=function(t){this.showAtStart&&t.phase===$t.a.PLAYING&&this.props.toggleOpenModal(f.a.CTA,!0)},e.prototype.handleInteraction=function(){this.props.showCta&&!this.state.seenCta&&(this.setState({seenCta:!0}),this.props.toggleOpenModal(f.a.CTA,!1))},e.prototype.componentDidMount=function(){try{this.onTourStopped=this.onTourStopped.bind(this),this.onTourStarted=this.onTourStarted.bind(this),this.onStart=this.onStart.bind(this),this.handleInteraction=this.handleInteraction.bind(this),this.props.canvas&&(this.props.canvas.addEventListener("mousedown",this.handleInteraction),this.props.canvas.addEventListener("pointerdown",this.handleInteraction),this.props.canvas.addEventListener("touchstart",this.handleInteraction)),this.context.messageBus.subscribe(Xt.f,this.onTourStopped),this.context.messageBus.subscribe(Xt.a,this.onTourStopped),this.context.messageBus.subscribe(Xt.c,this.onTourStarted),this.context.messageBus.subscribe(qt.a,this.onStart)}catch(t){ne.debug(t)}var t=this.state.ctaSource,e=parseInt(this.context.settings.tryGetProperty("tourcta",1),10);!isNaN(e)&&e in rt&&(this.styles[0]=e,t=it.TOUR);var n=parseInt(this.context.settings.tryGetProperty("help",0),10);if(!isNaN(n)&&n in rt&&n!==rt.NONE){this.styles[0]===rt.NONE?this.styles[0]=n:this.styles.unshift(n),t=it.HELP;var o=1===this.context.settings.tryGetProperty("ts",0),r=1===this.context.settings.tryGetProperty("qs",0);o||(r?this.props.toggleOpenModal(f.a.CTA,!0):this.showAtStart=!0)}this.styles[0]!==rt.NONE&&this.setState({style:this.styles[0],ctaSource:t})},e.prototype.componentWillUnmount=function(){this.context.messageBus.unsubscribe(Xt.f,this.onTourStopped),this.context.messageBus.unsubscribe(Xt.a,this.onTourStopped),this.context.messageBus.unsubscribe(Xt.c,this.onTourStarted),this.context.messageBus.unsubscribe(qt.a,this.onStart),this.props.canvas&&(this.props.canvas.removeEventListener("mousedown",this.handleInteraction),this.props.canvas.removeEventListener("pointerdown",this.handleInteraction),this.props.canvas.removeEventListener("touchstart",this.handleInteraction))},e.prototype.render=function(){var t={ctaContainer:!0,mobile:this.props.isMobile,showMessage:this.props.showCta,small:this.state.style===rt.SMALL,helpCta:this.state.ctaSource===it.HELP};return Object(r.h)("div",{id:"cta-container",class:a(t)},this.chooseCtaStyle())},e.prototype.chooseCtaStyle=function(){var t=this.props.isMobile,e=this.props.viewmode;switch(this.state.style){case rt.NONE:return null;case rt.SMALL:return Object(r.h)(Yt,{isMobile:this.props.isMobile});case rt.LARGE:return t?Object(r.h)(Jt,{isMobile:t,viewmode:e,isHelpCta:this.state.ctaSource===it.HELP}):Object(r.h)(Qt,{viewmode:e,isHelpCta:this.state.ctaSource===it.HELP})}},e.prototype.onTourStopped=function(){this.state.ctaSource!==it.TOUR||this.state.seenCta||this.props.toggleOpenModal(f.a.CTA,!0)},e.prototype.onTourStarted=function(){this.state.ctaSource===it.HELP&&2===this.styles.length&&this.setState({ctaSource:it.TOUR,seenCta:!1,style:this.styles[1]}),this.props.showCta&&this.props.toggleOpenModal(f.a.CTA,!1)},e=ee([h.b],e)}(r.Component);!function(t){t[t.NONE=0]="NONE",t[t.LARGE=1]="LARGE",t[t.SMALL=2]="SMALL"}(rt||(rt={})),function(t){t[t.HELP=0]="HELP",t[t.TOUR=1]="TOUR"}(it||(it={}));var re,ie,se,ae,ce,le,ue,pe,he,de,fe,be,ge,ye,ve,me,Oe,Ee,we,_e,Le,Me,Se,je,Te,Pe,Ie,De,Ce,ke,Ae,xe,Re,Ne,He;n(1251);!function(t){t[t.navigation=0]="navigation",t[t.moreHelp=1]="moreHelp"}(re||(re={})),function(t){t.left="left",t.middle="middle",t.right="right"}(ie||(ie={})),function(t){t.topInfo="topInfo",t.bigImage="bigImage",t.bottomInfo="bottomInfo",t.keyboard="keyboard"}(se||(se={})),function(t){t.desktop="desktop",t.mobile="mobile"}(ae||(ae={})),function(t){t.hlr="hlr",t.dollhouse="dollhouse",t.floors="floors",t.mattertag="mattertag",t.floorplan="floorplan",t.tour="tour",t.inside="inside",t.vr="vr",t.view360="view360",t.fullscreen="fullscreen"}(ce||(ce={})),function(t){t.landscape="landscape",t.portrait="portrait"}(le||(le={}));var Ue=((ue={})[ae.desktop]=((pe={})[ie.left]=((he={})[se.topInfo]="HELP_DESKTOP_PANORAMA_1A",he[se.bottomInfo]="HELP_DESKTOP_PANORAMA_1B",he[se.bigImage]=Gt.mouse.dragLeft,he[se.keyboard]=Gt.keyboard.leftRight,he),pe[ie.middle]=((de={})[se.topInfo]="HELP_DESKTOP_PANORAMA_2A",de[se.bottomInfo]="HELP_DESKTOP_PANORAMA_2B",de[se.bigImage]=Gt.mouse.click,de[se.keyboard]=Gt.keyboard.upDown,de),pe[ie.right]=((fe={})[se.topInfo]="HELP_DESKTOP_PANORAMA_3A",fe[se.bottomInfo]="HELP_DESKTOP_PANORAMA_3B",fe[se.bigImage]=Gt.mouse.zoom,fe[se.keyboard]=Gt.keyboard.zoom,fe),pe),ue[ae.mobile]=((be={})[ie.left]=((ge={})[se.topInfo]="HELP_MOBILE_PANORAMA_1",ge[se.bigImage]=Gt.gesture.drag,ge),be[ie.middle]=((ye={})[se.topInfo]="HELP_MOBILE_PANORAMA_2",ye[se.bigImage]=Gt.gesture.tap,ye),be[ie.right]=((ve={})[se.topInfo]="HELP_MOBILE_3",ve[se.bigImage]=Gt.gesture.pinch,ve),be),ue),Be=((me={})[ae.desktop]=((Oe={})[ie.left]=((Ee={})[se.topInfo]="HELP_DESKTOP_DOLLHOUSE_1A",Ee[se.bottomInfo]="HELP_DESKTOP_DOLLHOUSE_1B",Ee[se.bigImage]=Gt.mouse.dragLeft,Ee[se.keyboard]=Gt.keyboard.all,Ee),Oe[ie.middle]=((we={})[se.topInfo]="HELP_DESKTOP_DOLLHOUSE_2A",we[se.bigImage]=Gt.mouse.positionRight,we),Oe[ie.right]=((_e={})[se.topInfo]="HELP_DESKTOP_DOLLHOUSE_3A",_e[se.bigImage]=Gt.mouse.zoom,_e),Oe),me[ae.mobile]=((Le={})[ie.left]=((Me={})[se.topInfo]="HELP_MOBILE_DOLLHOUSE_1",Me[se.bigImage]=Gt.gesture.drag,Me),Le[ie.middle]=((Se={})[se.topInfo]="HELP_MOBILE_DOLLHOUSE_2",Se[se.bigImage]=Gt.gesture.positionTwoFinger,Se),Le[ie.right]=((je={})[se.topInfo]="HELP_MOBILE_3",je[se.bigImage]=Gt.gesture.pinch,je),Le),me),ze=((Te={})[ae.desktop]=((Pe={})[ie.left]=((Ie={})[se.topInfo]="HELP_DESKTOP_FLOORPLAN_1A",Ie[se.bigImage]=Gt.mouse.positionLeft,Ie),Pe[ie.middle]=((De={})[se.topInfo]="HELP_DESKTOP_FLOORPLAN_2A",De[se.bottomInfo]="HELP_DESKTOP_FLOORPLAN_2B",De[se.bigImage]=Gt.mouse.dragRight,De[se.keyboard]=Gt.keyboard.leftRight,De),Pe[ie.right]=((Ce={})[se.topInfo]="HELP_DESKTOP_FLOORPLAN_3A",Ce[se.bottomInfo]="HELP_DESKTOP_FLOORPLAN_3B",Ce[se.bigImage]=Gt.mouse.zoom,Ce[se.keyboard]=Gt.keyboard.upDown,Ce),Pe),Te[ae.mobile]=((ke={})[ie.left]=((Ae={})[se.topInfo]="HELP_MOBILE_FLOORPLAN_1",Ae[se.bigImage]=Gt.gesture.position,Ae),ke[ie.middle]=((xe={})[se.topInfo]="HELP_MOBILE_FLOORPLAN_2",xe[se.bigImage]=Gt.gesture.dragTwoFinger,xe),ke[ie.right]=((Re={})[se.topInfo]="HELP_MOBILE_3",Re[se.bigImage]=Gt.gesture.pinch,Re),ke),Te),We=JSON.parse(JSON.stringify(Ue));We.desktop.middle=((Ne={})[se.topInfo]="HELP_DESKTOP_360_2A",Ne[se.bottomInfo]="HELP_DESKTOP_360_2B",Ne[se.bigImage]=Gt.mouse.clickInside,Ne[se.keyboard]=Gt.keyboard.inside,Ne),We.mobile.middle=((He={})[se.topInfo]="HELP_MOBILE_360_2",He[se.bigImage]=Gt.gesture.tapInside,He);var Ve,Fe,Ye,Ge,Ke,Qe,Ze,Je,Xe,qe,$e,tn,en={INSIDE:Ue,OUTSIDE:We,FLOORPLAN:ze,DOLLHOUSE:Be},nn=(n(1253),n(201)),on=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),rn=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},sn=function(t){function e(e){var n=t.call(this,e)||this;return n.state={overflow:!1},n}return on(e,t),e.prototype.componentWillReceiveProps=function(t){(this.navigationDiv&&this.navigationDiv.clientHeight||0)/(this.navigationDiv.parentElement&&this.navigationDiv.parentElement.clientHeight||1)>.7&&this.setState({overflow:!0})},e.prototype.getAssetObj=function(t){switch(t){case this.props.Modes.DOLLHOUSE:return en.DOLLHOUSE[this.props.device];case this.props.Modes.FLOORPLAN:return en.FLOORPLAN[this.props.device];case this.props.Modes.OUTSIDE:return en.OUTSIDE[this.props.device];case this.props.Modes.INSIDE:default:return en.INSIDE[this.props.device]}},e.prototype.buildRows=function(){var t=this.getAssetObj(this.props.viewmode),e=[];for(var n in se){var o=[],i=[];for(var s in ie)if(o.push(this.wrapAsset(t,s,n,!1)),n===se.bigImage){var c=!t[s][se.bottomInfo];i.push(Object(r.h)("div",{class:a(s,"column",{noDivider:c})},Object(r.h)("hr",null)))}e.push(Object(r.h)("div",{class:a(n,"row")},o))}return e},e.prototype.buildMobilePortrait=function(){var t=this.getAssetObj(this.props.viewmode),e=[];for(var n in t)for(var o in t[n])e.push(this.wrapAsset(t,n,o,!0));return e},e.prototype.wrapAsset=function(t,e,n,o){var i=t[e][n],s=n===se.bigImage||n===se.keyboard;return Object(r.h)("div",{class:o?a(n,"row"):a(e,"column")},i&&s?Object(r.h)("img",{src:i}):i&&this.context.locale.t(i))},e.prototype.render=function(){var t,e=this,n=this.props.device===ae.mobile&&this.props.orientation===nn.a.PORTRAIT,o=a(((t={navigation:!0,small:this.state.overflow})[this.props.viewmode]=!0,t));return Object(r.h)("div",{class:o,ref:function(t){e.navigationDiv=t}},n?Object(r.h)(mt.a,{name:"navigation",forceHidden:!1},Object(r.h)("div",{class:"nav-wrapper"},this.buildMobilePortrait())):this.buildRows())},e=rn([h.b],e)}(r.Component),an=((Ve={})[ce.hlr]=((Fe={})[se.topInfo]="HELP_MORE_HLR_A",Fe[se.bigImage]="icon-hlr",Fe[se.bottomInfo]="HELP_DESKTOP_MORE_HLR_B",Fe),Ve[ce.dollhouse]=((Ye={})[se.topInfo]="HELP_MORE_DOLLHOUSE_A",Ye[se.bigImage]="icon-dollhouse",Ye[se.bottomInfo]="HELP_MOBILE_MORE_DOLLHOUSE_B",Ye),Ve[ce.floors]=((Ge={})[se.topInfo]="HELP_MORE_FLOORS_A",Ge[se.bigImage]="icon-floor-controls",Ge[se.bottomInfo]="HELP_DESKTOP_MORE_FLOORS_B",Ge),Ve[ce.mattertag]=((Ke={})[se.topInfo]="HELP_MORE_MATTERTAG_A",Ke[se.bigImage]=Gt.moreHelp.mattertag,Ke[se.bottomInfo]="HELP_MOBILE_MORE_MATTERTAG_B",Ke),Ve[ce.tour]=((Qe={})[se.topInfo]="HELP_MORE_TOUR_A",Qe[se.bigImage]="icon-play",Qe[se.bottomInfo]="HELP_DESKTOP_MORE_TOUR_B",Qe),Ve[ce.inside]=((Ze={})[se.topInfo]="HELP_MORE_INSIDE_A",Ze[se.bigImage]="icon-panorama",Ze[se.bottomInfo]="HELP_MOBILE_MORE_INSIDE_B",Ze),Ve[ce.vr]=((Je={})[se.topInfo]="HELP_MORE_VR_A",Je[se.bigImage]="icon-vr",Je[se.bottomInfo]="HELP_MOBILE_MORE_VR_B",Je),Ve[ce.view360]=((Xe={})[se.topInfo]="HELP_MORE_360_A",Xe[se.bigImage]=Gt.moreHelp.view360,Xe[se.bottomInfo]="HELP_MOBILE_MORE_360_B",Xe),Ve[ce.floorplan]=((qe={})[se.topInfo]="HELP_MORE_FLOORPLAN_A",qe[se.bigImage]="icon-floorplan",qe[se.bottomInfo]="HELP_MOBILE_FLOORPLAN_B",qe),Ve),cn=JSON.parse(JSON.stringify(an));cn[ce.fullscreen]=(($e={})[se.topInfo]="HELP_MORE_FULLSCREEN_A",$e[se.bigImage]="icon-fullscreen",$e[se.bottomInfo]="HELP_DESKTOP_MORE_FULLSCREEN_B",$e),cn[ce.dollhouse][se.bottomInfo]="HELP_DESKTOP_MORE_DOLLHOUSE_B",cn[ce.mattertag][se.bottomInfo]="HELP_DESKTOP_MORE_MATTERTAG_B",cn[ce.inside][se.bottomInfo]="HELP_DESKTOP_MORE_INSIDE_B",cn[ce.vr][se.bottomInfo]="HELP_DESKTOP_MORE_VR_B",cn[ce.view360][se.bottomInfo]="HELP_DESKTOP_MORE_360_B",cn[ce.floorplan][se.bottomInfo]="HELP_DESKTOP_FLOORPLAN_B";var ln,un,pn,hn=((tn={})[ae.desktop]=cn,tn[ae.mobile]=an,tn),dn=(n(1255),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),fn=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},bn=[se.topInfo,se.bigImage,se.bottomInfo],gn=function(t){function e(e){return t.call(this,e)||this}return dn(e,t),e.prototype.componentDidMount=function(){this.scrollbars.scrollTo({x:0,y:0})},e.prototype.buildInstructions=function(){for(var t,e,n=[],o=this.props.device===ae.desktop?5:this.props.orientation===nn.a.LANDSCAPE?3:2,i=Object.keys(hn[this.props.device]),s=0;s<i.length;s+=o){try{for(var c=fn(bn),l=c.next();!l.done;l=c.next()){for(var u=l.value,p=[],h=0;h<o;h++)if(!(s+h>=i.length)){var d=hn[this.props.device][i[s+h]][u],f=a(u,i[s+h],{noAsset:!d});switch(u){case se.topInfo:p.push(Object(r.h)("div",{class:f},this.context.locale.t(d)));break;case se.bigImage:p.push(Object(r.h)("div",{class:f},d.indexOf(".png")>-1?Object(r.h)("img",{src:d}):Object(r.h)("span",{class:d},"floors"===i[s+h]?Object(r.h)("span",null,"2"):null)));break;case se.bottomInfo:p.push(Object(r.h)("div",{class:f},this.context.locale.t(d)))}}n.push(Object(r.h)("div",{class:a("innerRow",u)},p))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}n.push(Object(r.h)("div",{class:"rowPadding"}))}return n.pop(),n},e.prototype.render=function(){var t=this;return Object(r.h)("div",{class:a("more-help-wrapper",this.props.device)},Object(r.h)(mt.a,{name:"more-help-wrapper",ref:function(e){return t.scrollbars=e},forceHidden:!1},Object(r.h)("div",{class:a("more-help")},this.buildInstructions())))},e}(r.Component),yn=(n(1257),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),vn=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},mn=function(t){function e(e){var n=t.call(this,e)||this;return n.setOrientation=function(t){n.setState({orientation:t})},n.handleTabClick=function(t){return function(){n.setState({tab:t})}},n.closeHelp=function(){n.setState({showing:!1}),n.props.toggleOpenModal(f.a.HELP,!1)},n.device=n.props.isMobile?ae.mobile:ae.desktop,n.state={showing:!1,tab:re.navigation,orientation:Object(nn.d)()},n.orientationSubscription=Object(nn.c)(nn.b.ORIENTATION_CHANGED,n.setOrientation),n}return yn(e,t),e.prototype.componentDidMount=function(){var t=this;this.orientationSubscription.renew(),window.requestAnimationFrame((function(){t.setState({showing:!0})}))},e.prototype.componentWillUnmount=function(){this.orientationSubscription.cancel()},e.prototype.render=function(){var t=this.state,e=t.showing,n=t.tab,o=t.orientation;return Object(r.h)("div",{id:"help-modal",class:a(this.device,{"faded-in":e})},Object(r.h)("div",{class:a("tabs",n)},Object(r.h)("div",{class:a("navigation-tab",{active:n===re.navigation}),onClick:this.handleTabClick(re.navigation)},Object(r.h)("span",null,this.context.locale.t(c.a.HELP_NAVIGATION_TAB))),Object(r.h)("div",{class:a("more-help-tab",{active:n===re.moreHelp}),onClick:this.handleTabClick(re.moreHelp)},Object(r.h)("span",null,this.context.locale.t(c.a.HELP_MORE_HELP_TAB)))),n===re.navigation&&Object(r.h)(sn,{device:this.device,Modes:this.props.allModes,viewmode:this.props.viewmode,orientation:o}),n===re.moreHelp&&Object(r.h)(gn,{device:this.device,orientation:o}),Object(r.h)(Ot.a,{buttonStyle:Ot.b.LIGHT,onClose:this.closeHelp}))},e=vn([h.b],e)}(r.Component),On=n(137),En=(n(1259),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),wn=function(t){function e(e){var n=t.call(this,e)||this;return n.closeIframe=function(){n.props.toggleOpenModal(f.a.MATTERTAG_EMBED,!1),n.setState({url:"",isIframeOpen:!1})},n.setIFrameOpen=function(t){t.embed&&(n.props.toggleOpenModal(f.a.MATTERTAG_EMBED,!0),n.setState({isIframeOpen:!0,url:t.url}))},n}return En(e,t),e.prototype.componentDidMount=function(){this.context.messageBus.subscribe(On.d,this.setIFrameOpen)},e.prototype.componentWillUnmount=function(){this.context.messageBus.unsubscribe(On.d,this.setIFrameOpen)},e.prototype.render=function(){return this.state.url?Object(r.h)("div",{class:"mattertag-emb-link"},Object(r.h)("iframe",{id:"mattertag-emb-iframe",name:"mattertagEmb",sandbox:"allow-forms allow-scripts allow-same-origin allow-presentation"}),Object(r.h)(Ot.a,{buttonStyle:Ot.b.SHADOW,onClose:this.closeIframe})):null},e}(r.Component),_n=n(1110),Ln=n(96),Mn=n(254),Sn=n(18),jn=n(35),Tn=n(15),Pn=n(17),In=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}c((o=o.apply(t,e||[])).next())}))},Dn=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Cn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};!function(t){t.MAIL="mail",t.PINTEREST="pinterest",t.LINKEDIN="linkedin",t.TWITTER="twitter",t.FACEBOOK="facebook",t.COPYLINK="copylink",t.NATIVE="native"}(pn||(pn={}));var kn=pn.FACEBOOK,An=pn.TWITTER,xn=pn.MAIL,Rn=pn.PINTEREST,Nn=pn.LINKEDIN,Hn=pn.COPYLINK,Un=pn.NATIVE,Bn=window.location.origin+"/show/",zn=((ln={})[xn]="em",ln[Rn]="pn",ln[Nn]="ln",ln[An]="tw",ln[kn]="fb",ln[Hn]="cp",ln[Un]="os",ln),Wn=((un={})[kn]={width:626,height:436},un[An]={width:550,height:440},un[Rn]={width:750,height:749},un[Nn]={width:550,height:453},un[Hn]={},un[xn]={},un[Un]={},un),Vn=function(t,e){return void 0===e&&(e=!0),In(void 0,void 0,void 0,(function(){var n,o,r,i,s,a,c,l;return Dn(this,(function(u){switch(u.label){case 0:return n={},e?[4,Promise.all([t.engine.market.waitForData(Tn.a),t.engine.market.waitForData(Pn.a),t.engine.market.waitForData(jn.b),t.engine.market.waitForData(Sn.a)])]:[3,2];case 1:return o=Cn.apply(void 0,[u.sent(),4]),r=o[0],i=o[1],s=o[2],a=o[3],n=Mn.a.serialize({cameraData:a,viewmodeData:i,floorsViewData:s,sweepData:r}),[3,3];case 2:n=Mn.a.removeNavigationKeys(d.s()),u.label=3;case 3:return c=["ref","gclid","fbclid"],Object.keys(n).forEach((function(t){(c.includes(t)||0===t.indexOf("utm_"))&&delete n[t]})),l=Object.keys(n).map((function(t){return t+"="+n[t]})).join("&"),[2,Bn+"?"+l]}}))}))},Fn=function(t){return Object.keys(t).map((function(e){return e+"="+encodeURIComponent(t[e])})).join("&")},Yn=function(t,e,n,o){var r;return(r={})[kn]=function(t,e,n){var o=t.replace("?","?ref="+zn[kn]+"&");return"http://www.facebook.com/sharer.php?"+Fn({display:"popup",u:o})}(t),r[An]=function(t,e,n){var o=t.replace("?","?ref="+zn[An]+"&"),r={text:n.t(c.a.SHARED_MESSAGE_HASHTAG,{title:e,url:o,hashtag:"#Matterport"})};return"http://twitter.com/intent/tweet?"+Fn(r)}(t,e,o),r[xn]=function(t,e,n){var o=t.replace("?","?ref="+zn[xn]+"&"),r={subject:n.t(c.a.SHARED_TITLE,{title:e}),body:n.t(c.a.SHARED_MESSAGE,{title:e,url:o})};return"mailto:?"+Fn(r)}(t,e,o),r[Rn]=function(t,e,n,o){var r={url:t.replace("?","?ref="+zn[Rn]+"&"),media:n,description:o.t(c.a.SHARED_TITLE,{title:e})};return"http://pinterest.com/pin/create/link/?"+Fn(r)}(t,e,n,o),r[Nn]=function(t,e,n){var o=t.replace("?","?ref="+zn[Nn]+"&");return"https://www.linkedin.com/shareArticle?"+Fn({mini:"true",url:o})}(t),r[Hn]=t,r[Un]=t,r},Gn=(n(1261),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),Kn=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}c((o=o.apply(t,e||[])).next())}))},Qn=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Zn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Jn=new L.a("share-modal"),Xn=function(t){function e(e){var n=t.call(this,e)||this;return n.copyURL=function(){var t=n.state.deeplink;n.urlInputRef.select(),document.execCommand("copy"),window.getSelection().removeAllRanges(),n.urlInputRef.blur(),n.setState({copied:!0}),n.context.analytics.track("showcase_share_action",{channel:pn.COPYLINK,pano_id:n.sweepData.currentSweep,deeplink:t}),window.setTimeout((function(){n.setState({copied:!1})}),2500)},n.toggleDeeplinks=function(){var t=n.state.deeplink;n.setState({deeplink:!t})},n.close=function(){n.props.toggleOpenModal(f.a.SHARE,!1)},n.openShareWindow=function(t){var e,o=n.state,r=o.urls,i=o.deeplink,s=o.deeplinkUrls,a=Wn[t],c=a.width,l=a.height,u=i?s[t]:r[t];c&&l&&(e="top="+(window.screenY+(window.innerHeight-l)/2)+",left="+(window.screenX+(window.innerWidth-c)/2)+",width="+c+",height="+l);n.context.analytics.track("showcase_share_action",{channel:t,pano_id:n.sweepData.currentSweep,deeplink:i}),window.open(u,"",e)},n.openWebShareApi=function(t){if(navigator.share){var e=n.state,o=e.excerpt,r=e.title,i=e.urls,s=e.deeplinkUrls,a={url:t?s[pn.COPYLINK]:i[pn.COPYLINK],text:o,title:r};Jn.debug("Launching Web Share API",a),navigator.share(a),n.context.analytics.track("showcase_share_action",{channel:pn.NATIVE,pano_id:n.sweepData.currentSweep,deeplink:t})}},n.onWebShareClick=function(){n.openWebShareApi(!1)},n.onWebShareDeeplinkClick=function(){n.openWebShareApi(!0)},n.stopPropagation=function(t){return t.stopPropagation()},n.setUrlInputRef=function(t){n.urlInputRef=t},n.state={urls:{},deeplinkUrls:{},title:"",excerpt:"",image:"",copied:!1,deeplink:!1,webShareEnabled:Object(d.p)()},n.openFacebook=n.openShareWindow.bind(n,pn.FACEBOOK),n.openTwitter=n.openShareWindow.bind(n,pn.TWITTER),n.openPinterest=n.openShareWindow.bind(n,pn.PINTEREST),n.openLinkedIn=n.openShareWindow.bind(n,pn.LINKEDIN),n.openEmail=n.openShareWindow.bind(n,pn.MAIL),n}return Gn(e,t),e.prototype.componentDidMount=function(){return Kn(this,void 0,void 0,(function(){var t,e,n,o,r,i;return Qn(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.context.engine.getModule(Ln.default),this.context.market.waitForData(Tn.a)])];case 1:return t=Zn.apply(void 0,[s.sent(),2]),e=t[0],n=t[1],this.sweepData=n,o=e.getModel(),r=window.location.origin+"/api/v1/player/models/"+o.sid+"/thumb",i=o.data.name,this.setState({title:i,image:r},this.updateUrls),[2]}}))}))},e.prototype.updateUrls=function(){return Kn(this,void 0,void 0,(function(){var t,e,n,o,r,i,s,a;return Qn(this,(function(c){switch(c.label){case 0:return t=this.state,e=t.title,n=t.image,[4,Promise.all([Vn(this.context,!1),Vn(this.context,!0)])];case 1:return o=Zn.apply(void 0,[c.sent(),2]),r=o[0],i=o[1],s=Yn(r,e,n,this.context.locale),a=Yn(i,e,n,this.context.locale),Jn.debug("Social Share URLs:",s),Jn.debug("Social Share URLs, with current location",a),this.setState({urls:s,deeplinkUrls:a}),[2]}}))}))},e.prototype.renderWebShareDialog=function(){return Object(r.h)("div",{class:"share-controls"},Object(r.h)(At.a,{appendClass:{"share-modal-button":!0},buttonStyle:At.d.PRIMARY,onClick:this.onWebShareDeeplinkClick},this.context.locale.t(c.a.SHARE_CURRENT_LOCATION)),Object(r.h)(At.a,{appendClass:{"share-modal-button":!0},buttonStyle:At.d.SECONDARY,onClick:this.onWebShareClick},this.context.locale.t(c.a.SHARE_DEFAULT_LOCATION)))},e.prototype.renderShareDialog=function(){var t=this.state,e=t.copied,n=t.deeplink,o=t.urls,i=t.deeplinkUrls,s=n?i[pn.COPYLINK]:o[pn.COPYLINK],a=this.sweepData&&this.sweepData.isSweepDisabled(),l=a?this.context.locale.t(c.a.SHARE_ERROR_SWEEP_DISABLED):void 0;return Object(r.h)("div",{class:"share-controls"},Object(r.h)("div",{class:"social-icons"},Object(r.h)(g.a,{onClick:this.openFacebook,iconClass:"icon-facebook",buttonStyle:g.b.SOCIAL}),Object(r.h)(g.a,{onClick:this.openTwitter,iconClass:"icon-twitter",buttonStyle:g.b.SOCIAL}),Object(r.h)(g.a,{onClick:this.openLinkedIn,iconClass:"icon-linkedin",buttonStyle:g.b.SOCIAL}),Object(r.h)(g.a,{onClick:this.openPinterest,iconClass:"icon-pinterest",buttonStyle:g.b.SOCIAL}),Object(r.h)(g.a,{onClick:this.openEmail,iconClass:"icon-email",buttonStyle:g.b.SOCIAL})),Object(r.h)("div",{class:"input-group"},Object(r.h)("input",{class:"input",type:"text",value:s||"",ref:this.setUrlInputRef,onKeyDown:this.stopPropagation,onKeyPress:this.stopPropagation,onKeyUp:this.stopPropagation,readOnly:!0}),Object(r.h)(b.a,{content:e?this.context.locale.t(c.a.SHARE_COPIED):this.context.locale.t(c.a.COPY_URL),position:b.b.UP,tooltipTimeout:2e3},Object(r.h)("button",{class:"input-addon",onClick:this.copyURL},this.context.locale.t(c.a.COPY)))),Object(r.h)(_n.a,{dataValue:"deeplink",key:"deeplink",checked:n,enabled:!a,error:a,helpText:l,label:this.context.locale.t(c.a.SHARE_LINK_TO_LOCATION),onChange:this.toggleDeeplinks}))},e.prototype.render=function(){var t=this.state.webShareEnabled,e=a("modal","share-modal","modal-dialog",{"share-dialog":!t,"web-share-dialog":t}),n=t?this.renderWebShareDialog():this.renderShareDialog();return Object(r.h)("dialog",{open:!0,class:e,onClick:this.stopPropagation},Object(r.h)("header",{class:"modal-header"},Object(r.h)("div",{class:"modal-title"},this.context.locale.t(c.a.SHARE_MODAL_TITLE)),Object(r.h)(Ot.a,{onClose:this.close})),Object(r.h)("div",{class:"modal-body"},n))},e}(r.Component),qn=n(1010),$n=(n(1263),function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}()),to=function(t){function e(e,n){var o=t.call(this,e)||this;return o.closeModal=function(){o.props.toggleOpenModal(f.a.MEASUREMENT_HELP,!1)},o.locale={headerString:n.locale.t(c.a.MEASUREMENT_MODE),subHeaderString:n.locale.t(c.a.MEASUREMENT_HELP_MODAL_SUB_HEADER),body1String:n.locale.t(c.a.MEASUREMENT_HELP_MODAL_BODY_1),body2String:n.locale.t(c.a.MEASUREMENT_HELP_MODAL_BODY_2)},o}return $n(e,t),e.prototype.render=function(){var t=this.locale,e=t.headerString,n=t.subHeaderString,o=t.body1String,i=t.body2String,s=this.props.mobile;return Object(r.h)("div",{class:a("modal","full-modal","measurement-mode-help-modal",{mobile:s})},Object(r.h)("header",{class:"modal-header"},Object(r.h)("div",{class:"modal-title"},e),Object(r.h)(Ot.a,{onClose:this.closeModal})),Object(r.h)("div",{class:"modal-subheader"},n),Object(r.h)("div",{class:"modal-body"},Object(r.h)("p",{class:"modal-paragraph"},o),Object(r.h)("p",{class:"modal-paragraph"},i)))},e}(r.Component),eo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),no=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}c((o=o.apply(t,e||[])).next())}))},oo=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},ro=function(t){function e(e){var n=t.call(this,e)||this;return n.closeShareModal=function(){n.props.toggleOpenModal(f.a.SHARE,!1)},n.closeMeasurementHelpModal=function(){n.props.toggleOpenModal(f.a.MEASUREMENT_HELP,!1)},n.mobile=Object(d.n)(),n}return eo(e,t),e.prototype.componentWillMount=function(){return no(this,void 0,void 0,(function(){var t;return oo(this,(function(e){switch(e.label){case 0:return[4,this.context.engine.getModule(Ln.default)];case 1:return t=e.sent().getModel(),this.setState({modelDetails:t.data}),[2]}}))}))},e.prototype.render=function(){var t=this.props,e=t.openModal,n=t.viewmode,o=t.toggleOpenModal,i=t.glCanvas,s=this.state.modelDetails,a=this.context.commandBinder,c=e===f.a.SHARE,l=e===f.a.TERMS,u=e===f.a.HELP,p=e===f.a.CTA,h=e===f.a.VR_SELECT,d=e===f.a.MEASUREMENT_HELP;return Object(r.h)("div",{id:"showcase-modals"},Object(r.h)(qn.a,{appendClass:{"modal-background":!0,open:c},open:c,onClick:this.closeShareModal},Object(r.h)(Xn,{toggleOpenModal:o})),Object(r.h)(qn.a,{appendClass:{"modal-background":!0,open:d},open:d,onClick:this.closeMeasurementHelpModal},Object(r.h)(to,{mobile:this.mobile,toggleOpenModal:o})),Object(r.h)(qn.a,{appendClass:{"dark-modal-background":!0},open:l},Object(r.h)(jt,{toggleOpenModal:o})),this.state.modelDetails&&Object(r.h)(qn.a,{appendClass:{"modal-background":!0,open:h},open:h},Object(r.h)(Vt,{isMobile:this.mobile,toggleOpenModal:o,modelDetails:s,commandBinder:a})),Object(r.h)(qn.a,{appendClass:{"dark-modal-background":!0},open:u},Object(r.h)(mn,{isMobile:this.mobile,toggleOpenModal:o,viewmode:n,allModes:C.b})),Object(r.h)("div",{class:"dark-modal-background"},Object(r.h)(oe,{canvas:i,isMobile:this.mobile,viewmode:n,toggleOpenModal:o,showCta:p}),Object(r.h)(wn,{toggleOpenModal:o})))},e}(r.Component),io=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),so=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ao=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}c((o=o.apply(t,e||[])).next())}))},co=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},lo=function(t){function e(){var e=t.call(this)||this;return e.startWebXR=function(){e.context.commandBinder.issueCommand(new kt.a({type:"immersive-vr",features:["local-floor"]})).then((function(t){if(t){e.trackEvent("vr_enter_app");var n=function(){e.trackEvent("vr_exit_app"),t.removeEventListener("end",n)};t.addEventListener("end",n)}else e.trackEvent("vr_present_error"),e.updatePlatformState()})).catch((function(t){var n=t?{message:t.message||"",name:t.name||""}:void 0;e.trackEvent("vr_present_error",n)}))},e.state={vrPlatform:null},e}return io(e,t),e.prototype.componentDidMount=function(){return ao(this,void 0,void 0,(function(){return co(this,(function(t){switch(t.label){case 0:return Tt.e.apiExists()&&navigator.xr.addEventListener("ondevicechange",this.updatePlatformState),[4,this.updatePlatformState()];case 1:return t.sent(),[2]}}))}))},e.prototype.componentWillUnmount=function(){Tt.e.apiExists()&&navigator.xr.removeEventListener("ondevicechange",this.updatePlatformState)},e.prototype.updatePlatformState=function(){return ao(this,void 0,void 0,(function(){var t;return co(this,(function(e){switch(e.label){case 0:return[4,Object(Tt.c)()];case 1:return t=e.sent(),this.setState({vrPlatform:t}),[2]}}))}))},e.prototype.render=function(){return this.state.vrPlatform===Tt.b.webxr?this.renderOverlayCta():null},e.prototype.renderOverlayCta=function(){var t=this.context.locale;return Object(r.h)("div",{id:"vr-overlay-layer",class:"overlay"},Object(r.h)("div",{class:"overlay-cta"},Object(r.h)(At.a,{buttonSize:At.b.LARGE,buttonState:At.c.ENABLED,buttonStyle:At.d.OVERLAY,appendClass:{"inline-block":!0,confirm:!0},onClick:this.startWebXR},t.t(c.a.VR_ENTER))))},e.prototype.trackEvent=function(t,e){var n={gui_action:t,orientation:Object(d.l)()?"landscape":"portrait",platform:this.state.vrPlatform};n=Object.assign(n,e),this.context.analytics.track("showcase_gui",n)},e=so([h.b],e)}(r.Component),uo=n(53),po=n(98),ho=n(913),fo=n(1),bo=n(912),go=n(259),yo=n(215),vo=n(89);n.d(e,"initShowcaseUi",(function(){return So}));var mo=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),Oo=function(){return(Oo=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Eo=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}c((o=o.apply(t,e||[])).next())}))},wo=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},_o=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},Lo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var o,r,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Mo=new L.a("showcase-ui"),So=function(t,e,n,o,i,s,a,c,l){return Object(r.render)(Object(r.h)(jo,{locale:t,analytics:e,settings:n,mainDiv:o,engine:i,messageBus:s,market:a,commandBinder:c,onAppReadyChanged:l}),o)},jo=function(t){function e(e){var n=t.call(this,e)||this;return n.bindings=[],n.mobile=Object(d.n)(),n.propertiesToRefreshUi=[x.c,D.a.Measurements,D.a.DetailsModelName],n.getModeChange=function(t){return{viewmode:Object(C.c)(t.toMode)}},n.updatePerSettings=function(){var t=n.props.settings,e=t.tryGetProperty(x.c,!1)&&t.tryGetProperty(D.a.Measurements,!1);n.setState(Oo({measurementsModeEnabled:e},n.getTitleBarEnablement()))},n.getTourState=function(){return n.tourData?{tourState:n.tourData.getCurrentTourState()}:{tourState:n.state.tourState}},n.getTitleBarEnablement=function(){var t=n.props.settings.tryGetProperty("title",1),e=n.props.settings.tryGetProperty(D.a.DetailsModelName,!0),o=n.props.settings.tryGetProperty("mls",0);return{titleBarEnabled:0!==t&&2!==o&&e}},n.isVrButtonEnabled=function(){return Object(Tt.d)(n.props.settings)},n.measurementModeToggled=function(t){var e=n.state.openModal;n.setState({showcaseTool:t.opened?o.MEASUREMENTS_MODE:null}),n.measurementModeFeatureToggler.toggle(t.opened),(t.opened&&e||!t.opened&&e===f.a.MEASUREMENT_HELP)&&(n.toggleOpenModal(e,!1),n.props.commandBinder.issueCommand(new M.d,!1))},n.toggleOpenModal=function(t,e){n.props.analytics.track("showcase_gui",{gui_action:"modal_toggle"}),t!==f.a.SHARE&&t!==f.a.MEASUREMENT_HELP&&t!==f.a.VR_SELECT||n.props.engine.broadcast(new ho.a(e)),n.setState((function(o){var r=o.openModal;return t&&e&&n.props.commandBinder.issueCommand(new M.d,!1),{openModal:e?t:t===r?null:r}}))},n.glCanvas=document.getElementsByClassName("webgl-canvas")[0],n.state={viewmode:C.b.INSIDE,showcaseTool:null,openModal:null,tourState:{},modelDetails:null,measurementsModeEnabled:!1,vrEnabled:!1,brandingEnabled:!1,shareEnabled:!1,titleBarEnabled:!1,unaligned:!1,showExternalUrl:!1},n}return mo(e,t),e.prototype.getChildContext=function(){return{mainDiv:this.props.mainDiv,settings:this.props.settings,analytics:this.props.analytics,locale:this.props.locale,engine:this.props.engine,messageBus:this.props.messageBus,market:this.props.market,commandBinder:this.props.commandBinder}},e.prototype.componentDidMount=function(){return Eo(this,void 0,void 0,(function(){var t,e,n,o,r,i,s,a,c,l,u,p,h,d,f,b,g=this;return wo(this,(function(y){switch(y.label){case 0:try{for(o=_o(this.propertiesToRefreshUi),r=o.next();!r.done;r=o.next())i=r.value,this.props.settings.onPropertyChanged(i,this.updatePerSettings)}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}y.label=1;case 1:return y.trys.push([1,3,,4]),this.cancelBindings(),this.bindings=[this.props.messageBus.subscribe(po.a,(function(t){return g.setState(Oo({},g.getModeChange(t),g.getUnalignedSweepState()))})),this.props.messageBus.subscribe(Xt.f,(function(){return g.setState(g.getTourState())})),this.props.messageBus.subscribe(Xt.c,(function(){return g.setState(g.getTourState())})),this.props.messageBus.subscribe(Xt.d,(function(){return g.setState(g.getTourState())})),this.props.messageBus.subscribe(Xt.a,(function(){return g.setState(g.getTourState())})),this.props.messageBus.subscribe(Xt.b,(function(){return g.setState(g.getTourState())})),this.props.messageBus.subscribe(vo.d,this.measurementModeToggled)],[4,Promise.all([this.props.engine.getModule(Ln.default),this.props.market.waitForData(Pn.a),this.props.market.waitForData(Tn.a),this.props.market.waitForData(uo.a)])];case 2:return s=Lo.apply(void 0,[y.sent(),4]),a=s[0],c=s[1],l=s[2],u=s[3],this.bindings.push(u.getReel().onChanged((function(){return g.setState(g.getTourState())})),l.makeSweepChangeSubscription((function(){return g.setState(g.getUnalignedSweepState())}))),p=a.getModel(),h=Object(C.c)(c.currentMode||fo.a.Panorama),this.tourData=u,this.sweepData=l,this.viewmodeData=c,d=l.currentSweep?l.currentSweep:"",f=l.isSweepUnaligned(d),this.setState(Oo({viewmode:h,modelDetails:p.data,unaligned:f,brandingEnabled:this.isBrandingEnabled()&&this.isMlsEnabled(),shareEnabled:this.isShareEnabled()&&this.isMlsEnabled(),showExternalUrl:this.isBrandingEnabled()&&this.isMlsEnabled(),vrEnabled:this.isVrButtonEnabled()},this.getTitleBarEnablement(),this.getTourState(),this.getUnalignedSweepState())),this.measurementModeFeatureToggler=new bo.a(this.props.settings,((n={})[ht.b]=!1,n[pt.a]=!1,n[go.a]=!1,n[yo.a]=!1,n)),this.props.onAppReadyChanged(!0),[3,4];case 3:return b=y.sent(),Mo.debug(b),[3,4];case 4:return this.updatePerSettings(),[2]}}))}))},e.prototype.componentWillUnmount=function(){return Eo(this,void 0,void 0,(function(){var t,e,n,o,r;return wo(this,(function(i){try{for(n=_o(this.propertiesToRefreshUi),o=n.next();!o.done;o=n.next())r=o.value,this.props.settings.removeOnPropertyChanged(r,this.updatePerSettings)}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.cancelBindings(),this.props.onAppReadyChanged(!1),[2]}))}))},e.prototype.getUnalignedSweepState=function(){if(!this.sweepData||!this.viewmodeData)return{unaligned:this.state.unaligned};var t=this.sweepData.currentSweep?this.sweepData.currentSweep:"";return{unaligned:this.viewmodeData.isPano()&&this.sweepData.isSweepUnaligned(t)}},e.prototype.cancelBindings=function(){var t,e;try{for(var n=_o(this.bindings),o=n.next();!o.done;o=n.next()){o.value.cancel()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.isShareEnabled=function(){return this.props.settings.tryGetProperty("enable_social_sharing",!1)&&this.props.settings.tryGetProperty("is_public",!1)},e.prototype.isMlsEnabled=function(){return 0===this.props.settings.tryGetProperty("mls",0)},e.prototype.isBrandingEnabled=function(){return 1===this.props.settings.tryGetProperty("brand",1)},e.prototype.render=function(){var t=this.state,e=t.viewmode,n=t.tourState,i=t.modelDetails,s=t.measurementsModeEnabled,a=t.shareEnabled,c=t.brandingEnabled,l=t.titleBarEnabled,u=t.vrEnabled,p=t.openModal,h=t.unaligned,d=t.showcaseTool,b=t.showExternalUrl,g=d===o.MEASUREMENTS_MODE,y=p===f.a.MATTERTAG_EMBED;return Object(r.h)("div",{id:"gui"},!!i&&Object(r.h)(ct,{showing:!p&&!g,modelDetails:i,tourState:n,brandingEnabled:c,showExternalUrl:b,titleBarEnabled:l}),Object(r.h)(ro,{viewmode:e,toggleOpenModal:this.toggleOpenModal,glCanvas:this.glCanvas,openModal:p}),!y&&Object(r.h)("div",{class:"showcase-ui-overlay"},Object(r.h)("div",{class:"tool-overlay"},!g&&Object(r.h)(lo,null)),Object(r.h)(G,{mobile:this.mobile,openModal:p,toggleOpenModal:this.toggleOpenModal,showcaseTool:d,unaligned:h,viewmode:e,tourState:n,measurementsModeEnabled:s,shareEnabled:a,vrEnabled:u})),!y&&Object(r.h)(vt,{viewmode:e,tourPlaying:n.tourPlaying,openModal:p,toggleOpenModal:this.toggleOpenModal,mobile:this.mobile,showcaseTool:d}))},e}(r.Component)},285:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return h}));var o,r,i=n(11),s=n(150),a=n(105),c=n(374),l=n(106),u=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t[t.CLEAR=0]="CLEAR",t[t.PLAIN=1]="PLAIN",t[t.OVERLAY=2]="OVERLAY",t[t.PRIMARY=3]="PRIMARY",t[t.SOCIAL=4]="SOCIAL",t[t.TOOLBAR=5]="TOOLBAR"}(r||(r={}));var h=function(t){function e(e){var n=t.call(this,e)||this;return n.onClick=function(t){var e=n.props.buttonState;e!==l.c.BUSY&&e!==l.c.DISABLED&&n.props.onClick&&n.props.onClick(t)},n.onMouseDown=function(t){var e=n.props.buttonState;e!==l.c.BUSY&&e!==l.c.DISABLED&&n.props.onMouseDown&&n.props.onMouseDown(t)},n.onMouseUp=function(t){var e=n.props.buttonState;e!==l.c.BUSY&&e!==l.c.DISABLED&&n.props.onMouseUp&&n.props.onMouseUp(t)},n}return u(e,t),e.prototype.render=function(){var t=this.props,e=t.id,n=t.tooltipMsg,o=t.tooltipPosition,s=t.tooltipPreformatted,u=t.tooltipWidth,p=t.dataValue,h=t.buttonState,d=t.buttonStyle,f=t.appendClass,b=t.children,g=t.iconClass,y=t.onClick,v=t.onMouseDown,m=t.onMouseUp,O=h===l.c.DISABLED,E=h===l.c.BUSY,w=h===l.c.DECORATIVE,_=!O&&!E&&!w,L={"button-disabled":O,"button-dimmed":h===l.c.DIMMED,"button-active":h===l.c.ACTIVE,"button-busy":E,"button-interactive":_,"icon-button-primary":d===r.PRIMARY,"icon-button-overlay":d===r.OVERLAY,"icon-button-plain":d===r.PLAIN,"icon-button-social":d===r.SOCIAL,"icon-button-toolbar":d===r.TOOLBAR};return f&&Object.keys(f).length>0&&Object.assign(L,f),n?Object(i.h)("div",{id:e,type:"button","data-value":p,"data-balloon":n,"data-balloon-pos":o||c.b.DOWN,"data-balloon-width":u,"data-balloon-pre":!!s,class:a("icon-button",L),onClick:y?this.onClick:void 0,onMouseDown:v?this.onMouseDown:void 0,onMouseUp:m?this.onMouseUp:void 0},g&&Object(i.h)("span",{class:"icon "+g}),b):Object(i.h)("div",{id:e,type:"button","data-value":p,class:a("icon-button",L),onClick:y?this.onClick:void 0,onMouseDown:v?this.onMouseDown:void 0,onMouseUp:m?this.onMouseUp:void 0},g&&Object(i.h)("span",{class:"icon "+g}),b)},e=p([s.b],e)}(i.Component)},329:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return p}));var o,r,i=n(11),s=n(150),a=n(105),c=n(453),l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t.NONE="no-arrow",t.TOP_LEFT="position-top-left",t.TOP_RIGHT="position-top-right",t.TOP_CENTER="position-top-center",t.BOTTOM_RIGHT="position-bottom-right",t.BOTTOM_LEFT="position-bottom-left",t.BOTTOM_CENTER="position-bottom-center",t.RIGHT_BOTTOM="position-right-bottom"}(r||(r={}));var p=function(t){function e(e){var o=t.call(this,e)||this;o.closeTooltip=function(){o.setState({showing:!1}),window.removeEventListener("click",o.handleOutsideClick)},o.openTooltip=function(t){o.setState({showing:!0}),window.addEventListener("click",o.handleOutsideClick),void 0!==t&&window.setTimeout(o.closeTooltip,t)},o.getContentPosition=function(){if(!o.tooltipWrapper)return{};var t=o.tooltipWrapper.parentElement;switch(o.props.arrowPos){case r.BOTTOM_RIGHT:return{transform:"translate("+(32-o.tooltipContent.offsetWidth)+"px, "+(-o.tooltipContent.offsetHeight-t.getBoundingClientRect().height-15)+"px)"};case r.BOTTOM_LEFT:return{transform:"translate(0, "+(-o.tooltipContent.offsetHeight-t.getBoundingClientRect().height-35)+"px)"};case r.RIGHT_BOTTOM:return{transform:"translate("+(-o.tooltipContent.offsetWidth-7)+"px, "+(9-o.tooltipContent.offsetHeight)+"px)"};default:return{}}},o.handleOutsideClick=function(t){o.props.onClose&&o.props.onClose(t)},o.state={showing:e.open};var i=n.count++;return o.wrapperId="tooltip-wrapper-"+(e.name||i),o.id=""+(e.tooltipId||"tooltip-"+i),o}var n;return l(e,t),n=e,e.prototype.componentDidMount=function(){this.props.open&&this.openTooltip(this.props.maxMsOpen)},e.prototype.componentWillUnmount=function(){this.state.showing&&this.closeTooltip()},e.prototype.componentWillReceiveProps=function(t){t.open&&!this.props.open?this.openTooltip(t.maxMsOpen):!t.open&&this.props.open&&this.closeTooltip()},e.prototype.render=function(){var t,e=this,n=this.props,o=n.arrowPos,s=n.title,l=n.message,u=n.onClose,p=n.closeButton,h=n.darkTheme,d=n.appendHTML,f=n.appendBodyClass,b=n.appendClass,g=((t={emulatedDialog:!0,open:this.state.showing,dark:h})[void 0===o?r.TOP_CENTER:o]=!0,t);return b&&Object.keys(b).length>0&&Object.assign(g,b),Object(i.h)("div",{id:this.wrapperId,class:a(g),ref:function(t){return e.tooltipWrapper=t}},Object(i.h)("div",{id:this.id,class:a("tooltip",f),style:this.getContentPosition(),ref:function(t){return e.tooltipContent=t}},s&&Object(i.h)("div",{class:"title"},s),p&&u&&Object(i.h)(c.a,{onClose:u}),l,d))},e.POPUP_OFFSET=28,e.count=0,e=n=u([s.b],e)}(i.Component)},374:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return p}));var o,r,i,s=n(11),a=n(150),c=n(105),l=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};!function(t){t.UP="up",t.DOWN="down",t.LEFT="left",t.RIGHT="right",t.UP_LEFT="up-left",t.UP_RIGHT="up-right",t.DOWN_LEFT="down-left",t.DOWN_RIGHT="down-right"}(r||(r={})),function(t){t.SMALL="small",t.MEDIUM="medium",t.LARGE="large",t.XLARGE="xlarge",t.FIT="fit"}(i||(i={}));var p=function(t){function e(){var e=t.call(this)||this;return e.onClick=function(t){e.props.onClick&&e.props.onClick(t),void 0!==e.props.tooltipTimeout&&window.setTimeout((function(){e.setState({tooltipEnabled:!1})}),e.props.tooltipTimeout)},e.onMouseEnter=function(t){e.enableTooltip(),e.adjustBalloonPosIfNeeded(t)},e.enableTooltip=function(){e.setState({tooltipEnabled:!0})},e.state={currentPosition:null,tooltipEnabled:!0},e}return l(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.position,o=t.content,r=t.className,i=t.tooltipWidth,a=this.state,l=a.currentPosition,u=a.tooltipEnabled;return Object(s.h)("div",{type:"button","data-balloon":o,"data-balloon-pos":l||n,"data-balloon-width":i,class:c("data-balloon",r,{disabled:!u}),onClick:this.onClick,onTouchStart:this.enableTooltip,onMouseEnter:this.onMouseEnter},e)},e.prototype.adjustBalloonPosIfNeeded=function(t){if(null===this.state.currentPosition){var e=t.target,n=this.props.position,o=n;if(n!==r.LEFT&&n!==r.RIGHT){var i=window.getComputedStyle(e,":after"),s=i.width?parseInt(i.width,10):0;if(s>0){var a=e.getBoundingClientRect(),c=(s-a.width)/2,l=n===r.UP||n===r.UP_RIGHT||n===r.UP_LEFT;a.left-c<=0?o=l?r.UP_RIGHT:r.DOWN_RIGHT:(n===r.UP_LEFT||n===r.DOWN_LEFT)&&a.left-s<=0?o=l?r.UP:r.DOWN:a.right+c>=window.innerWidth?o=l?r.UP_LEFT:r.DOWN_LEFT:(n===r.UP_RIGHT||n===r.DOWN_RIGHT)&&a.right+s>=window.innerWidth&&(o=l?r.UP:r.DOWN)}}this.setState({currentPosition:o})}},e=u([a.b],e)}(s.Component)},453:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return l}));var o,r,i=n(11),s=n(285),a=n(374),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.LIGHT=1]="LIGHT",t[t.SHADOW=2]="SHADOW",t[t.OVERLAY=3]="OVERLAY",t[t.TOOLBAR=4]="TOOLBAR"}(r||(r={}));var l=function(t){function e(e){return t.call(this,e)||this}return c(e,t),e.prototype.getIconButtonStyle=function(){switch(this.props.buttonStyle){case r.LIGHT:case r.SHADOW:return s.b.CLEAR;case r.OVERLAY:return s.b.OVERLAY;case r.TOOLBAR:return s.b.TOOLBAR;default:return s.b.PLAIN}},e.prototype.render=function(){var t=this.props,e=t.buttonStyle,n=t.onClose;return Object(i.h)(s.a,{appendClass:{"close-button":!0,"close-button-shadow":e===r.SHADOW,"close-button-light":e===r.LIGHT},iconClass:"icon-close",buttonStyle:this.getIconButtonStyle(),tooltipMsg:"Close",tooltipPosition:a.b.DOWN,onClick:n})},e}(i.Component)},464:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o=function(t,e){for(var n in e)if(t[n]!==e[n])return!0;return!1}},620:function(t,e,n){"use strict";var o=n(344),r=n(76),i=function(){function t(t){var e=this;this.couldBeDrag=!1,this.isDragging=!1,this.shouldHandleEvents=!0,this.handleEvent=function(t){if(e.shouldHandleEvents)switch(t.stopPropagation(),t.type){case"mousedown":case"touchstart":case"pointerdown":e.onPressStart(t);break;case"mousemove":case"pointermove":case"touchmove":e.onPressMove(t);break;case"mouseup":case"pointerup":case"mouseleave":case"touchend":case"touchcancel":case"pointercancel":case"pointerleave":e.onPressEnd(t)}},this.callbacks=t}return t.prototype.setEnabled=function(t){this.shouldHandleEvents=t,this.couldBeDrag=this.couldBeDrag&&t},t.prototype.getPosition=function(t){return Object(o.b)(t)?{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY}:{x:t.clientX,y:t.clientY}},t.prototype.onPressStart=function(t){this.couldBeDrag=!0,this.dragEvents=[],this.dragStart=this.getPosition(t),this.callbacks.handlePressStart&&this.callbacks.handlePressStart(this.getPosition(t))},t.prototype.onPressMove=function(t){if(this.couldBeDrag){var e=this.getPosition(t);this.addDragEvent(e),this.isDragging||Math.sqrt(Math.pow(e.x-this.dragStart.x,2)+Math.pow(e.y-this.dragStart.y,2))>r.f&&(this.isDragging=!0,this.callbacks.handleDragStart&&this.callbacks.handleDragStart()),this.callbacks.handlePressMove&&this.callbacks.handlePressMove({x:this.dragStart.x-e.x,y:this.dragStart.y-e.y})}},t.prototype.onPressEnd=function(e){if(this.couldBeDrag){if(this.couldBeDrag=!1,this.isDragging){if(!this.dragEvents||!this.dragEvents[0])return;var n=this.dragEvents[0],o=this.dragEvents[this.dragEvents.length-1];if(this.callbacks.handleDragEnd){var r={x:0,y:0};Date.now()-o.timestamp<t.dragMoveTimeout&&(r.x=n.position.x-o.position.x,r.y=n.position.y-o.position.y),this.callbacks.handleDragEnd(r,o.timestamp-n.timestamp)}}else this.callbacks.handleClick&&this.callbacks.handleClick(e);this.isDragging=!1}},t.prototype.addDragEvent=function(t){this.dragEvents.push({position:t,timestamp:Date.now()}),this.dragEvents.length>10&&this.dragEvents.shift()},t.dragMoveTimeout=100,t}();e.a=i},636:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o,r=n(11),i=n(464),s=n(620),a=n(78),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e){var n=t.call(this,e)||this;return n.state={visible:!1,trackLength:1,thumbLength:1,thumbOffset:0},n.direction=a.e[e.direction],n.handlePressStart=n.handlePressStart.bind(n),n.handlePressMove=n.handlePressMove.bind(n),n.handleTrackClick=n.handleTrackClick.bind(n),n.inputFilter=new s.a({handlePressStart:n.handlePressStart,handlePressMove:n.handlePressMove}),window.PointerEvent||(window.addEventListener("mousemove",n.inputFilter.handleEvent),window.addEventListener("mouseleave",n.inputFilter.handleEvent),window.addEventListener("mouseup",n.inputFilter.handleEvent)),window.addEventListener("pointermove",n.inputFilter.handleEvent),window.addEventListener("pointerup",n.inputFilter.handleEvent),n}return c(e,t),e.prototype.componentWillUnmount=function(){window.PointerEvent||(window.removeEventListener("mousemove",this.inputFilter.handleEvent),window.removeEventListener("mouseleave",this.inputFilter.handleEvent),window.removeEventListener("mouseup",this.inputFilter.handleEvent)),window.removeEventListener("pointermove",this.inputFilter.handleEvent),window.removeEventListener("pointerup",this.inputFilter.handleEvent)},e.prototype.getTrackLength=function(){return Number(this.thumbTrack&&this.thumbTrack[this.direction.clientLength]||window.innerWidth)},e.prototype.handleTrackClick=function(t){var e;if(t.target===this.thumbTrack){var n=this.direction.eventPosition,o=this.thumbTrack.getBoundingClientRect()[this.direction.offsetName],r=t[n]<o+this.state.thumbOffset,i=this.getTrackLength(),s=0;s=r?Math.max(0,(this.state.thumbOffset-this.state.thumbLength)/i):Math.min(i,(this.state.thumbOffset+this.state.thumbLength)/i),this.props.scrollTo(((e={})[Object(a.i)(this.props.direction)]=s,e))}},e.prototype.handlePressStart=function(t){this.dragStartThumbOffset=this.state.thumbOffset},e.prototype.handlePressMove=function(t){var e,n=this.getTrackLength(),o=(this.dragStartThumbOffset-t[this.direction.delta])/n;this.props.scrollTo(((e={})[Object(a.i)(this.props.direction)]=o,e)),this.props.onThumbDrag&&this.props.onThumbDrag()},e.prototype.componentDidUpdate=function(){var t=this.props,e=t.wrapperLength,n=t.childLength,o=t.scrollOffset;if(e>0&&n>0){var r=this.getTrackLength(),s=e/n*r,c={thumbLength:s,visible:n>e,thumbOffset:Math.min(o/n*r,r-s)};if(Object(i.a)(this.state,c)){var l=this.state.visible!==c.visible;l&&this.props.onVisibilityChange&&this.props.onVisibilityChange(c.visible);var u=Object(a.j)(c.thumbOffset/(r-s),c.visible);(u!==this.scrollPosition||l)&&(this.scrollPosition=u,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(u)),this.setState(c)}}},e.prototype.render=function(){var t,e=this,n=((t={})[""+this.direction.lengthName]=this.state.thumbLength+"px",t[""+this.direction.offsetName]=this.state.thumbOffset+"px",t),o=this.inputFilter.handleEvent,i=window.PointerEvent,s=i?o:void 0,a=i?void 0:o,c=i?void 0:o;return Object(r.h)("div",null,this.state.visible&&!this.props.forceHidden&&Object(r.h)("div",{class:"scrollbarTrack "+this.props.direction,onClick:this.handleTrackClick,ref:function(t){e.thumbTrack=t}},Object(r.h)("div",{class:"scrollbarThumb",style:n,onPointerDown:s,onMouseDown:c,onTouchStart:a})))},e}(r.Component)},637:function(t,e,n){"use strict";var o=n(57),r=function(){function t(t){this.isAnimating=!0,this.duration=t.duration,this.startValue=t.startValue,this.changeValue=t.endValue-this.startValue,this.easingFunction=t.easingFunction||o.d}return t.prototype.getUpdatedValue=function(){this.startTime||(this.startTime=Date.now());var t=Date.now()-this.startTime;return t>this.duration&&(this.isAnimating=!1),this.easingFunction(t,this.startValue,this.changeValue,this.duration)},t}();e.a=r},78:function(t,e,n){"use strict";var o;n.d(e,"d",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"i",(function(){return u})),n.d(e,"h",(function(){return p})),n.d(e,"e",(function(){return h})),n.d(e,"c",(function(){return l})),n.d(e,"j",(function(){return d}));var r,i,s=250,a=function(){return{wrapperLength:1,childLength:1,scrollOffset:1,isVisible:!1}},c=function(){return{scrollbar:null,animation:null,dragStartScroll:0}};!function(t){t.horizontal="horizontal",t.vertical="vertical"}(r||(r={})),function(t){t.x="x",t.y="y"}(i||(i={}));var l,u=function(t){switch(t){case r.horizontal:return i.x;case r.vertical:return i.y}throw Error()},p=function(t){switch(t){case i.x:return r.horizontal;case i.y:return r.vertical}throw Error()},h=((o={})[r.horizontal]={scrollOffset:"scrollLeft",offsetLength:"offsetWidth",clientLength:"clientWidth",positionOffset:"offsetLeft",lengthName:"width",offsetName:"left",eventPosition:"clientX",delta:i.x},o[r.vertical]={scrollOffset:"scrollTop",offsetLength:"offsetHeight",clientLength:"clientHeight",positionOffset:"offsetTop",lengthName:"height",offsetName:"top",eventPosition:"clientY",delta:i.y},o);!function(t){t.Beginning="Beginning",t.Middle="Middle",t.End="End",t.None="None"}(l||(l={}));var d=function(t,e){return e?t<.01?l.Beginning:1-t<.01?l.End:l.Middle:l.None}},876:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o,r=n(11),i=n(30),s=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t){function e(n){var o,r=t.call(this,n)||this;return r.eventsToSend=((o={})[e.SendEvent.HOVER]=!1,o[e.SendEvent.CLICK]=!1,o[e.SendEvent.BUTTON]=!1,o),r.setRef=function(t){return r.mouseThroughElement=t},r.onHoverEvent=function(t){switch(t.type){case"mousemove":r.props.onMouseMove&&r.props.onMouseMove(t);break;case"mouseenter":r.props.onMouseEnter&&r.props.onMouseEnter(t);break;case"mouseleave":r.props.onMouseLeave&&r.props.onMouseLeave(t);break;case"pointermove":r.props.onMouseMove&&r.props.onMouseMove(t);break;case"pointerenter":r.props.onMouseEnter&&r.props.onMouseEnter(t);break;case"pointerleave":r.props.onMouseLeave&&r.props.onMouseLeave(t)}r.eventsToSend[e.SendEvent.HOVER]&&r.isValidTarget(t.target)&&r.sendEventThrough(t.type,t)},r.isValidTarget=function(t){return t===r.mouseThroughElement||r.props.includeChildrenEvents&&t.compareDocumentPosition(r.mouseThroughElement)&Node.DOCUMENT_POSITION_CONTAINS},r.onClick=function(t){r.props.onClick&&r.props.onClick(t),r.eventsToSend[e.SendEvent.CLICK]&&r.isValidTarget(t.target)&&(r.sendEventThrough("mousedown",t),window.setTimeout((function(){return r.sendEventThrough("mouseup",t)}),0))},r.onButtonEvent=function(t){switch(t.type){case"pointerdown":r.props.onPointerDown&&r.props.onPointerDown(t);break;case"pointerup":r.props.onPointerUp&&r.props.onPointerUp(t)}r.eventsToSend[e.SendEvent.BUTTON]&&r.isValidTarget(t.target)&&r.sendEventThrough(t.type,t)},r.onClick=r.onClick.bind(r),r.target=n.clickTarget||document.getElementsByTagName("canvas")[0],r.registerEvents(),r}return s(e,t),e.prototype.componentWillReceiveProps=function(t){Object(i.b)(this.props.sendEvents,t.sendEvents)&&this.registerEvents()},e.prototype.render=function(){return Object(r.h)("div",{id:this.props.id,ref:this.setRef,class:this.props.className,style:this.props.style||{},onMouseEnter:this.onHoverEvent,onMouseLeave:this.onHoverEvent,onMouseMove:this.onHoverEvent,onPointerEnter:this.onHoverEvent,onPointerLeave:this.onHoverEvent,onPointerMove:this.onHoverEvent,onMouseDown:this.onButtonEvent,onMouseUp:this.onButtonEvent,onPointerDown:this.onButtonEvent,onPointerUp:this.onButtonEvent,onClick:this.onClick},this.props.children)},e.prototype.registerEvents=function(){this.props.sendEvents.length&&(this.eventsToSend[e.SendEvent.CLICK]=this.props.sendEvents.indexOf(e.SendEvent.CLICK)>-1,this.eventsToSend[e.SendEvent.HOVER]=this.props.sendEvents.indexOf(e.SendEvent.HOVER)>-1,this.eventsToSend[e.SendEvent.BUTTON]=this.props.sendEvents.indexOf(e.SendEvent.BUTTON)>-1)},e.prototype.sendEventThrough=function(t,e){var n;try{n=window.PointerEvent?new PointerEvent(t,e):new MouseEvent(t,e)}catch(o){(n=document.createEvent("MouseEvents")).initMouseEvent(t,e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}this.target.dispatchEvent(n)},e}(r.Component);!function(t){!function(t){t[t.HOVER=1]="HOVER",t[t.CLICK=2]="CLICK",t[t.BUTTON=3]="BUTTON"}(t.SendEvent||(t.SendEvent={}))}(a||(a={}))},906:function(t,e,n){"use strict";var o,r=n(11),i=n(105),s=n(16),a=n(150),c=n(907),l=n(78),u=n(6),p=n(404),h=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},f=function(t){function e(e){var n=t.call(this,e)||this;return n.input=null,n.mobile=Object(u.n)(),n.handleOutsideClick=function(t){if(n.state.editing&&n.input){var e=n.getTextString(n.input.value,n.props.defaultText);n.stopEditing(e,!0)}},n.stopEditing=function(t,e){void 0===e&&(e=!0),n.setState({editing:!1}),e&&n.props.text!==t?(n.setState({currentText:t}),n.props.onEdited&&n.props.onEdited(t)):n.props.onCancelEditing&&n.props.onCancelEditing()},n.stopPropagation=function(t){t.stopPropagation()},n.resetWindowScroll=function(){n.props.suppressWindowScrollReset||n.context.engine.broadcast(new p.a)},n.startEditing=function(t){if(n.input){t&&t.stopPropagation();var e=n.props,o=e.onStartEditing,r=e.autoSelect,i=e.defaultText,s=n.state.currentText;n.setState({editing:!0}),o&&o(),n.input.focus(),(r||i&&n.input.select&&s===i)&&n.input.select()}},n.onKeyPress=function(t){if(!n.props.onKeyPress||!n.props.onKeyPress(t)){t.stopPropagation();var e=t.which||t.keyCode;if(!("keydown"===t.type&&e!==s.a.TAB||e!==s.a.RETURN&&e!==s.a.TAB||t.shiftKey)){t.preventDefault(),n.setState({editing:!1});var o=n.getTextString(t.target.value,n.props.defaultText);n.props.onEdited&&n.props.onEdited(o)}}},n.onInput=function(t){var e=t.target.value;n.setState({currentText:e}),n.props.onInput&&n.props.onInput(e)},n.setRef=function(t){n.input=t},n.state={editing:!1,currentText:n.props.text},n}return h(e,t),e.prototype.componentDidMount=function(){this.input&&(this.input.addEventListener("keypress",this.stopPropagation),this.input.addEventListener("keydown",this.stopPropagation),this.input.addEventListener("keyup",this.stopPropagation),this.props.closeOnFocusOut&&this.input.addEventListener("focusout",this.handleOutsideClick),this.mobile&&this.input.addEventListener("blur",this.resetWindowScroll),(this.props.editing||this.props.autofocus)&&this.startEditing())},e.prototype.componentWillUnmount=function(){this.input&&(this.input.removeEventListener("keypress",this.stopPropagation),this.input.removeEventListener("keydown",this.stopPropagation),this.input.removeEventListener("keyup",this.stopPropagation),this.props.closeOnFocusOut&&this.input.removeEventListener("focusout",this.handleOutsideClick),this.mobile&&this.input.removeEventListener("blur",this.resetWindowScroll),this.resetWindowScroll())},e.prototype.componentWillReceiveProps=function(t){if(t.editing&&!this.props.editing&&this.startEditing(),t.text!==this.props.text){var e=this.getTextString(t.text,t.defaultText);this.setState({currentText:e})}},e.prototype.componentDidUpdate=function(t,e){!e.editing&&this.state.editing&&this.input?this.input.focus():e.editing&&!this.state.editing&&this.resetWindowScroll()},e.prototype.getTextString=function(t,e){return""===t&&void 0!==e?e:t},e.prototype.getCurrentText=function(){return this.state.currentText},e.prototype.focusInput=function(){this.input&&this.input.focus()},e.prototype.getFractionalCounter=function(){if(this.props.maxLength&&this.props.fractionalCounter)return this.state.currentText.length+"/"+this.props.maxLength},e.prototype.render=function(){var t=this.state,e=t.editing,n=t.currentText,o=this.props,s=o.appendClass,a=o.hint,u=o.isDisabled,p=o.placeholder,h=o.noFocusedPlaceholder,d=o.clickToEdit,f=o.maxLength,b=o.tabIndex,g=o.textarea,y=o.readOnlyText,v=o.autocapitalize,m=o.fractionalCounter,O=o.showUnderline,E=o.className,w=!(n||!p||e&&h),_=w?p:void 0,L=!1!==d?this.startEditing:void 0,M=E||"",S={inputDiv:!0,editing:e};s&&Object.keys(s).length>0&&Object.assign(S,s);var j={ref:this.setRef,class:i(S),type:"text",value:n,placeholder:_,maxLength:f,onInput:this.onInput,onClick:this.props.propagateMouseEvent?void 0:this.stopPropagation,onKeyPress:this.onKeyPress,disabled:u,readonly:this.props.readOnlyMode,onKeyDown:this.onKeyPress,tabIndex:b,autocapitalize:v},T=Object(r.h)("div",{class:"current-text",onClick:L,"data-hint":a},n||p||"");return Object(r.h)("div",{class:i("modifiable-text",""+M,{editing:e,"fractional-counter":m,default:!n,"has-hint":!!a,"has-placeholder":w}),"data-hint":a,"data-fractional-counter":this.getFractionalCounter()},g?Object(r.h)(c.a,{name:"text-input",singleScrollDirection:l.b.vertical,forceHidden:!1},T):T,Object(r.h)(g?"textarea":"input",j),y&&Object(r.h)("div",{class:"read-only-text"},y),O&&Object(r.h)("div",{class:"editable-line"}))},e=d([a.b],e)}(r.Component);e.a=f},907:function(t,e,n){"use strict";var o,r=n(11),i=n(78),s=n(636),a=n(464),c=n(637),l=n(620),u=n(57),p=(n(928),n(105)),h=n(201),d=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(){return(f=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},b=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}};r.options.debounceRendering=requestAnimationFrame;var g=function(t){function e(e){var n=t.call(this,e)||this;n.horizontal=Object(i.f)(),n.vertical=Object(i.f)(),n.manuallyMoved=!1,n.scrollPosition={horizontal:i.c.Beginning,vertical:i.c.End},n.handleEvent=function(t){n.inputFilter.handleEvent(t)},n.getScrollableContainer=function(){return n.innerWrapper},n.getScrolledOffset=function(t){var e=i.e[t].scrollOffset;return n.innerWrapper[e]/n.state[t].childLength},n.state={horizontal:Object(i.g)(),vertical:Object(i.g)()},n.resizeSubscription=Object(h.c)(h.b.RESIZE,(function(){return n.handleExternalChange(h.b.RESIZE)})),n.scrollTo=n.scrollTo.bind(n),n.handlePressStart=n.handlePressStart.bind(n),n.handlePressMove=n.handlePressMove.bind(n),n.handleDragEnd=n.handleDragEnd.bind(n),n.handleDragStart=n.handleDragStart.bind(n),n.handleWheelEvent=n.handleWheelEvent.bind(n),n.handleClick=n.handleClick.bind(n),n.toggleVisibility=n.toggleVisibility.bind(n),n.hasManuallyMoved=n.hasManuallyMoved.bind(n),n.inputFilter=new l.a({handlePressStart:n.handlePressStart,handlePressMove:n.handlePressMove,handleDragStart:n.handleDragStart,handleDragEnd:n.handleDragEnd,handleClick:n.handleClick});var o=n.handleEvent;return window.PointerEvent||(window.addEventListener("mousemove",o),window.addEventListener("mouseleave",o),window.addEventListener("mouseup",o)),window.addEventListener("pointermove",o),window.addEventListener("pointerup",o),window.addEventListener("touchmove",o),window.addEventListener("touchend",o),window.addEventListener("touchcancel",o),n}return d(e,t),e.prototype.componentDidMount=function(){if(this.resizeSubscription.renew(),this.innerWrapper.addEventListener("wheel",this.handleWheelEvent,!0),this.props.thumbScrollingOnly)this.innerWrapper.addEventListener("click",this.handleClick);else{var t=this.handleEvent;this.innerWrapper.addEventListener("mousedown",t),this.innerWrapper.addEventListener("pointerdown",t),this.innerWrapper.addEventListener("touchstart",t)}this.firstChild=this.innerWrapper.firstElementChild,this.props.onScrollPositionChange&&this.props.onScrollPositionChange(),this.props.hasOwnProperty("suppressDrag")&&this.inputFilter.setEnabled(!!this.props.suppressDrag)},e.prototype.componentWillUnmount=function(){var t=this.handleEvent;this.resizeSubscription.cancel(),window.PointerEvent||(window.removeEventListener("mousemove",t),window.removeEventListener("mouseleave",t),window.removeEventListener("mouseup",t)),window.removeEventListener("pointermove",t),window.removeEventListener("touchmove",t),window.removeEventListener("pointerup",t),window.removeEventListener("touchend",t),window.removeEventListener("touchcancel",t),this.innerWrapper.removeEventListener("wheel",this.handleWheelEvent,!0),this.props.thumbScrollingOnly?this.innerWrapper.removeEventListener("click",this.handleClick):(this.innerWrapper.removeEventListener("mousedown",t),this.innerWrapper.removeEventListener("pointerdown",t),this.innerWrapper.removeEventListener("touchstart",t))},e.prototype.componentWillReceiveProps=function(t){t.suppressDrag!==this.props.suppressDrag&&(this.inputFilter.setEnabled(!!this.props.suppressDrag),this.props.suppressDrag&&(this.manuallyMoved=!1))},e.prototype.getSnapshotBeforeUpdate=function(){this.props.waitToUpdate||this.handleExternalChange()},e.prototype.componentDidUpdate=function(){var t=this;if(this.horizontal.animation||this.vertical.animation){var e={};for(var n in this.state){var o=n;this[o].animation&&(this[o].animation.isAnimating?e[Object(i.i)(o)]=this[o].animation.getUpdatedValue():this[o].animation=null)}Object.keys(e).length>0&&window.requestAnimationFrame((function(){t.innerWrapper&&t.scrollTo(e)}))}},e.prototype.scrollTo=function(t){var e,n;if(t.hasOwnProperty(i.a.x)||t.hasOwnProperty(i.a.y)){var o={};try{for(var r=b(this.getVisibleAxes(t)),s=r.next();!s.done;s=r.next()){var a=s.value,c=Object(i.h)(a),l=i.e[c].scrollOffset,u=t[a];if(void 0!==u){if(isNaN(u))return;this.innerWrapper[l]=Math.max(Math.min(1,u)*this.state[c].childLength,0),o[c]=f({},this.state[c],{scrollOffset:this.innerWrapper[l]})}}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}this.setState(o)}},e.prototype.animatedScrollTo=function(t,e){var n,o;if(t.hasOwnProperty(i.a.x)||t.hasOwnProperty(i.a.y))try{for(var r=b(this.getVisibleAxes(t)),s=r.next();!s.done;s=r.next()){var a=s.value,l=Object(i.h)(a),u=i.e[l].scrollOffset;this[l].animation=new c.a({duration:e||i.d,startValue:this.innerWrapper[u]/this.state[l].childLength,endValue:Math.max(0,Math.min(1,t[a]))})}}catch(t){n={error:t}}finally{try{s&&!s.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}},e.prototype.setScrollCenter=function(t){var e,n;if(t&&t.compareDocumentPosition(this.innerWrapper)&Node.DOCUMENT_POSITION_CONTAINS){this.scrollCenter=t;var o={},r={};try{for(var s=b(this.getVisibleAxes(this.state)),a=s.next();!a.done;a=s.next()){var c=a.value,l=Object(i.i)(c);o[l]=t[i.e[c].positionOffset]+t[i.e[c].offsetLength]/2;for(var u=t;u.parentElement&&u!==this.innerWrapper;)u=u.parentElement,o[l]+=u[i.e[c].positionOffset];var p=this.outerWrapper.parentElement[i.e[c].offsetLength];r[l]=(o[l]-p/2)/this.state[c].childLength}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}Object.keys(r).length>0&&this.animatedScrollTo(r)}},e.prototype.getVisibleAxes=function(t){var e=[];for(var n in t)(t[n]||"number"==typeof t[n])&&(n in i.a&&this.state[Object(i.h)(n)].isVisible?e.push(n):n in i.b&&this.state[n].isVisible&&e.push(n));return e},e.prototype.handleDragStart=function(){delete this.scrollCenter,this.hasManuallyMoved()},e.prototype.handlePressStart=function(){this.horizontal.dragStartScroll=this.innerWrapper.scrollLeft,this.vertical.dragStartScroll=this.innerWrapper.scrollTop},e.prototype.handlePressMove=function(t){var e,n,o={};try{for(var r=b(this.getVisibleAxes(t)),s=r.next();!s.done;s=r.next()){var a=s.value,c=Object(i.h)(a);o[a]=(t[a]+this[c].dragStartScroll)/this.state[c].childLength}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}this.scrollTo(o)},e.prototype.handleWheelEvent=function(t){this.props.singleScrollDirection===i.b.horizontal&&0===t.deltaX&&0!==t.deltaY?(this.handlePressStart(),this.handlePressMove({x:t.deltaY,y:0})):(this.hasManuallyMoved(),this.handleExternalChange())},e.prototype.handleClick=function(t){this.props.handleClick&&this.props.handleClick(t)},e.prototype.toggleVisibility=function(t){var e=this;return function(n){var o=f({},e.state[t],{isVisible:n});if(Object(a.a)(e.state[t],o)){var r={};r[t]=o,e.setState(r),e.props.onScrollbarVisibilityChange&&e.props.onScrollbarVisibilityChange()}}},e.prototype.toggleScrollPosition=function(t){var e=this;return function(n){e.scrollPosition[t]=n,e.props.onScrollPositionChange&&e.props.onScrollPositionChange(n)}},e.prototype.handleDragEnd=function(t,e){var n,o;try{for(var r=b(this.getVisibleAxes(t)),s=r.next();!s.done;s=r.next()){var a=s.value,l=Object(i.h)(a),p=t[a]/e,h=Math.min(i.d,Math.abs(i.d*p)),d=this.innerWrapper[i.e[l].scrollOffset],f=p*h/2;this[l].animation=new c.a({duration:h,startValue:d/this.state[l].childLength,endValue:Math.max(0,Math.min((d+f)/this.state[l].childLength,1)),easingFunction:u.h})}}catch(t){n={error:t}}finally{try{s&&!s.done&&(o=r.return)&&o.call(r)}finally{if(n)throw n.error}}this.setState({})},e.prototype.handleExternalChange=function(t){this.scrollCenter&&t&&t===h.b.RESIZE&&this.setScrollCenter(this.scrollCenter);var e={};for(var n in this.state){var o=n,r=i.e[o].clientLength,s=f({},this.state[o],{wrapperLength:Number(this.innerWrapper&&this.innerWrapper[r])||1,childLength:Number(this.firstChild&&this.firstChild[r])||1,scrollOffset:this.innerWrapper&&this.innerWrapper[i.e[o].scrollOffset]});Object(a.a)(this.state[o],s)&&(e[o]=s)}Object.keys(e).length>0&&this.setState(e)},e.prototype.hasManuallyMoved=function(){this.manuallyMoved=!0,this.props.onScrolled&&this.props.onScrolled()},e.prototype.resetManuallyMoved=function(){this.manuallyMoved=!1},e.prototype.render=function(){var t=this,e=this.props,n=e.scrollbarHeight,o=e.singleScrollDirection,a=e.name,c=e.children,l=e.forceHidden,u={"max-height":n||""},h=o?o+"Only":"dual-scroll";return Object(r.h)("div",{class:p("outerScrollbarWrapper",h,"scrollbar-"+a),ref:function(e){t.outerWrapper=e},style:u},Object(r.h)("div",{class:"innerScrollbarWrapper",ref:function(e){t.innerWrapper=e}},Object(r.h)("div",{class:"paddingScrollbarWrapper"},c)),o!==i.b.vertical&&Object(r.h)(s.a,{direction:i.b.horizontal,ref:function(e){t.horizontal.scrollbar=e},wrapperLength:this.state.horizontal.wrapperLength,childLength:this.state.horizontal.childLength,scrollOffset:this.state.horizontal.scrollOffset,scrollTo:this.scrollTo,onVisibilityChange:this.toggleVisibility(i.b.horizontal),onScrollPositionChange:this.toggleScrollPosition(i.b.horizontal),forceHidden:l,onThumbDrag:this.hasManuallyMoved}),o!==i.b.horizontal&&Object(r.h)(s.a,{direction:i.b.vertical,ref:function(e){t.vertical.scrollbar=e},wrapperLength:this.state.vertical.wrapperLength,childLength:this.state.vertical.childLength,scrollOffset:this.state.vertical.scrollOffset,scrollTo:this.scrollTo,onVisibilityChange:this.toggleVisibility(i.b.vertical),onScrollPositionChange:this.toggleScrollPosition(i.b.vertical),forceHidden:l,onThumbDrag:this.hasManuallyMoved}))},e}(r.Component);e.a=g},908:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return h}));var o,r=n(5),i=n(281),s=n(10),a=n(345),c=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}c((o=o.apply(t,e||[])).next())}))},u=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},p=function(t){function e(e,n){var o=t.call(this)||this;o.id="NAVIGATE_TO_MATTERTAG";var r=Object(i.a)(n)||s.a.Interpolate;return o.payload={sid:e,transition:r},o}return c(e,t),e}(r.a),h=function(t,e,n){return l(void 0,void 0,void 0,(function(){var o=this;return u(this,(function(r){return n.addCommandToInterface({version:"3.x",namespace:"Mattertag",name:"navigateToTag",args:["sid","transitionType"]},(function(t){return new p(t.sid,t.transitionType)})),n.addEnumToInterface({version:"3.x",namespace:"Mattertag",name:"Transition",values:i.b}),t.getModule(a.default).then((function(t){return e.addBinding(p,(function(e){return l(o,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.navigateToTag(e.sid,e.transition)];case 1:return n.sent(),[2,e.sid];case 2:throw n.sent(),Error("Could not move to tag with sid "+e.sid);case 3:return[2]}}))}))}))})),[2]}))}))}},909:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return p}));var o,r=n(5),i=n(35),s=n(116),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function s(t){try{c(o.next(t))}catch(t){i(t)}}function a(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}c((o=o.apply(t,e||[])).next())}))},l=function(t,e){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},u=function(t){function e(e){var n=t.call(this)||this;return n.id="SHOW_ALL_FLOORS",n.payload=e,n}return a(e,t),e}(r.a),p=function(t,e,n){t.market.waitForData(i.b).then((function(n){return e.addBinding(u,(function(e){return c(void 0,void 0,void 0,(function(){var o;return l(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),o="boolean"==typeof e.moveCamera&&!e.moveCamera,[4,t.commandBinder.issueCommand(new s.a(-1,o))];case 1:return r.sent(),[2,n.currentFloor];case 2:throw r.sent(),Error("Could not show all floors");case 3:return[2]}}))}))}))})),n.addCommandToInterface({version:"3.x",namespace:"Floor",name:"showAll",args:["moveCamera"]},(function(t){return new u(t)}))}},910:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o,r=n(5),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(){return(s=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=function(t){function e(e){var n=t.call(this)||this;return n.payload=s({},e),n}return i(e,t),e}(r.a)},911:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var o,r=n(11),i=n(150),s=n(7),a=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},l=function(t){function e(e){var o=t.call(this,e)||this;return o.strokePattern=[0,100],o.strokeOffset=0,o.innerRadius=15.92,o.strokeWidth=1,o.drawRadius=o.innerRadius+o.strokeWidth/2,o.updateSvgAttributes(e),o.elementId=o.props.id||"circle-progress-"+n.id++,o}var n;return a(e,t),n=e,e.prototype.componentWillReceiveProps=function(t){this.updateSvgAttributes(t)},e.prototype.updateSvgAttributes=function(t){this.strokeWidth=t.barWidth||this.strokeWidth,this.innerRadius=t.innerRadius||this.innerRadius,this.drawRadius=this.innerRadius+this.strokeWidth/2;var e=2*this.drawRadius*Math.PI;this.strokeOffset=e*(t.startPosition||this.strokeOffset),this.strokePattern[0]=e*Object(s.e)(t.progress,0,100)/100,this.strokePattern[1]=e-this.strokePattern[0]},e.prototype.render=function(){var t=2*(this.innerRadius+this.strokeWidth),e=t/2;return Object(r.h)("svg",{id:this.elementId,class:this.props.appendClass,viewBox:-e+" "+-e+" "+t+" "+t},Object(r.h)("circle",{class:"bar-bg",cx:"0",cy:"0",r:this.drawRadius,transform:"rotate(-90) "+(this.props.ccw?"scale(-1 1)":""),"stroke-dasharray":this.strokePattern[1]+" "+this.strokePattern[0],"stroke-dashoffset":this.strokeOffset-this.strokePattern[0],"stroke-width":this.strokeWidth,fill:"none"}),Object(r.h)("circle",{class:"progress",cx:"0",cy:"0",r:this.drawRadius,transform:"rotate(-90) "+(this.props.ccw?"scale(-1 1)":""),"stroke-dasharray":this.strokePattern[0]+" "+this.strokePattern[1],"stroke-width":this.strokeWidth,fill:"none"}),this.props.children)},e.id=0,e=n=c([i.b],e)}(r.Component)},912:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var o=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},r=function(){function t(t,e){this.settingsData=t,this.settings=e,this.cache={}}return t.prototype.apply=function(){var t,e;this.cache={};try{for(var n=o(Object.keys(this.settings)),r=n.next();!r.done;r=n.next()){var i=r.value,s=this.settingsData.tryGetProperty(i,void 0);s!==this.settings[i]&&(this.cache[i]=s,this.settingsData.setProperty(i,this.settings[i]))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.reset=function(){var t,e;try{for(var n=o(Object.keys(this.cache)),r=n.next();!r.done;r=n.next()){var i=r.value,s=this.cache[i];this.settingsData.setProperty(i,void 0!==s&&s)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.cache={}},t.prototype.toggle=function(t){t?this.apply():this.reset()},t}()},913:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o,r=n(9),i=(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),s=function(t){function e(e){var n=t.call(this)||this;return n.open=e,n}return i(e,t),e}(r.a)},928:function(t,e,n){}}]);